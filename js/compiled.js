var m=void 0,p=null;function aa(){return function(){}}function ba(a){return function(){return this[a]}}function ca(a){return function(){return a}}var r,t=this;function da(){}
function ea(a){var c=typeof a;if(c=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if(b=="[object Window]")return"object";if(b=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(b=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(c=="function"&&typeof a.call=="undefined")return"object";return c}function fa(a){return a[ia]||(a[ia]=++ja)}var ia="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ja=0;function oa(a){return a.call.apply(a.bind,arguments)}
function pa(a,c){var b=c||t;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}else return function(){return a.apply(b,arguments)}}function ka(){ka=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?oa:pa;return ka.apply(p,arguments)}var na=Date.now||function(){return+new Date};
function w(a,c){function b(){}b.prototype=c.prototype;a.ae=c.prototype;a.prototype=new b};function qa(a,c){for(var b=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(c).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;b==0&&g<f;g++){var h=d[g]||"",j=e[g]||"",i=RegExp("(\\d*)(\\D*)","g"),k=RegExp("(\\d*)(\\D*)","g");do{var n=i.exec(h)||["","",""],l=k.exec(j)||["","",""];if(n[0].length==0&&l[0].length==0)break;b=ra(n[1].length==0?0:parseInt(n[1],10),l[1].length==0?0:parseInt(l[1],10))||ra(n[2].length==0,l[2].length==0)||ra(n[2],l[2])}while(b==
0)}return b}function ra(a,c){if(a<c)return-1;else if(a>c)return 1;return 0};var ua=Array.prototype,va=ua.indexOf?function(a,c,b){return ua.indexOf.call(a,c,b)}:function(a,c,b){b=b==p?0:b<0?Math.max(0,a.length+b):b;if(typeof a=="string"){if(typeof c!="string"||c.length!=1)return-1;return a.indexOf(c,b)}for(;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1};function wa(a,c){this.x=a!==m?a:0;this.y=c!==m?c:0}wa.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function xa(a,c){this.x=a;this.y=c}w(xa,wa);function x(a){return Math.sqrt(a.x*a.x+a.y*a.y)}xa.prototype.scale=function(a){this.x*=a;this.y*=a;return this};xa.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};function ya(a,c){return a.x*c.x+a.y*c.y};function z(a,c){a===m&&(a=0);this.x=a;c===m&&(c=0);this.y=c}w(z,xa);r=z.prototype;r.ka=function(){this.y=this.x=0};r.g=function(a,c){this.x=a;this.y=c};function A(a,c){a.x=c.x;a.y=c.y}r.td=function(){return new z(this.x,this.y)};function za(a,c){var b=a.x;a.x=c.a.x*b+c.b.x*a.y;a.y=c.a.y*b+c.b.y*a.y}r.Xb=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};r.uc=function(){return isFinite(this.x)&&isFinite(this.y)};function Aa(a,c){return new z(a.x+c.x,a.y+c.y)}
function Ba(a,c){return new z(a.x-c.x,a.y-c.y)};function F(){this.A=new z;this.F=new z}F.prototype.uc=function(){var a=this.F.x,c=this.F.y;a=this.F.x;c=this.F.y;a-=this.A.x;c-=this.A.y;return a=(a=a>=0&&c>=0)&&this.A.uc()&&this.F.uc()};var Ca=Math.PI,Da=2/180*Ca,Ea=8/180*Ca,Fa=2/180/1;function H(){this.qc=[];this.G=p;for(var a=0;a<64;a++)this.qc[a]=p;this.position=new z(0,0);this.rotation=0;this.af=new z(0,0);this.Xe=this.$e=this.yd=0;this.We=!0;this.Ye=!1;this.of=!1}function J(a,c){for(var b=0;b<64;++b)if(a.qc[b]==p){a.qc[b]=c;break}};function K(a,c,b){a==p&&(a=0);this.a=new z;this.b=new z;if(c!=p&&b!=p){A(this.a,c);A(this.b,b)}else{c=Math.cos(a);a=Math.sin(a);this.a.x=c;this.b.x=-a;this.a.y=a;this.b.y=c}}r=K.prototype;r.g=function(a){var c=Math.cos(a);a=Math.sin(a);this.a.x=c;this.b.x=-a;this.a.y=a;this.b.y=c};r.td=function(){return new K(0,this.a,this.b)};function Ga(a,c){A(a.a,c.a);A(a.b,c.b)}function Ha(a,c){a.a.x+=c.a.x;a.a.y+=c.a.y;a.b.x+=c.b.x;a.b.y+=c.b.y}r.ka=function(){this.a.x=0;this.b.x=0;this.a.y=0;this.b.y=0};
function Ia(a,c){var b=a.a.x,d=a.b.x,e=a.a.y,f=a.b.y,g=b*f-d*e;g=1/g;c.a.x=g*f;c.b.x=-g*d;c.a.y=-g*e;c.b.y=g*b}r.wd=function(a,c,b){var d=this.a.x,e=this.b.x,f=this.a.y,g=this.b.y,h=d*g-e*f;h=1/h;a.x=h*(g*c-e*b);a.y=h*(d*b-f*c);return a};r.Xb=function(){this.a.Xb();this.b.Xb()};function Ja(a,c){this.d=new K;this.c=new z;this.$a=a.G;this.la=a.vb;this.na=a.gb;this.z=c;this.aa=L;this.ic=0;this.ib=a.ib;this.qb=a.qb;this.hc=a.Vc}Ja.prototype.Tc=aa();Ja.prototype.$b=ba("p");Ja.prototype.Yb=function(){if(this.aa!=L){this.z.Q.Qa.Yb(this.aa);this.aa=L}};Ja.prototype.xd=aa();function N(){this.type=-1;this.G=p;this.Pa=new z(0,0);this.zc=0;this.vb=0.2;this.Ia=this.gb=0;this.ib=1;this.qb=65535;this.Vc=0}
N.prototype.be=function(a){a.ba=new z(0,0);if(this.Ia==0){a.Va=0;a.ba.g(0,0);a.Fb=0}switch(this.type){case 0:a.Va=this.Ia*Ca*this.rb*this.rb;a.ba.g(0,0);a.Fb=0.5*a.Va*this.rb*this.rb;break;case 2:var c=this.Cb,b=this.rc,d=this.Ia,e=new z;e.ka();for(var f=0,g=0,h=new z(0,0),j=1/3,i=0;i<b;++i){var k=h,n=c[i],l=i+1<b?c[i+1]:c[0],o=Ba(n,k),s=Ba(l,k),v=o.x*s.y-o.y*s.x,u=0.5*v;f+=u;var y=new z;A(y,k);y.add(n);y.add(l);y.scale(j*u);e.add(y);n=k.x;k=k.y;l=o.x;o=o.y;u=s.x;s=s.y;g+=v*(j*(0.25*(l*l+u*l+u*u)+
(n*l+n*u))+0.5*n*n+(j*(0.25*(o*o+s*o+s*s)+(k*o+k*s))+0.5*k*k))}a.Va=d*f;e.scale(1/f);a.ba=e;g=d*(g-f*ya(e,e));a.Fb=g;break;default:a.Va=0;a.ba.g(0,0);a.Fb=0}};N.prototype.ib=0;N.prototype.qb=0;N.prototype.Vc=0;function Ka(){N.call(this);this.type=1;this.R=new z(1,1)}w(Ka,N);Ka.prototype.be=function(a){a.ba=new z(0,0);if(this.Ia==0){a.Va=0;a.ba.g(0,0);a.Fb=0}a.Va=4*this.Ia*this.R.x*this.R.y;a.ba.g(0,0);a.Fb=a.Va/3*ya(this.R,this.R)};function La(){N.call(this);this.type=0;this.rb=1}w(La,N);function Na(){this.Va=this.Fb=0;this.ba=new z(0,0)};function O(a,c){return new z(a.a.x*c.x+a.b.x*c.y,a.a.y*c.x+a.b.y*c.y)}function P(a,c,b){return Math.max(c,Math.min(a,b))};function Oa(a,c,b){this.d=new K;this.c=new z;this.$a=a.G;this.la=a.vb;this.na=a.gb;this.z=c;this.aa=L;this.ic=0;this.ib=a.ib;this.qb=a.qb;this.hc=a.Vc;this.Ra=new z;this.Ra.g(a.Pa.x-b.x,a.Pa.y-b.y);this.ya=0;this.ga=a.rb;Ga(this.d,this.z.d);a=this.d.a.x*this.Ra.x+this.d.b.x*this.Ra.y;c=this.d.a.y*this.Ra.x+this.d.b.y*this.Ra.y;this.c.x=this.z.c.x+a;this.c.y=this.z.c.y+c;this.ic=Math.sqrt(a*a+c*c)+this.ga;a=new F;a.A.g(this.c.x-this.ga,this.c.y-this.ga);a.F.g(this.c.x+this.ga,this.c.y+this.ga);c=this.z.Q.Qa;
this.aa=Pa(c,a)?Qa(c,a,this):L;this.aa==L&&Ra(this.z)}w(Oa,Ja);Oa.prototype.xd=function(a,c,b,d){Ga(this.d,d);this.c.x=d.a.x*this.Ra.x+d.b.x*this.Ra.y+b.x;this.c.y=d.a.y*this.Ra.x+d.b.y*this.Ra.y+b.y;if(this.aa!=L){b=a.x+(c.a.x*this.Ra.x+c.b.x*this.Ra.y);c=a.y+(c.a.y*this.Ra.x+c.b.y*this.Ra.y);d=Math.max(b,this.c.x);var e=Math.max(c,this.c.y);a=new F;a.A.g(Math.min(b,this.c.x)-this.ga,Math.min(c,this.c.y)-this.ga);a.F.g(d+this.ga,e+this.ga);b=this.z.Q.Qa;Pa(b,a)?Sa(b,this.aa,a):Ra(this.z)}};
Oa.prototype.Tc=function(a){if(this.aa!=L){a.Yb(this.aa);var c=new F;c.A.g(this.c.x-this.ga,this.c.y-this.ga);c.F.g(this.c.x+this.ga,this.c.y+this.ga);this.aa=Pa(a,c)?Qa(a,c,this):L;this.aa==L&&Ra(this.z)}};function Ta(){this.Ba=new K;this.ba=new z;this.R=new z};function Ua(a,c,b){this.d=new K;this.c=new z;this.$a=a.G;this.la=a.vb;this.na=a.gb;this.z=c;this.aa=L;this.ic=0;this.ib=a.ib;this.qb=a.qb;this.hc=a.Vc;this.Fa=new F;this.ja=new K;this.xa=new z;this.r=new Ta;var d=0,e;c=new F;this.s=Array(8);this.Nb=Array(8);this.Za=Array(8);this.ya=2;var f=new K(a.zc);if(a.type==1){this.xa.x=a.Pa.x-b.x;this.xa.y=a.Pa.y-b.y;this.Na=4;b=a.R.x;e=a.R.y;d=Math.max(0,b-0.3);var g=Math.max(0,e-0.3);a=this.s[0]=new z;a.x=f.a.x*b+f.b.x*e;a.y=f.a.y*b+f.b.y*e;a=this.s[1]=new z;
a.x=f.a.x*-b+f.b.x*e;a.y=f.a.y*-b+f.b.y*e;a=this.s[2]=new z;a.x=f.a.x*-b+f.b.x*-e;a.y=f.a.y*-b+f.b.y*-e;a=this.s[3]=new z;a.x=f.a.x*b+f.b.x*-e;a.y=f.a.y*b+f.b.y*-e;a=this.Nb[0]=new z;a.x=f.a.x*d+f.b.x*g;a.y=f.a.y*d+f.b.y*g;a=this.Nb[1]=new z;a.x=f.a.x*-d+f.b.x*g;a.y=f.a.y*-d+f.b.y*g;a=this.Nb[2]=new z;a.x=f.a.x*-d+f.b.x*-g;a.y=f.a.y*-d+f.b.y*-g;a=this.Nb[3]=new z;a.x=f.a.x*d+f.b.x*-g;a.y=f.a.y*d+f.b.y*-g}else{this.Na=a.rc;d=a.Cb;e=a.rc;for(var h=g=0,j=0,i=1/3,k=0;k<e;++k){var n=d[k].x,l=d[k].y,o=
k+1<e?d[k+1].x:d[0].x,s=k+1<e?d[k+1].y:d[0].y,v=0.5*((n-0)*(s-0)-(l-0)*(o-0));j+=v;g+=v*i*(0+n+o);h+=v*i*(0+l+s)}g*=1/j;h*=1/j;Va.g(g,h);g=Va.x;h=Va.y;this.xa.x=a.Pa.x+(f.a.x*g+f.b.x*h)-b.x;this.xa.y=a.Pa.y+(f.a.y*g+f.b.y*h)-b.y;for(d=0;d<this.Na;++d){this.s[d]=new z;this.Nb[d]=new z;b=a.Cb[d].x-g;e=a.Cb[d].y-h;this.s[d].x=f.a.x*b+f.b.x*e;this.s[d].y=f.a.y*b+f.b.y*e;b=this.s[d].x;e=this.s[d].y;j=Math.sqrt(b*b+e*e);if(j>Number.MIN_VALUE){b*=1/j;e*=1/j}this.Nb[d].x=this.s[d].x-0.3*b;this.Nb[d].y=this.s[d].y-
0.3*e}}a=f=Number.MAX_VALUE;b=-Number.MAX_VALUE;e=-Number.MAX_VALUE;for(d=this.ic=0;d<this.Na;++d){g=this.s[d];f=Math.min(f,g.x);a=Math.min(a,g.y);b=Math.max(b,g.x);e=Math.max(e,g.y);this.ic=Math.max(this.ic,x(g))}d=this.r.Ba;d.a.x=1;d.b.x=0;d.a.y=0;d.b.y=1;this.r.ba.g((f+b)*0.5,(a+e)*0.5);this.r.R.g((b-f)*0.5,(e-a)*0.5);for(d=a=f=0;d<this.Na;++d){this.Za[d]=new z;f=d;a=d+1<this.Na?d+1:0;this.Za[d].x=this.s[a].y-this.s[f].y;this.Za[d].y=-(this.s[a].x-this.s[f].x);f=this.Za[d];a=x(f);if(!(a<Number.MIN_VALUE)){a=
1/a;f.x*=a;f.y*=a}}for(d=0;d<this.Na;++d);Ga(this.d,this.z.d);this.c.x=this.z.c.x+(this.d.a.x*this.xa.x+this.d.b.x*this.xa.y);this.c.y=this.z.c.y+(this.d.a.y*this.xa.x+this.d.b.y*this.xa.y);Wa.a.x=this.d.a.x*this.r.Ba.a.x+this.d.b.x*this.r.Ba.a.y;Wa.a.y=this.d.a.y*this.r.Ba.a.x+this.d.b.y*this.r.Ba.a.y;Wa.b.x=this.d.a.x*this.r.Ba.b.x+this.d.b.x*this.r.Ba.b.y;Wa.b.y=this.d.a.y*this.r.Ba.b.x+this.d.b.y*this.r.Ba.b.y;Wa.Xb();b=Wa.a.x*this.r.R.x+Wa.b.x*this.r.R.y;e=Wa.a.y*this.r.R.x+Wa.b.y*this.r.R.y;
f=this.c.x+(this.d.a.x*this.r.ba.x+this.d.b.x*this.r.ba.y);a=this.c.y+(this.d.a.y*this.r.ba.x+this.d.b.y*this.r.ba.y);c.A.x=f-b;c.A.y=a-e;c.F.x=f+b;c.F.y=a+e;f=this.z.Q.Qa;this.aa=Pa(f,c)?Qa(f,c,this):L;this.aa==L&&Ra(this.z)}w(Ua,Ja);Ua.prototype.Fa=new F;Ua.prototype.ja=new K;
Ua.prototype.xd=function(a,c,b,d){Ga(this.d,d);this.c.x=this.z.c.x+(d.a.x*this.xa.x+d.b.x*this.xa.y);this.c.y=this.z.c.y+(d.a.y*this.xa.x+d.b.y*this.xa.y);if(this.aa!=L){var e,f;e=c.a;f=c.b;var g=this.r.Ba.a,h=this.r.Ba.b;this.ja.a.x=e.x*g.x+f.x*g.y;this.ja.a.y=e.y*g.x+f.y*g.y;this.ja.b.x=e.x*h.x+f.x*h.y;this.ja.b.y=e.y*h.x+f.y*h.y;this.ja.Xb();e=this.xa.x+this.r.ba.x;f=this.xa.y+this.r.ba.y;g=a.x+(c.a.x*e+c.b.x*f);a=a.y+(c.a.y*e+c.b.y*f);e=this.ja.a.x*this.r.R.x+this.ja.b.x*this.r.R.y;f=this.ja.a.y*
this.r.R.x+this.ja.b.y*this.r.R.y;this.Fa.A.x=g-e;this.Fa.A.y=a-f;this.Fa.F.x=g+e;this.Fa.F.y=a+f;e=d.a;f=d.b;g=this.r.Ba.a;h=this.r.Ba.b;this.ja.a.x=e.x*g.x+f.x*g.y;this.ja.a.y=e.y*g.x+f.y*g.y;this.ja.b.x=e.x*h.x+f.x*h.y;this.ja.b.y=e.y*h.x+f.y*h.y;this.ja.Xb();e=this.xa.x+this.r.ba.x;f=this.xa.y+this.r.ba.y;g=b.x+(d.a.x*e+d.b.x*f);a=b.y+(d.a.y*e+d.b.y*f);e=this.ja.a.x*this.r.R.x+this.ja.b.x*this.r.R.y;f=this.ja.a.y*this.r.R.x+this.ja.b.y*this.r.R.y;this.Fa.A.x=Math.min(this.Fa.A.x,g-e);this.Fa.A.y=
Math.min(this.Fa.A.y,a-f);this.Fa.F.x=Math.max(this.Fa.F.x,g+e);this.Fa.F.y=Math.max(this.Fa.F.y,a+f);b=this.z.Q.Qa;Pa(b,this.Fa)?Sa(b,this.aa,this.Fa):Ra(this.z)}};
Ua.prototype.Tc=function(a){if(this.aa!=L){a.Yb(this.aa);var c=new K(0,O(this.d,this.r.Ba.a),O(this.d,this.r.Ba.b));c=new K(0,new z(Math.abs(c.a.x),Math.abs(c.a.y)),new z(Math.abs(c.b.x),Math.abs(c.b.y)));c=O(c,this.r.R);var b=O(this.d,this.r.ba);b.add(this.c);var d=new F;A(d.A,b);var e=d.A;e.x-=c.x;e.y-=c.y;A(d.F,b);d.F.add(c);this.aa=Pa(a,d)?Qa(a,d,this):L;this.aa==L&&Ra(this.z)}};var Va=new z,Wa=new K;function Xa(a,c){this.Ge=new K;this.c=new z;A(this.c,a.position);this.Vd=new z;A(this.Vd,this.c);var b=0,d,e;this.u=0;this.n=a.rotation;this.d=new K(0);this.d.g(this.n);this.ze=this.n;this.Q=c;this.mf=P(1-a.$e,0,1);this.ef=P(1-a.Xe,0,1);this.Dc=new z(0,0);this.La=this.Ae=0;var f=Array(64);for(b=0;b<64;b++)f[b]=new Na;this.Ub=0;this.wb=new z(0,0);for(b=0;b<64;++b){d=a.qc[b];if(d==p)break;e=f[b];d.be(e);this.La+=e.Va;this.wb.x+=e.Va*(d.Pa.x+e.ba.x);this.wb.y+=e.Va*(d.Pa.y+e.ba.y);++this.Ub}if(this.La>
0){this.wb.scale(1/this.La);this.c.add(O(this.d,this.wb))}else this.u|=Ya;for(b=this.Ac=0;b<this.Ub;++b){d=a.qc[b];e=f[b];this.Ac+=e.Fb;d=Ba(Aa(d.Pa,e.ba),this.wb);this.Ac+=e.Va*ya(d,d)}this.i=this.La>0?1/this.La:0;if(this.Ac>0&&a.of==!1)this.m=1/this.Ac;else this.m=this.Ac=0;this.f=Aa(a.af,new z(-a.yd*this.wb.y,a.yd*this.wb.x));this.l=a.yd;this.Bb=this.p=this.D=this.$=this.W=p;for(b=0;b<this.Ub;++b){d=a.qc[b];a:{e=d;f=this.wb;switch(e.type){case 0:e=new Oa(e,this,f);break a;case 1:case 2:e=new Ua(e,
this,f);break a}e=p}e.p=this.Bb;this.Bb=e}this.Lc=0;a.We&&(this.u|=Za);a.Ye&&(this.u|=Q);if(this.u&Q||this.i==0){this.f.g(0,0);this.l=0}this.$a=a.G}function $a(a){a.u&=~Q;a.Lc=0}Xa.prototype.$b=ba("p");function Ra(a){a.u|=ab;a.f.ka();a.l=0;for(a=a.Bb;a!=p;a=a.p)a.Yb()}var Ya=1,ab=2,Q=8,Za=16;function bb(){this.t=this.C=this.value=0}function cb(a,c){var b=a.value,d=a.C,e=a.t;a.value=c.value;a.C=c.C;a.t=c.t;c.value=b;c.C=d;c.t=e};function db(){this.bd=[0,0];this.qd=[0,0]};function eb(){this.Ea=this.Da=0};function fb(){}fb.prototype={ge:function(){this.status|=gb},Ke:function(){this.status&=~gb},ce:function(){return(this.status&gb)==gb},Se:function(){this.status|=hb},Le:function(){this.status&=~hb},Ne:function(){return(this.status&hb)==hb},Re:function(){this.status|=ib},de:function(){return(this.status&ib)==ib},Da:0,Ea:0,next:0,status:0};fb.prototype.je=p;var L=65535,gb=1,hb=2,ib=4;function jb(){var a=0;this.Ob=Array(8192);for(a=0;a<8192;++a)this.Ob[a]=65535;this.ma=Array(8192);for(a=0;a<8192;++a)this.ma[a]=new fb;this.Ta=Array(8192);for(a=0;a<8192;++a)this.Ta[a]=new eb;for(a=0;a<8192;++a){this.ma[a].Da=L;this.ma[a].Ea=L;this.ma[a].G=p;this.ma[a].status=0;this.ma[a].next=a+1}this.ma[8191].next=65535;this.Ud=0}
jb.prototype={Me:function(a,c){this.Qa=a;this.Id=c},sd:function(a,c){var b=this.Je(a,c);if(b.ce()==!1){b.ge();this.Ta[this.yb].Da=b.Da;this.Ta[this.yb].Ea=b.Ea;++this.yb}b.Le()},ud:function(a,c){var b=kb(this,a,c);if(b!=p){if(b.ce()==!1){b.ge();this.Ta[this.yb].Da=b.Da;this.Ta[this.yb].Ea=b.Ea;++this.yb}b.Se()}},Je:function(a,c){if(a>c){var b=a;a=c;c=b}b=lb(a,c)&8191;var d=mb(this,a,c,b);if(d!=p)return d;var e=this.gd;d=this.ma[e];this.gd=d.next;d.Da=a;d.Ea=c;d.status=0;d.G=p;d.next=this.Ob[b];this.Ob[b]=
e;++this.Ud;return d},Qe:function(a,c){if(a>c){var b=a;a=c;c=b}for(var d=lb(a,c)&8191,e=this.Ob[d],f=p;e!=65535;)if(this.ma[e].Da==a&&this.ma[e].Ea==c){b=e;f?f.next=this.ma[e].next:this.Ob[d]=this.ma[e].next;d=this.ma[b];e=d.G;d.next=this.gd;d.Da=L;d.Ea=L;d.G=p;d.status=0;this.gd=b;--this.Ud;return e}else{f=this.ma[e];e=f.next}return p},Qa:p,Id:p,gd:0,Ud:0,Ta:p,yb:0,Ob:p};function kb(a,c,b){if(c>b){var d=c;c=b;b=d}return mb(a,c,b,lb(c,b)&8191)}
function mb(a,c,b,d){for(d=a.Ob[d];d!=65535&&(a.ma[d].Da==c&&a.ma[d].Ea==b)==!1;)d=a.ma[d].next;if(d==65535)return p;return a.ma[d]}
jb.prototype.sc=function(){var a=0,c=0,b=this.Qa.Aa,d=[];for(a=0;a<this.yb;++a){var e=kb(this,this.Ta[a].Da,this.Ta[a].Ea);e.Ke();var f=b[e.Da],g=b[e.Ea];if(e.Ne()){e.de()==!0&&this.Id.fe(f.G,g.G,e.G);this.Ta[c].Da=e.Da;this.Ta[c].Ea=e.Ea;++c}else if(e.de()==!1){e.je=this.Id.ee(f.G,g.G);d.push(e.je);e.Re()}}for(a=0;a<c;++a)this.Qe(this.Ta[a].Da,this.Ta[a].Ea);this.yb=0;return d};
function lb(a,c){var b=c<<16&4294901760|a;b=~b+(b<<15&4294934528);b^=b>>12&1048575;b+=b<<2&4294967292;b^=b>>4&268435455;b*=2057;b^=b>>16&65535;return b};function nb(){this.wa=[0,0];this.Ga=[0,0];this.timeStamp=this.Wb=0;this.G=p}nb.prototype={$b:function(){return this.wa[0]},vd:function(a){this.wa[0]=a},uc:function(){return this.Wb!=65535}};function ob(a,c){this.fb=new jb;this.Aa=Array(8192);this.Xa=Array(2048);this.Kc=Array(1024);this.mc=new z;var b=0;this.fb.Me(this,c);this.za=a;for(b=this.Rb=0;b<1024;b++)this.Kc[b]=0;this.Xa=Array(2);for(b=0;b<2;b++){this.Xa[b]=Array(2048);for(var d=0;d<2048;d++)this.Xa[b][d]=new bb}b=a.F.x;d=a.F.y;b-=a.A.x;d-=a.A.y;this.mc.x=65535/b;this.mc.y=65535/d;for(b=0;b<1023;++b){d=new nb;this.Aa[b]=d;d.vd(b+1);d.timeStamp=0;d.Wb=65535;d.G=p}d=new nb;this.Aa[1023]=d;d.vd(L);d.timeStamp=0;d.Wb=65535;d.G=p;
this.hd=0;this.Nc=1;this.Ab=0}function Pa(a,c){var b,d,e,f;b=c.A.x;d=c.A.y;b-=a.za.F.x;d-=a.za.F.y;e=a.za.A.x;f=a.za.A.y;e-=c.F.x;f-=c.F.y;b=Math.max(b,e);d=Math.max(d,f);return Math.max(b,d)<0}
ob.prototype.Yb=function(a){for(var c=this.Aa[a],b=2*this.Rb,d=0;d<2;++d){var e=this.Xa[d],f=c.wa[d],g=c.Ga[d],h=e[f].value,j=e[g].value,i=[],k=0,n=g-f-1,l,o;for(k=0;k<n;k++){i[k]=new bb;l=i[k];o=e[f+1+k];l.value=o.value;l.C=o.C;l.t=o.t}n=i.length;var s=f;for(k=0;k<n;k++){o=i[k];l=e[s+k];l.value=o.value;l.C=o.C;l.t=o.t}i=[];n=b-g-1;for(k=0;k<n;k++){i[k]=new bb;l=i[k];o=e[g+1+k];l.value=o.value;l.C=o.C;l.t=o.t}n=i.length;s=g-1;for(k=0;k<n;k++){o=i[k];l=e[s+k];l.value=o.value;l.C=o.C;l.t=o.t}n=b-2;
for(i=f;i<n;++i){k=this.Aa[e[i].C];(e[i].value&1)==0?k.wa[d]=i:k.Ga[d]=i}for(n=g-1;f<n;++f)e[f].t--;this.vc([0],[0],h,j,e,b-2,d)}for(b=0;b<this.Ab;++b)this.fb.ud(a,this.Kc[b]);this.fb.sc();this.Ab=0;pb(this);c.G=p;c.Wb=65535;c.wa[0]=65535;c.wa[1]=65535;c.Ga[0]=65535;c.Ga[1]=65535;c.vd(this.hd);this.hd=a;--this.Rb};
function qb(a,c,b,d){var e=d.A.x,f=d.A.y;e=Math.min(e,a.za.F.x);f=Math.min(f,a.za.F.y);e=Math.max(e,a.za.A.x);f=Math.max(f,a.za.A.y);var g=d.F.x;d=d.F.y;g=Math.min(g,a.za.F.x);d=Math.min(d,a.za.F.y);g=Math.max(g,a.za.A.x);d=Math.max(d,a.za.A.y);c[0]=a.mc.x*(e-a.za.A.x)&65534;b[0]=a.mc.x*(g-a.za.A.x)&65535|1;c[1]=a.mc.y*(f-a.za.A.y)&65534;b[1]=a.mc.y*(d-a.za.A.y)&65535|1}
function rb(a,c,b){for(var d=0;d<2;++d){var e=a.Xa[d];if(c.bd[d]>e[b.Ga[d]].value)return!1;if(c.qd[d]<e[b.wa[d]].value)return!1}return!0}ob.prototype.vc=function(a,c,b,d,e,f,g){b=sb(e,f,b);d=sb(e,f,d);for(f=b;f<d;++f)(e[f].value&1)==0&&tb(this,e[f].C);if(b>0){f=b-1;for(var h=e[f].t;h;){if((e[f].value&1)==0&&b<=this.Aa[e[f].C].Ga[g]){tb(this,e[f].C);--h}--f}}a[0]=b;c[0]=d};function tb(a,c){var b=a.Aa[c];if(b.timeStamp<a.Nc){b.timeStamp=a.Nc;b.Wb=1}else{b.Wb=2;a.Kc[a.Ab]=c;++a.Ab}}
function pb(a){if(a.Nc==65535){for(var c=0;c<1024;++c)a.Aa[c].timeStamp=0;a.Nc=1}else++a.Nc}
function Sa(a,c,b){var d=0,e=0,f,g;f=0;var h;if(!(c==L||1024<=c)&&b.uc()!=!1){var j=2*a.Rb,i=a.Aa[c],k=new db;qb(a,k.bd,k.qd,b);var n=new db;for(d=0;d<2;++d){n.bd[d]=a.Xa[d][i.wa[d]].value;n.qd[d]=a.Xa[d][i.Ga[d]].value}for(d=0;d<2;++d){var l=a.Xa[d],o=i.wa[d],s=i.Ga[d],v=k.bd[d],u=k.qd[d],y=v-l[o].value,B=u-l[s].value;l[o].value=v;l[s].value=u;if(y<0)for(e=o;e>0&&v<l[e-1].value;){b=l[e];f=l[e-1];g=f.C;h=a.Aa[f.C];f.t++;if((f.value&1)==1==!0){rb(a,k,h)&&a.fb.sd(c,g);h.Ga[d]++;b.t++}else{h.wa[d]++;
b.t--}i.wa[d]--;cb(b,f);--e}if(B>0)for(e=s;e<j-1&&l[e+1].value<=u;){b=l[e];g=l[e+1];f=g.C;h=a.Aa[f];g.t++;if((g.value&1)==0==!0){rb(a,k,h)&&a.fb.sd(c,f);h.wa[d]--;b.t++}else{h.Ga[d]--;b.t--}i.Ga[d]++;cb(b,g);e++}if(y>0)for(e=o;e<j-1&&l[e+1].value<=v;){b=l[e];g=l[e+1];f=g.C;h=a.Aa[f];g.t--;if((g.value&1)==1){rb(a,n,h)&&a.fb.ud(c,f);h.Ga[d]--;b.t--}else{h.wa[d]--;b.t++}i.wa[d]++;cb(b,g);e++}if(B<0)for(e=s;e>0&&u<l[e-1].value;){b=l[e];f=l[e-1];g=f.C;h=a.Aa[g];f.t--;if((f.value&1)==0==!0){rb(a,n,h)&&
a.fb.ud(c,g);h.wa[d]++;b.t--}else{h.Ga[d]++;b.t++}i.Ga[d]--;cb(b,f);e--}}}}ob.prototype.sc=function(){return this.fb.sc()};
function Qa(a,c,b){var d=0,e,f=a.hd;e=a.Aa[f];a.hd=e.$b();e.Wb=0;e.G=b;b=2*a.Rb;e=[];var g=[];qb(a,e,g,c);for(c=0;c<2;++c){var h=a.Xa[c],j=0,i=0;j=[j];i=[i];a.vc(j,i,e[c],g[c],h,b,c);j=j[0];i=i[0];d=[];var k=0,n=b-i,l,o;for(k=0;k<n;k++){d[k]=new bb;l=d[k];o=h[i+k];l.value=o.value;l.C=o.C;l.t=o.t}n=d.length;var s=i+2;for(k=0;k<n;k++){o=d[k];l=h[s+k];l.value=o.value;l.C=o.C;l.t=o.t}d=[];n=i-j;for(k=0;k<n;k++){d[k]=new bb;l=d[k];o=h[j+k];l.value=o.value;l.C=o.C;l.t=o.t}n=d.length;s=j+1;for(k=0;k<n;k++){o=
d[k];l=h[s+k];l.value=o.value;l.C=o.C;l.t=o.t}++i;h[j].value=e[c];h[j].C=f;h[i].value=g[c];h[i].C=f;h[j].t=j==0?0:h[j-1].t;h[i].t=h[i-1].t;for(d=j;d<i;++d)h[d].t++;for(d=j;d<b+2;++d){j=a.Aa[h[d].C];(h[d].value&1)==0?j.wa[c]=d:j.Ga[c]=d}}++a.Rb;for(b=0;b<a.Ab;++b)a.fb.sd(f,a.Kc[b]);a.fb.sc();a.Ab=0;pb(a);return f}function sb(a,c,b){var d=0;for(c-=1;d<=c;){var e=Math.floor((d+c)/2);if(a[e].value>b)c=e-1;else if(a[e].value<b)d=e+1;else return e}return d};var ub=new (aa());function R(){this.next=this.prev=this.Ca=this.oa=p};function vb(){this.$d=this.le=this.zd=p};function wb(a,c){this.o=new R;this.q=new R;this.u=0;if(!a||!c)this.O=this.N=p;else{this.N=a;this.O=c;this.Ka=0;this.la=Math.sqrt(this.N.la*this.O.la);this.na=Math.max(this.N.na,this.O.na);this.p=this.D=p;this.o.Ca=p;this.o.prev=p;this.o.next=p;this.o.oa=p;this.q.Ca=p;this.q.prev=p;this.q.next=p;this.q.oa=p}}wb.prototype.Zb=ca(p);wb.prototype.$b=ba("p");wb.prototype.tc=aa();function xb(a){this.vf=a;this.Te=this.Ve=this.Ue=this.tf=0};function yb(){this.Hb=0;this.S=new xb(this)}yb.prototype.g=function(a){zb(this,a.Hb)};yb.prototype.td=function(){var a=new yb;zb(a,this.Hb);return a};function zb(a,c){a.Hb=c;a.S.Ve=a.Hb&255;a.S.uf=(a.Hb&65280)>>8&255;a.S.Ue=(a.Hb&16711680)>>16&255;a.S.Te=(a.Hb&4278190080)>>24&255};function Ab(){this.sb=new z;this.id=new yb};function Bb(a,c,b,d){var e=0,f=c[0].sb,g=c[1].sb,h=ya(b,c[0].sb)-d;b=ya(b,c[1].sb)-d;h<=0&&(a[e++]=c[0]);b<=0&&(a[e++]=c[1]);if(h*b<0){b=h/(h-b);d=a[e].sb;d.x=f.x+b*(g.x-f.x);d.y=f.y+b*(g.y-f.y);a[e].id=h>0?c[0].id:c[1].id;++e}return e}
function Cb(a,c,b){var d=a.s,e=b.Na,f=b.s,g=a.Za[c].x,h=a.Za[c].y,j=g,i=a.d;g=i.a.x*j+i.b.x*h;h=i.a.y*j+i.b.y*h;var k=g,n=h;i=b.d;j=k*i.a.x+n*i.a.y;n=k*i.b.x+n*i.b.y;k=j;j=0;i=Number.MAX_VALUE;for(var l=0;l<e;++l){var o=f[l];o=o.x*k+o.y*n;if(o<i){i=o;j=l}}i=a.d;e=a.c.x+(i.a.x*d[c].x+i.b.x*d[c].y);a=a.c.y+(i.a.y*d[c].x+i.b.y*d[c].y);i=b.d;c=b.c.x+(i.a.x*f[j].x+i.b.x*f[j].y);b=b.c.y+(i.a.y*f[j].x+i.b.y*f[j].y);c-=e;b-=a;return c*g+b*h}
function Db(a,c,b,d){var e=c.Na,f=b.c.x-c.c.x,g=b.c.y-c.c.y,h=f*c.d.a.x+g*c.d.a.y;g=f*c.d.b.x+g*c.d.b.y;f=0;for(var j=-Number.MAX_VALUE,i=0;i<e;++i){var k=c.Za[i].x*h+c.Za[i].y*g;if(k>j){j=k;f=i}}h=Cb(c,f,b);if(h>0&&d==!1)return h;i=f-1>=0?f-1:e-1;k=Cb(c,i,b);if(k>0&&d==!1)return k;var n=f+1<e?f+1:0,l=Cb(c,n,b);if(l>0&&d==!1)return l;j=g=0;if(k>h&&k>l){j=-1;g=i;i=k}else if(l>h){j=1;g=n;i=l}else{a[0]=f;return h}for(;;){f=j==-1?g-1>=0?g-1:e-1:g+1<e?g+1:0;h=Cb(c,f,b);if(h>0&&d==!1)return h;if(h>i){g=
f;i=h}else break}a[0]=g;return i}var Eb=new z;function Fb(){this.position=new z;this.id=new yb;this.pa=this.ia=this.bb=p};function Gb(){this.P=0;this.Y=Array(2);for(var a=0;a<2;a++)this.Y[a]=new Fb;this.B=new z};function Hb(a,c){this.o=new R;this.q=new R;this.u=0;if(!a||!c)this.O=this.N=p;else{this.N=a;this.O=c;this.Ka=0;this.la=Math.sqrt(this.N.la*this.O.la);this.na=Math.max(this.N.na,this.O.na);this.p=this.D=p;this.o.Ca=p;this.o.prev=p;this.o.next=p;this.o.oa=p;this.q.Ca=p;this.q.prev=p;this.q.next=p;this.q.oa=p;this.va=[new Gb];this.va[0].P=0;this.va[0].Y[0].ia=0;this.va[0].Y[0].pa=0}}w(Hb,wb);
Hb.prototype.tc=function(){var a=this.va[0],c=this.N,b=this.O;a.P=0;var d=b.c.x-c.c.x,e=b.c.y-c.c.y,f=d*d+e*e;c=c.ga+b.ga;if(!(f>c*c&&!1==!1)){if(f<Number.MIN_VALUE){f=-c;a.B.g(0,1)}else{var g=Math.sqrt(f);f=g-c;c=1/g;a.B.x=c*d;a.B.y=c*e}a.P=1;d=a.Y[0];zb(d.id,0);d.bb=f;d.position.x=b.c.x-b.ga*a.B.x;d.position.y=b.c.y-b.ga*a.B.y}this.Ka=this.va[0].P>0?1:0};Hb.prototype.Zb=ba("va");function Ib(a,c){return new Hb(a,c)};function Jb(a,c){this.o=new R;this.q=new R;this.u=0;if(!a||!c)this.O=this.N=p;else{this.N=a;this.O=c;this.Ka=0;this.la=Math.sqrt(this.N.la*this.O.la);this.na=Math.max(this.N.na,this.O.na);this.p=this.D=p;this.o.Ca=p;this.o.prev=p;this.o.next=p;this.o.oa=p;this.q.Ca=p;this.q.prev=p;this.q.next=p;this.q.oa=p;this.va=[new Gb];if(this.N.ya!=2)throw"Assert Failed!";if(this.O.ya!=0)throw"Assert Failed!";this.va[0].P=0;this.va[0].Y[0].ia=0;this.va[0].Y[0].pa=0}}w(Jb,wb);
Jb.prototype.tc=function(){a:{var a=this.va[0],c=this.N,b=this.O;a.P=0;var d,e,f;e=b.c.x-c.c.x;f=b.c.y-c.c.y;var g=c.d,h=e*g.a.x+f*g.a.y;f=e*g.b.x+f*g.b.y;e=h;var j=0,i=-Number.MAX_VALUE;h=b.ga;for(d=0;d<c.Na;++d){var k=c.Za[d].x*(e-c.s[d].x)+c.Za[d].y*(f-c.s[d].y);if(k>h)break a;if(k>i){i=k;j=d}}if(i<Number.MIN_VALUE){a.P=1;f=c.Za[j];a.B.x=g.a.x*f.x+g.b.x*f.y;a.B.y=g.a.y*f.x+g.b.y*f.y;d=a.Y[0];d.id.S.xc=j;d.id.S.bc=255;d.id.S.od=255;d.id.S.Bd=0;d.position.x=b.c.x-h*a.B.x;d.position.y=b.c.y-h*a.B.y;
d.bb=i-h}else{i=j+1<c.Na?j+1:0;var n=c.s[i].x-c.s[j].x;k=c.s[i].y-c.s[j].y;var l=Math.sqrt(n*n+k*k);n/=l;k/=l;if(l<Number.MIN_VALUE){e-=c.s[j].x;f-=c.s[j].y;c=Math.sqrt(e*e+f*f);e/=c;f/=c;if(!(c>h)){a.P=1;a.B.g(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f);d=a.Y[0];d.id.S.xc=255;d.id.S.bc=j;d.id.S.od=255;d.id.S.Bd=0;d.position.x=b.c.x-h*a.B.x;d.position.y=b.c.y-h*a.B.y;d.bb=c-h}}else{var o=(e-c.s[j].x)*n+(f-c.s[j].y)*k;d=a.Y[0];d.id.S.xc=255;d.id.S.bc=255;d.id.S.od=255;d.id.S.Bd=0;if(o<=0){n=c.s[j].x;c=c.s[j].y;
d.id.S.bc=j}else if(o>=l){n=c.s[i].x;c=c.s[i].y;d.id.S.bc=i}else{n=n*o+c.s[j].x;c=k*o+c.s[j].y;d.id.S.xc=j}e-=n;f-=c;c=Math.sqrt(e*e+f*f);e/=c;f/=c;if(!(c>h)){a.P=1;a.B.g(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f);d.position.x=b.c.x-h*a.B.x;d.position.y=b.c.y-h*a.B.y;d.bb=c-h}}}}this.Ka=this.va[0].P>0?1:0};Jb.prototype.Zb=ba("va");function Kb(a,c){return new Jb(a,c)};function Lb(a,c){this.o=new R;this.q=new R;this.u=0;if(!a||!c)this.O=this.N=p;else{this.N=a;this.O=c;this.Ka=0;this.la=Math.sqrt(this.N.la*this.O.la);this.na=Math.max(this.N.na,this.O.na);this.p=this.D=p;this.o.Ca=p;this.o.prev=p;this.o.next=p;this.o.oa=p;this.q.Ca=p;this.q.prev=p;this.q.next=p;this.q.oa=p;this.cd=new Gb;this.va=[new Gb];this.va[0].P=0}}w(Lb,wb);
Lb.prototype.tc=function(){for(var a=this.va[0],c=this.cd.Y,b=0;b<a.P;b++){var d=c[b],e=a.Y[b];d.ia=e.ia;d.pa=e.pa;d.id=e.id.td()}this.cd.P=a.P;b=this.N;var f=this.O;var g=a.P=0;c=[g];d=Db(c,b,f,!1);g=c[0];if(!(d>0&&!1==!1)){var h=0;c=[h];var j=Db(c,f,b,!1);h=c[0];if(!(j>0&&!1==!1)){c=e=0;if(j>0.98*d+0.0010){d=f;j=b;e=h;c=1}else{d=b;j=f;e=g;c=0}b=[new Ab,new Ab];f=e;g=j;var i=d.s;j=g.Na;h=g.s;var k=i[f+1==d.Na?0:f+1],n=k.x,l=k.y;k=i[f];n-=k.x;l-=k.y;k=n;n=l;l=-k;k=1/Math.sqrt(n*n+l*l);n*=k;l*=k;var o=
l;k=n;i=d.d;n=i.a.x*k+i.b.x*o;o=i.a.y*k+i.b.y*o;l=n;n=o;i=g.d;k=l*i.a.x+n*i.a.y;n=l*i.b.x+n*i.b.y;l=k;o=i=0;for(var s=Number.MAX_VALUE,v=0;v<j;++v){var u=v,y=v+1<j?v+1:0;k=h[y];var B=k.x,C=k.y;k=h[u];B-=k.x;C-=k.y;k=B;B=C;C=-k;k=1/Math.sqrt(B*B+C*C);B*=k;C*=k;k=B*l+C*n;if(k<s){s=k;i=u;o=y}}j=b[0];k=j.sb;A(k,h[i]);za(k,g.d);k.add(g.c);j.id.S.od=f;j.id.S.xc=i;j.id.S.bc=i;j=b[1];k=j.sb;A(k,h[o]);za(k,g.d);k.add(g.c);j.id.S.od=f;j.id.S.xc=i;j.id.S.bc=o;f=d.s;k=f[e];l=e+1<d.Na?f[e+1]:f[0];g=l.x-k.x;h=
l.y-k.y;n=g;i=d.d;g=i.a.x*n+i.b.x*h;h=i.a.y*n+i.b.y*h;e=1/Math.sqrt(g*g+h*h);g*=e;h*=e;e=g;f=h;n=e;e=f;f=-n;j=k.x;o=k.y;n=j;i=d.d;j=i.a.x*n+i.b.x*o;o=i.a.y*n+i.b.y*o;j+=d.c.x;o+=d.c.y;k=l.x;l=l.y;n=k;i=d.d;k=i.a.x*n+i.b.x*l;l=i.a.y*n+i.b.y*l;k+=d.c.x;l+=d.c.y;d=e*j+f*o;n=-(g*j+h*o);k=g*k+h*l;l=[new Ab,new Ab];j=[new Ab,new Ab];i=0;Eb.g(-g,-h);i=Bb(l,b,Eb,n);if(!(i<2)){Eb.g(g,h);i=Bb(j,l,Eb,k);if(!(i<2)){c?a.B.g(-e,-f):a.B.g(e,f);for(g=b=0;g<2;++g){h=j[g].sb;h=e*h.x+f*h.y-d;if(h<=0||!1==!0){k=a.Y[b];
k.bb=h;A(k.position,j[g].sb);k.id.g(j[g].id);k.id.S.Bd=c;++b}}a.P=b}}}}if(a.P>0){c=[!1,!1];for(b=0;b<a.P;++b){d=a.Y[b];d.ia=0;d.pa=0;e=d.id.key;for(f=0;f<this.cd.P;++f)if(c[f]!=!0){g=this.cd.Y[f];if(g.id.key==e){c[f]=!0;d.ia=g.ia;d.pa=g.pa;break}}}this.Ka=1}else this.Ka=0};Lb.prototype.Zb=ba("va");function Mb(a,c){return new Lb(a,c)};function Nb(a,c,b){S[c][b].zd=a;S[c][b].$d=!0;if(c!=b){S[b][c].zd=a;S[b][c].$d=!1}}var S=p,Ob=!1;function Pb(a,c){this.o=new R;this.q=new R;this.u=0;if(!a||!c)this.O=this.N=p;else{this.N=a;this.O=c;this.Ka=0;this.la=Math.sqrt(this.N.la*this.O.la);this.na=Math.max(this.N.na,this.O.na);this.p=this.D=p;this.o.Ca=p;this.o.prev=p;this.o.next=p;this.o.oa=p;this.q.Ca=p;this.q.prev=p;this.q.next=p;this.q.oa=p}}w(Pb,wb);Pb.prototype.tc=aa();Pb.prototype.Zb=ca(p);function Qb(){}Qb.prototype.ee=ca(p);Qb.prototype.fe=aa();function Rb(a){this.jc=new Pb;this.Q=a;this.Md=!1}w(Rb,Qb);
Rb.prototype.ee=function(a,c){var b=a,d=c,e=b.z,f=d.z;if((e.u&Ya)==Ya&&(f.u&Ya)==Ya)return this.jc;if(b.z==d.z)return this.jc;a:{for(var g=f.W;g!=p;g=g.next)if(g.oa==e){e=g.Lb.ta==!1;break a}e=!1}if(e)return this.jc;e=b.hc==d.hc&&b.hc!=0?b.hc>0:(b.qb&d.ib)!=0&&(b.ib&d.qb)!=0;if(e==!1)return this.jc;if(f.i==0){f=b;b=d;d=f}if(Ob==!1){S=Array(4);for(f=0;f<4;f++){S[f]=Array(4);for(e=0;e<4;e++)S[f][e]=new vb}Nb(Ib,0,0);Nb(Kb,2,0);Nb(Mb,2,2);Ob=!0}f=b.ya;e=d.ya;if(g=S[f][e].zd)if(S[f][e].$d)d=g(b,d);else{d=
g(d,b);for(b=0;b<d.Ka;++b){f=d.Zb()[b];f.B=new z(-f.B.x,-f.B.y)}}else d=p;if(d==p)return this.jc;else{d.D=p;d.p=this.Q.$;if(this.Q.$!=p)this.Q.$.D=d;this.Q.$=d;this.Q.Mb++}return d};Rb.prototype.fe=function(a,c,b){b!=p&&b!=this.jc&&(this.Md==!0?Sb(this,b):b.u|=2)};
function Sb(a,c){if(c.D)c.D.p=c.p;if(c.p)c.p.D=c.D;if(c==a.Q.$)a.Q.$=c.p;if(c.Ka>0){var b=c.N.z,d=c.O.z,e=c.o,f=c.q;$a(b);$a(d);if(e.prev)e.prev.next=e.next;if(e.next)e.next.prev=e.prev;if(e==b.$)b.$=e.next;e.prev=p;e.next=p;if(f.prev)f.prev.next=f.next;if(f.next)f.next.prev=f.prev;if(f==d.$)d.$=f.next;f.prev=p;f.next=p}--a.Q.Mb};function Tb(){this.Zc=new z;this.$c=new z;this.rd=this.bb=this.He=this.Yd=this.Pc=this.pa=this.ia=p};function Ub(){this.gb=this.vb=this.Z=this.V=this.Be=p;this.P=0;this.B=new z;this.Y=Array(2);for(var a=0;a<2;a++)this.Y[a]=new Tb};function Vb(a,c){this.dc=[];var b=0,d,e;for(b=this.cc=0;b<c;++b)this.cc+=a[b].Ka;for(b=0;b<this.cc;b++)this.dc[b]=new Ub;var f=0;for(b=0;b<c;++b){var g=a[b],h=g.N.z,j=g.O.z,i=g.Ka,k=g.Zb(),n=g.la;g=g.na;for(var l=h.f.x,o=h.f.y,s=j.f.x,v=j.f.y,u=h.l,y=j.l,B=0;B<i;++B){var C=k[B],D=C.B.x,M=C.B.y,G=this.dc[f];G.V=h;G.Z=j;G.Be=C;G.B.x=D;G.B.y=M;G.P=C.P;G.vb=n;G.gb=g;for(var T=0;T<G.P;++T){var E=C.Y[T],I=G.Y[T];I.ia=E.ia;I.pa=E.pa;I.bb=E.bb;var U=E.position.x-h.c.x,la=E.position.y-h.c.y,ma=E.position.x-
j.c.x;E=E.position.y-j.c.y;d=I.Zc;e=h.d;d.x=U*e.a.x+la*e.a.y;d.y=U*e.b.x+la*e.b.y;d=I.$c;e=j.d;d.x=ma*e.a.x+E*e.a.y;d.y=ma*e.b.x+E*e.b.y;d=U*U+la*la;e=ma*ma+E*E;var Ma=U*D+la*M,ga=ma*D+E*M,ha=h.i+j.i;ha+=h.m*(d-Ma*Ma)+j.m*(e-ga*ga);I.Yd=1/ha;ga=M;ha=-D;Ma=U*ga+la*ha;ga=ma*ga+E*ha;ha=h.i+j.i;ha+=h.m*(d-Ma*Ma)+j.m*(e-ga*ga);I.He=1/ha;I.rd=0;if(I.bb>0)I.rd=-60*I.bb;U=G.B.x*(s+-y*E-l- -u*la)+G.B.y*(v+y*ma-o-u*U);U<-30&&(I.rd+=-G.gb*U)}++f}}}
Vb.prototype={Pe:function(){for(var a,c,b=0;b<this.cc;++b){var d=this.dc[b],e=d.V,f=d.Z,g=e.i,h=e.m,j=f.i,i=f.m,k=d.B.x,n=d.B.y,l=n,o=-k,s=0,v=0;if(Wb){v=d.P;for(s=0;s<v;++s){var u=d.Y[s],y=u.ia*k+u.pa*l,B=u.ia*n+u.pa*o;c=e.d;a=u.Zc;var C=c.a.x*a.x+c.b.x*a.y,D=c.a.y*a.x+c.b.y*a.y;c=f.d;a=u.$c;var M=c.a.x*a.x+c.b.x*a.y;a=c.a.y*a.x+c.b.y*a.y;e.l-=h*(C*B-D*y);e.f.x-=g*y;e.f.y-=g*B;f.l+=i*(M*B-a*y);f.f.x+=j*y;f.f.y+=j*B;u.Pc=0}}else{v=d.P;for(s=0;s<v;++s){e=d.Y[s];e.ia=0;e.pa=0;e.Pc=0}}}},tb:function(){for(var a=
0,c,b,d,e,f,g,h,j,i=0;i<this.cc;++i){var k=this.dc[i],n=k.V,l=k.Z,o=n.l,s=n.f,v=l.l,u=l.f,y=n.i,B=n.m,C=l.i,D=l.m,M=k.B.x,G=k.B.y,T=G,E=-M,I=k.P;for(a=0;a<I;++a){c=k.Y[a];f=n.d;g=c.Zc;b=f.a.x*g.x+f.b.x*g.y;d=f.a.y*g.x+f.b.y*g.y;f=l.d;g=c.$c;e=f.a.x*g.x+f.b.x*g.y;f=f.a.y*g.x+f.b.y*g.y;g=u.x+-v*f-s.x- -o*d;h=u.y+v*e-s.y-o*b;g=-c.Yd*(g*M+h*G-c.rd);h=Math.max(c.ia+g,0);g=h-c.ia;j=g*M;g*=G;s.x-=y*j;s.y-=y*g;o-=B*(b*g-d*j);u.x+=C*j;u.y+=C*g;v+=D*(e*g-f*j);c.ia=h;g=u.x+-v*f-s.x- -o*d;h=u.y+v*e-s.y-o*b;g=
c.He*-(g*T+h*E);h=k.vb*c.ia;h=P(c.pa+g,-h,h);g=h-c.pa;j=g*T;g*=E;s.x-=y*j;s.y-=y*g;o-=B*(b*g-d*j);u.x+=C*j;u.y+=C*g;v+=D*(e*g-f*j);c.pa=h}n.l=o;l.l=v}},hb:function(a){for(var c=0,b,d,e=0;e<this.cc;++e){for(var f=this.dc[e],g=f.V,h=f.Z,j=g.c,i=g.n,k=h.c,n=h.n,l=g.i,o=g.m,s=h.i,v=h.m,u=f.B.x,y=f.B.y,B=f.P,C=0;C<B;++C){var D=f.Y[C];b=g.d;d=D.Zc;var M=b.a.x*d.x+b.b.x*d.y,G=b.a.y*d.x+b.b.y*d.y;b=h.d;d=D.$c;var T=b.a.x*d.x+b.b.x*d.y;b=b.a.y*d.x+b.b.y*d.y;d=(k.x+T-(j.x+M))*u+(k.y+b-(j.y+G))*y+D.bb;c=Math.min(c,
d);d=-D.Yd*a*P(d+0.15,-6,0);var E=D.Pc;D.Pc=Math.max(E+d,0);d=D.Pc-E;D=d*u;d*=y;j.x-=l*D;j.y-=l*d;i-=o*(M*d-G*D);g.d.g(i);k.x+=s*D;k.y+=s*d;n+=v*(T*d-b*D);h.d.g(n)}g.n=i;h.n=n}return c>=-0.15},Oe:function(){for(var a=0;a<this.cc;++a)for(var c=this.dc[a],b=c.Be,d=0;d<c.P;++d){var e=b.Y[d],f=c.Y[d];e.ia=f.ia;e.pa=f.pa}}};function Xb(a,c,b){var d=0;this.zf=a;this.Af=c;this.Bf=b;this.Ff=this.Mb=this.Ja=0;this.kb=Array(a);for(d=0;d<a;d++)this.kb[d]=p;this.Kd=Array(c);for(d=0;d<c;d++)this.Kd[d]=p;this.Fc=Array(b);for(d=0;d<b;d++)this.Fc[d]=p}
Xb.prototype.wd=function(a,c){var b=0,d;for(b=0;b<this.Ja;++b){d=this.kb[b];if(d.i!=0){d.f.add(new z(a.Oa*Aa(c,new z(d.i*d.Dc.x,d.i*d.Dc.y)).x,a.Oa*Aa(c,new z(d.i*d.Dc.x,d.i*d.Dc.y)).y));d.l+=a.Oa*d.m*d.Ae;d.f.scale(d.mf);d.l*=d.ef;A(d.Vd,d.c);d.ze=d.n}}var e=new Vb(this.Kd,this.Mb);e.Pe();for(b=0;b<this.Ff;++b)this.Fc[b].Gb();for(b=0;b<a.Gd;++b){e.tb();for(d=0;d<this.Ff;++d)this.Fc[d].tb(a)}for(b=0;b<this.Ja;++b){d=this.kb[b];if(d.i!=0){d.c.x+=a.Oa*d.f.x;d.c.y+=a.Oa*d.f.y;d.n+=a.Oa*d.l;d.d.g(d.n)}}for(b=
0;b<this.Ff;++b);if(Yb)for(Zb=0;Zb<a.Gd;++Zb){d=e.hb(0.2);var f=!0;for(b=0;b<this.Ff;++b){var g=this.Fc[b].hb();f=f&&g}if(d&&f)break}e.Oe();for(b=0;b<this.Ja;++b){d=this.kb[b];if(d.i!=0){d.d.g(d.n);e=d;e.Ge.g(e.ze);for(f=e.Bb;f!=p;f=f.p)f.xd(e.Vd,e.Ge,e.c,e.d);d.Dc.g(0,0);d.Ae=0}}};var Zb=0;function V(){this.next=this.prev=this.Lb=this.oa=p};function $b(a){this.o=new V;this.q=new V;this.ya=a.type;this.p=this.D=p;this.h=a.V;this.e=a.Z;this.ta=a.ta;this.pb=!1;this.$a=a.G}r=$b.prototype;r.Db=ca(p);r.Eb=ca(p);r.$b=ba("p");r.Gb=aa();r.hb=ca(!1);function ac(a){this.type=0;this.Z=this.V=this.G=p;this.ta=a};function bc(a){this.o=new V;this.q=new V;this.ya=a.type;this.p=this.D=p;this.h=a.V;this.e=a.Z;this.ta=a.ta;this.pb=!1;this.$a=a.G;this.j=new z;this.k=new z;this.fa=new z;var c,b,d;c=this.h.d;b=a.Ib.x-this.h.c.x;d=a.Ib.y-this.h.c.y;this.j.x=b*c.a.x+d*c.a.y;this.j.y=b*c.b.x+d*c.b.y;c=this.e.d;b=a.Jb.x-this.e.c.x;d=a.Jb.y-this.e.c.y;this.k.x=b*c.a.x+d*c.a.y;this.k.y=b*c.b.x+d*c.b.y;b=a.Jb.x-a.Ib.x;d=a.Jb.y-a.Ib.y;this.lf=Math.sqrt(b*b+d*d);this.U=0}w(bc,$b);r=bc.prototype;
r.Gb=function(){var a;a=this.h.d;var c=a.a.x*this.j.x+a.b.x*this.j.y,b=a.a.y*this.j.x+a.b.y*this.j.y;a=this.e.d;var d=a.a.x*this.k.x+a.b.x*this.k.y;a=a.a.y*this.k.x+a.b.y*this.k.y;this.fa.x=this.e.c.x+d-this.h.c.x-c;this.fa.y=this.e.c.y+a-this.h.c.y-b;var e=Math.sqrt(this.fa.x*this.fa.x+this.fa.y*this.fa.y);e>0.15?this.fa.scale(1/e):this.fa.ka();e=c*this.fa.y-b*this.fa.x;var f=d*this.fa.y-a*this.fa.x;this.La=this.h.i+this.h.m*e*e+this.e.i+this.e.m*f*f;this.La=1/this.La;if(Wb){e=this.U*this.fa.x;f=
this.U*this.fa.y;this.h.f.x-=this.h.i*e;this.h.f.y-=this.h.i*f;this.h.l-=this.h.m*(c*f-b*e);this.e.f.x+=this.e.i*e;this.e.f.y+=this.e.i*f;this.e.l+=this.e.m*(d*f-a*e)}else this.U=0};
r.tb=function(){var a;a=this.h.d;var c=a.a.x*this.j.x+a.b.x*this.j.y,b=a.a.y*this.j.x+a.b.y*this.j.y;a=this.e.d;var d=a.a.x*this.k.x+a.b.x*this.k.y;a=a.a.y*this.k.x+a.b.y*this.k.y;var e=-this.La*(this.fa.x*(this.e.f.x+-this.e.l*a-(this.h.f.x+-this.h.l*b))+this.fa.y*(this.e.f.y+this.e.l*d-(this.h.f.y+this.h.l*c)));this.U+=e;var f=e*this.fa.x;e*=this.fa.y;this.h.f.x-=this.h.i*f;this.h.f.y-=this.h.i*e;this.h.l-=this.h.m*(c*e-b*f);this.e.f.x+=this.e.i*f;this.e.f.y+=this.e.i*e;this.e.l+=this.e.m*(d*e-
a*f)};
r.hb=function(){var a;a=this.h.d;var c=a.a.x*this.j.x+a.b.x*this.j.y,b=a.a.y*this.j.x+a.b.y*this.j.y;a=this.e.d;var d=a.a.x*this.k.x+a.b.x*this.k.y;a=a.a.y*this.k.x+a.b.y*this.k.y;var e=this.e.c.x+d-this.h.c.x-c,f=this.e.c.y+a-this.h.c.y-b,g=Math.sqrt(e*e+f*f);e/=g;f/=g;g-=this.lf;g=P(g,-6,6);var h=-this.La*g;this.fa.g(e,f);e=h*this.fa.x;f=h*this.fa.y;this.h.c.x-=this.h.i*e;this.h.c.y-=this.h.i*f;this.h.n-=this.h.m*(c*f-b*e);this.e.c.x+=this.e.i*e;this.e.c.y+=this.e.i*f;this.e.n+=this.e.m*(d*f-a*
e);this.h.d.g(this.h.n);this.e.d.g(this.e.n);return Math.abs(g)<0.15};r.Db=function(){return Aa(this.h.c,O(this.h.d,this.j))};r.Eb=function(){return Aa(this.e.c,O(this.e.d,this.k))};function cc(a){this.o=new V;this.q=new V;this.ya=a.type;this.p=this.D=p;this.h=a.V;this.e=a.Z;this.ta=a.ta;this.pb=!1;this.$a=a.G;this.nb=new z;this.ob=new z;this.j=new z;this.k=new z;this.T=new dc;this.lc=this.Tb=this.kc=this.Sb=p;var c,b;this.hf=a.Xc.h;this.h=a.Xc.e;if(a.Xc.ya==1){this.Sb=a.Xc;A(this.nb,this.Sb.j);A(this.j,this.Sb.k);c=ec(this.Sb)}else{this.kc=a.Xc;A(this.nb,this.kc.j);A(this.j,this.kc.k);c=fc(this.kc)}this.jf=a.Yc.h;this.e=a.Yc.e;if(a.Yc.ya==1){this.Tb=a.Yc;A(this.ob,this.Tb.j);
A(this.k,this.Tb.k);b=ec(this.Tb)}else{this.lc=a.Yc;A(this.ob,this.lc.j);A(this.k,this.lc.k);b=fc(this.lc)}this.X=a.pf;this.Bc=c+this.X*b;this.U=0}w(cc,$b);r=cc.prototype;r.Db=function(){var a=this.h.d;return new z(this.h.c.x+(a.a.x*this.j.x+a.b.x*this.j.y),this.h.c.y+(a.a.y*this.j.x+a.b.y*this.j.y))};r.Eb=function(){var a=this.e.d;return new z(this.e.c.x+(a.a.x*this.k.x+a.b.x*this.k.y),this.e.c.y+(a.a.y*this.k.x+a.b.y*this.k.y))};
r.Gb=function(){var a=this.hf,c=this.jf,b=this.h,d=this.e,e,f,g,h=0;this.T.ka();if(this.Sb){this.T.ca=-1;h+=b.m}else{g=a.d;e=this.kc.ua;a=g.a.x*e.x+g.b.x*e.y;e=g.a.y*e.x+g.b.y*e.y;g=b.d;f=g.a.x*this.j.x+g.b.x*this.j.y;g=g.a.y*this.j.x+g.b.y*this.j.y;f=f*e-g*a;this.T.I.g(-a,-e);this.T.ca=-f;h+=b.i+b.m*f*f}if(this.Tb){this.T.da=-this.X;h+=this.X*this.X*d.m}else{g=c.d;e=this.lc.ua;a=g.a.x*e.x+g.b.x*e.y;e=g.a.y*e.x+g.b.y*e.y;g=d.d;f=g.a.x*this.k.x+g.b.x*this.k.y;g=g.a.y*this.k.x+g.b.y*this.k.y;f=f*e-
g*a;this.T.J.g(-this.X*a,-this.X*e);this.T.da=-this.X*f;h+=this.X*this.X*(d.i+d.m*f*f)}this.La=1/h;b.f.x+=b.i*this.U*this.T.I.x;b.f.y+=b.i*this.U*this.T.I.y;b.l+=b.m*this.U*this.T.ca;d.f.x+=d.i*this.U*this.T.J.x;d.f.y+=d.i*this.U*this.T.J.y;d.l+=d.m*this.U*this.T.da};r.tb=function(){var a=this.h,c=this.e,b=-this.La*this.T.Rc(a.f,a.l,c.f,c.l);this.U+=b;a.f.x+=a.i*b*this.T.I.x;a.f.y+=a.i*b*this.T.I.y;a.l+=a.m*b*this.T.ca;c.f.x+=c.i*b*this.T.J.x;c.f.y+=c.i*b*this.T.J.y;c.l+=c.m*b*this.T.da};
r.hb=function(){var a=this.h,c=this.e,b=-this.La*(this.Bc-((this.Sb?ec(this.Sb):fc(this.kc))+this.X*(this.Tb?ec(this.Tb):fc(this.lc))));a.c.x+=a.i*b*this.T.I.x;a.c.y+=a.i*b*this.T.I.y;a.n+=a.m*b*this.T.ca;c.c.x+=c.i*b*this.T.J.x;c.c.y+=c.i*b*this.T.J.y;c.n+=c.m*b*this.T.da;a.d.g(a.n);c.d.g(c.n);return!0};function gc(a){this.o=new V;this.q=new V;this.ya=a.type;this.p=this.D=p;this.h=a.V;this.e=a.Z;this.ta=a.ta;this.pb=!1;this.$a=a.G;this.Ha=new K;this.qa=new K;this.ra=new K;this.Ya=new z;this.nc=new z;this.U=new z;this.zb=new K;this.dd=new z;A(this.nc,a.target);var c=this.nc.x-this.e.c.x,b=this.nc.y-this.e.c.y;this.Ya.x=c*this.e.d.a.x+b*this.e.d.a.y;this.Ya.y=c*this.e.d.b.x+b*this.e.d.b.y;this.te=a.Cf;this.U.ka();b=this.e.La;var d=2*Ca*a.yf;c=2*b*a.xf*d;b=b*d*d;this.jd=1/(c+a.Ie*b);this.qe=a.Ie*b/
(c+a.Ie*b)}w(gc,$b);r=gc.prototype;r.Db=ba("nc");r.Eb=function(){var a=O(this.e.d,this.Ya);a.add(this.e.c);return a};
r.Gb=function(){var a=this.e,c;c=a.d;var b=c.a.x*this.Ya.x+c.b.x*this.Ya.y;c=c.a.y*this.Ya.x+c.b.y*this.Ya.y;var d=a.i,e=a.m;this.qa.a.x=d;this.qa.b.x=0;this.qa.a.y=0;this.qa.b.y=d;this.ra.a.x=e*c*c;this.ra.b.x=-e*b*c;this.ra.a.y=-e*b*c;this.ra.b.y=e*b*b;Ga(this.Ha,this.qa);Ha(this.Ha,this.ra);this.Ha.a.x+=this.jd;this.Ha.b.y+=this.jd;Ia(this.Ha,this.zb);this.dd.x=a.c.x+b-this.nc.x;this.dd.y=a.c.y+c-this.nc.y;a.l*=0.98;var f=this.U.x,g=this.U.y;a.f.x+=d*f;a.f.y+=d*g;a.l+=e*(b*g-c*f)};
r.tb=function(a){var c=this.e,b;b=c.d;var d=b.a.x*this.Ya.x+b.b.x*this.Ya.y,e=b.a.y*this.Ya.x+b.b.y*this.Ya.y,f=c.f.x+-c.l*e,g=c.f.y+c.l*d;b=this.zb;f=f+this.qe*a.Fd*this.dd.x+this.jd*this.U.x;var h=g+this.qe*a.Fd*this.dd.y+this.jd*this.U.y;g=-(b.a.x*f+b.b.x*h);h=-(b.a.y*f+b.b.y*h);b=this.U.x;f=this.U.y;this.U.x+=g;this.U.y+=h;g=x(this.U);g>a.Oa*this.te&&this.U.scale(a.Oa*this.te/g);g=this.U.x-b;h=this.U.y-f;c.f.x+=c.i*g;c.f.y+=c.i*h;c.l+=c.m*(d*h-e*g)};r.hb=ca(!0);function dc(){this.I=new z;this.J=new z}dc.prototype={ca:p,da:p,ka:function(){this.I.ka();this.ca=0;this.J.ka();this.da=0},g:function(a,c,b,d){A(this.I,a);this.ca=c;A(this.J,b);this.da=d},Rc:function(a,c,b,d){return this.I.x*a.x+this.I.y*a.y+this.ca*c+(this.J.x*b.x+this.J.y*b.y)+this.da*d}};function hc(){ac.call(this,!1);this.type=0;this.Z=this.V=this.G=p;this.type=2;this.sa=new z(0,0);this.axis=new z(0,0);this.Oc=this.De=this.rf=this.cf=0;this.Ad=!1;this.ac=!1}w(hc,ac);function ic(a){this.o=new V;this.q=new V;this.ya=a.type;this.p=this.D=p;this.h=a.V;this.e=a.Z;this.ta=a.ta;this.pb=!1;this.$a=a.G;this.j=new z;this.k=new z;this.ua=new z;this.eb=new z;this.H=new dc;this.w=new dc;var c,b,d;c=this.h.d;b=a.sa.x-this.h.c.x;d=a.sa.y-this.h.c.y;this.j.g(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);c=this.e.d;b=a.sa.x-this.e.c.x;d=a.sa.y-this.e.c.y;this.k.g(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);c=this.h.d;b=a.axis.x;d=a.axis.y;this.ua.g(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);this.eb.x=-this.ua.y;
this.eb.y=this.ua.x;this.kf=this.e.n-this.h.n;this.H.ka();this.ed=this.Hd=this.xb=this.Ic=0;this.w.ka();this.ha=this.v=this.ea=this.Ma=0;this.Sd=a.cf;this.Xd=a.rf;this.we=a.De;this.Td=a.Oc;this.mb=a.Ad;this.fc=a.ac}w(ic,$b);r=ic.prototype;r.Db=function(){var a=this.h,c=new z;A(c,this.j);za(c,a.d);c.add(a.c);return c};r.Eb=function(){var a=this.e,c=new z;A(c,this.k);za(c,a.d);c.add(a.c);return c};
function fc(a){var c=a.h,b=a.e,d;d=c.d;var e=d.a.x*a.j.x+d.b.x*a.j.y,f=d.a.y*a.j.x+d.b.y*a.j.y;d=b.d;e=b.c.x+(d.a.x*a.k.x+d.b.x*a.k.y)-(c.c.x+e);b=b.c.y+(d.a.y*a.k.x+d.b.y*a.k.y)-(c.c.y+f);d=c.d;return(d.a.x*a.ua.x+d.b.x*a.ua.y)*e+(d.a.y*a.ua.x+d.b.y*a.ua.y)*b}
r.Gb=function(){var a=this.h,c=this.e,b;b=a.d;var d=b.a.x*this.j.x+b.b.x*this.j.y,e=b.a.y*this.j.x+b.b.y*this.j.y;b=c.d;var f=b.a.x*this.k.x+b.b.x*this.k.y,g=b.a.y*this.k.x+b.b.y*this.k.y,h=a.i,j=c.i,i=a.m,k=c.m;b=a.d;var n=b.a.x*this.eb.x+b.b.x*this.eb.y;b=b.a.y*this.eb.x+b.b.y*this.eb.y;var l=c.c.x+f-a.c.x,o=c.c.y+g-a.c.y;this.H.I.x=-n;this.H.I.y=-b;this.H.J.x=n;this.H.J.y=b;this.H.ca=-(l*b-o*n);this.H.da=f*b-g*n;this.Ic=h+i*this.H.ca*this.H.ca+j+k*this.H.da*this.H.da;this.Ic=1/this.Ic;this.Hd=
1/(i+k);if(this.mb||this.fc){b=a.d;n=b.a.x*this.ua.x+b.b.x*this.ua.y;b=b.a.y*this.ua.x+b.b.y*this.ua.y;this.w.I.x=-n;this.w.I.y=-b;this.w.J.x=n;this.w.J.y=b;this.w.ca=-(l*b-o*n);this.w.da=f*b-g*n;this.Ma=h+i*this.w.ca*this.w.ca+j+k*this.w.da*this.w.da;this.Ma=1/this.Ma;if(this.mb){d=n*(l-d)+b*(o-e);if(Math.abs(this.Xd-this.Sd)<0.3)this.K=3;else if(d<=this.Sd){if(this.K!=1)this.v=0;this.K=1}else if(d>=this.Xd){if(this.K!=2)this.v=0;this.K=2}else this.v=this.K=0}}if(this.fc==!1)this.ea=0;if(this.mb==
!1)this.v=0;if(Wb){d=this.xb*this.H.I.y+(this.ea+this.v)*this.w.I.y;e=this.xb*this.H.J.x+(this.ea+this.v)*this.w.J.x;f=this.xb*this.H.J.y+(this.ea+this.v)*this.w.J.y;g=this.xb*this.H.ca-this.ed+(this.ea+this.v)*this.w.ca;l=this.xb*this.H.da+this.ed+(this.ea+this.v)*this.w.da;a.f.x+=h*(this.xb*this.H.I.x+(this.ea+this.v)*this.w.I.x);a.f.y+=h*d;a.l+=i*g;c.f.x+=j*e;c.f.y+=j*f;c.l+=k*l}else this.ea=this.v=this.ed=this.xb=0;this.ha=0};
r.tb=function(a){var c=this.h,b=this.e,d=c.i,e=b.i,f=c.m,g=b.m,h=-this.Ic*this.H.Rc(c.f,c.l,b.f,b.l);this.xb+=h;c.f.x+=d*h*this.H.I.x;c.f.y+=d*h*this.H.I.y;c.l+=f*h*this.H.ca;b.f.x+=e*h*this.H.J.x;b.f.y+=e*h*this.H.J.y;b.l+=g*h*this.H.da;h=-this.Hd*(b.l-c.l);this.ed+=h;c.l-=f*h;b.l+=g*h;if(this.fc&&this.K!=3){h=-this.Ma*(this.w.Rc(c.f,c.l,b.f,b.l)-this.Td);var j=this.ea;this.ea=P(this.ea+h,-a.Oa*this.we,a.Oa*this.we);h=this.ea-j;c.f.x+=d*h*this.w.I.x;c.f.y+=d*h*this.w.I.y;c.l+=f*h*this.w.ca;b.f.x+=
e*h*this.w.J.x;b.f.y+=e*h*this.w.J.y;b.l+=g*h*this.w.da}if(this.mb&&this.K!=0){h=-this.Ma*this.w.Rc(c.f,c.l,b.f,b.l);if(this.K==3)this.v+=h;else if(this.K==1){a=this.v;this.v=Math.max(this.v+h,0);h=this.v-a}else if(this.K==2){a=this.v;this.v=Math.min(this.v+h,0);h=this.v-a}c.f.x+=d*h*this.w.I.x;c.f.y+=d*h*this.w.I.y;c.l+=f*h*this.w.ca;b.f.x+=e*h*this.w.J.x;b.f.y+=e*h*this.w.J.y;b.l+=g*h*this.w.da}};
r.hb=function(){var a,c,b=this.h,d=this.e,e=b.i,f=d.i,g=b.m,h=d.m,j;j=b.d;var i=j.a.x*this.j.x+j.b.x*this.j.y,k=j.a.y*this.j.x+j.b.y*this.j.y;j=d.d;a=j.a.x*this.k.x+j.b.x*this.k.y;j=j.a.y*this.k.x+j.b.y*this.k.y;i=b.c.x+i;k=b.c.y+k;a=d.c.x+a;j=d.c.y+j;a-=i;i=j-k;j=b.d;var n=(j.a.x*this.eb.x+j.b.x*this.eb.y)*a+(j.a.y*this.eb.x+j.b.y*this.eb.y)*i;n=P(n,-6,6);c=-this.Ic*n;b.c.x+=e*c*this.H.I.x;b.c.y+=e*c*this.H.I.y;b.n+=g*c*this.H.ca;d.c.x+=f*c*this.H.J.x;d.c.y+=f*c*this.H.J.y;d.n+=h*c*this.H.da;n=Math.abs(n);
c=d.n-b.n-this.kf;c=P(c,-Ea,Ea);var l=-this.Hd*c;b.n-=b.m*l;b.d.g(b.n);d.n+=d.m*l;d.d.g(d.n);l=Math.abs(c);if(this.mb&&this.K!=0){j=b.d;i=j.a.x*this.j.x+j.b.x*this.j.y;k=j.a.y*this.j.x+j.b.y*this.j.y;j=d.d;a=j.a.x*this.k.x+j.b.x*this.k.y;j=j.a.y*this.k.x+j.b.y*this.k.y;i=b.c.x+i;k=b.c.y+k;a=d.c.x+a;j=d.c.y+j;a-=i;i=j-k;j=b.d;j=(j.a.x*this.ua.x+j.b.x*this.ua.y)*a+(j.a.y*this.ua.x+j.b.y*this.ua.y)*i;a=0;if(this.K==3){a=P(j,-6,6);a*=-this.Ma;n=Math.max(n,Math.abs(c))}else if(this.K==1){a=j-this.Sd;n=
Math.max(n,-a);a=P(a+0.15,-6,0);a*=-this.Ma;c=this.ha;this.ha=Math.max(this.ha+a,0);a=this.ha-c}else if(this.K==2){a=j-this.Xd;n=Math.max(n,a);a=P(a-0.15,0,6);a*=-this.Ma;c=this.ha;this.ha=Math.min(this.ha+a,0);a=this.ha-c}b.c.x+=e*a*this.w.I.x;b.c.y+=e*a*this.w.I.y;b.n+=g*a*this.w.ca;b.d.g(b.n);d.c.x+=f*a*this.w.J.x;d.c.y+=f*a*this.w.J.y;d.n+=h*a*this.w.da;d.d.g(d.n)}return n<=0.15&&l<=Da};function jc(a){this.o=new V;this.q=new V;this.ya=a.type;this.p=this.D=p;this.h=a.V;this.e=a.Z;this.ta=a.ta;this.pb=!1;this.$a=a.G;this.nb=new z;this.ob=new z;this.j=new z;this.k=new z;this.L=new z;this.M=new z;var c,b,d;this.Sa=this.h.Q.gc;this.nb.x=a.Cd.x-this.Sa.c.x;this.nb.y=a.Cd.y-this.Sa.c.y;this.ob.x=a.Dd.x-this.Sa.c.x;this.ob.y=a.Dd.y-this.Sa.c.y;c=this.h.d;b=a.Ib.x-this.h.c.x;d=a.Ib.y-this.h.c.y;this.j.x=b*c.a.x+d*c.a.y;this.j.y=b*c.b.x+d*c.b.y;c=this.e.d;b=a.Jb.x-this.e.c.x;d=a.Jb.y-this.e.c.y;
this.k.x=b*c.a.x+d*c.a.y;this.k.y=b*c.b.x+d*c.b.y;this.X=a.pf;b=a.Cd.x-a.Ib.x;d=a.Cd.y-a.Ib.y;c=Math.sqrt(b*b+d*d);b=a.Dd.x-a.Jb.x;d=a.Dd.y-a.Jb.y;c=Math.max(0.5*kc,c);b=Math.max(0.5*kc,Math.sqrt(b*b+d*d));this.Bc=c+this.X*b;this.ue=P(a.Df,c,this.Bc-this.X*kc);this.ve=P(a.Ef,b,(this.Bc-kc)/this.X);this.Qb=this.Pb=this.Jc=0}w(jc,$b);r=jc.prototype;r.Db=function(){var a=this.h.d;return new z(this.h.c.x+(a.a.x*this.j.x+a.b.x*this.j.y),this.h.c.y+(a.a.y*this.j.x+a.b.y*this.j.y))};
r.Eb=function(){var a=this.e.d;return new z(this.e.c.x+(a.a.x*this.k.x+a.b.x*this.k.y),this.e.c.y+(a.a.y*this.k.x+a.b.y*this.k.y))};
r.Gb=function(){var a=this.h,c=this.e,b;b=a.d;var d=b.a.x*this.j.x+b.b.x*this.j.y,e=b.a.y*this.j.x+b.b.y*this.j.y;b=c.d;var f=b.a.x*this.k.x+b.b.x*this.k.y;b=b.a.y*this.k.x+b.b.y*this.k.y;var g=c.c.x+f,h=c.c.y+b,j=this.Sa.c.x+this.ob.x,i=this.Sa.c.y+this.ob.y;this.L.g(a.c.x+d-(this.Sa.c.x+this.nb.x),a.c.y+e-(this.Sa.c.y+this.nb.y));this.M.g(g-j,h-i);g=x(this.L);h=x(this.M);g>0.15?this.L.scale(1/g):this.L.ka();h>0.15?this.M.scale(1/h):this.M.ka();if(g<this.ue)this.Pb=this.Pd=0;else{this.Pd=2;this.kd=
0}if(h<this.ve)this.Qb=this.Qd=0;else{this.Qd=2;this.ld=0}g=d*this.L.y-e*this.L.x;h=f*this.M.y-b*this.M.x;this.Gc=a.i+a.m*g*g;this.Hc=c.i+c.m*h*h;this.md=this.Gc+this.X*this.X*this.Hc;this.Gc=1/this.Gc;this.Hc=1/this.Hc;this.md=1/this.md;g=(-this.Jc-this.Pb)*this.L.x;h=(-this.Jc-this.Pb)*this.L.y;j=(-this.X*this.Jc-this.Qb)*this.M.x;i=(-this.X*this.Jc-this.Qb)*this.M.y;a.f.x+=a.i*g;a.f.y+=a.i*h;a.l+=a.m*(d*h-e*g);c.f.x+=c.i*j;c.f.y+=c.i*i;c.l+=c.m*(f*i-b*j)};
r.tb=function(){var a=this.h,c=this.e,b;b=a.d;var d=b.a.x*this.j.x+b.b.x*this.j.y,e=b.a.y*this.j.x+b.b.y*this.j.y;b=c.d;var f=b.a.x*this.k.x+b.b.x*this.k.y;b=b.a.y*this.k.x+b.b.y*this.k.y;var g,h,j,i;g=a.f.x+-a.l*e;h=a.f.y+a.l*d;j=c.f.x+-c.l*b;i=c.f.y+c.l*f;g=-(this.L.x*g+this.L.y*h)-this.X*(this.M.x*j+this.M.y*i);i=-this.md*g;this.Jc+=i;g=-i*this.L.x;h=-i*this.L.y;j=-this.X*i*this.M.x;i=-this.X*i*this.M.y;a.f.x+=a.i*g;a.f.y+=a.i*h;a.l+=a.m*(d*h-e*g);c.f.x+=c.i*j;c.f.y+=c.i*i;c.l+=c.m*(f*i-b*j);if(this.Pd==
2){g=a.f.x+-a.l*e;h=a.f.y+a.l*d;g=-(this.L.x*g+this.L.y*h);i=-this.Gc*g;g=this.Pb;this.Pb=Math.max(0,this.Pb+i);i=this.Pb-g;g=-i*this.L.x;h=-i*this.L.y;a.f.x+=a.i*g;a.f.y+=a.i*h;a.l+=a.m*(d*h-e*g)}if(this.Qd==2){j=c.f.x+-c.l*b;i=c.f.y+c.l*f;g=-(this.M.x*j+this.M.y*i);i=-this.Hc*g;g=this.Qb;this.Qb=Math.max(0,this.Qb+i);i=this.Qb-g;j=-i*this.M.x;i=-i*this.M.y;c.f.x+=c.i*j;c.f.y+=c.i*i;c.l+=c.m*(f*i-b*j)}};
r.hb=function(){var a=this.h,c=this.e,b,d=this.Sa.c.x+this.nb.x,e=this.Sa.c.y+this.nb.y,f=this.Sa.c.x+this.ob.x,g=this.Sa.c.y+this.ob.y,h,j,i,k,n,l,o,s=0;b=a.d;h=b.a.x*this.j.x+b.b.x*this.j.y;j=b.a.y*this.j.x+b.b.y*this.j.y;b=c.d;i=b.a.x*this.k.x+b.b.x*this.k.y;b=b.a.y*this.k.x+b.b.y*this.k.y;k=a.c.x+h;n=a.c.y+j;l=c.c.x+i;o=c.c.y+b;this.L.g(k-d,n-e);this.M.g(l-f,o-g);k=x(this.L);n=x(this.M);k>0.15?this.L.scale(1/k):this.L.ka();n>0.15?this.M.scale(1/n):this.M.ka();k=this.Bc-k-this.X*n;s=Math.max(s,
Math.abs(k));k=P(k,-6,6);o=-this.md*k;k=-o*this.L.x;n=-o*this.L.y;l=-this.X*o*this.M.x;o=-this.X*o*this.M.y;a.c.x+=a.i*k;a.c.y+=a.i*n;a.n+=a.m*(h*n-j*k);c.c.x+=c.i*l;c.c.y+=c.i*o;c.n+=c.m*(i*o-b*l);a.d.g(a.n);c.d.g(c.n);if(this.Pd==2){b=a.d;h=b.a.x*this.j.x+b.b.x*this.j.y;j=b.a.y*this.j.x+b.b.y*this.j.y;k=a.c.x+h;n=a.c.y+j;this.L.g(k-d,n-e);k=x(this.L);if(k>0.15){this.L.x*=1/k;this.L.y*=1/k}else this.L.ka();k=this.ue-k;s=Math.max(s,-k);k=P(k+0.15,-6,0);o=-this.Gc*k;d=this.kd;this.kd=Math.max(0,this.kd+
o);o=this.kd-d;k=-o*this.L.x;n=-o*this.L.y;a.c.x+=a.i*k;a.c.y+=a.i*n;a.n+=a.m*(h*n-j*k);a.d.g(a.n)}if(this.Qd==2){b=c.d;i=b.a.x*this.k.x+b.b.x*this.k.y;b=b.a.y*this.k.x+b.b.y*this.k.y;l=c.c.x+i;o=c.c.y+b;this.M.g(l-f,o-g);n=x(this.M);if(n>0.15){this.M.x*=1/n;this.M.y*=1/n}else this.M.ka();k=this.ve-n;s=Math.max(s,-k);k=P(k+0.15,-6,0);o=-this.Hc*k;d=this.ld;this.ld=Math.max(0,this.ld+o);o=this.ld-d;l=-o*this.M.x;o=-o*this.M.y;c.c.x+=c.i*l;c.c.y+=c.i*o;c.n+=c.m*(i*o-b*l);c.d.g(c.n)}return s<0.15};
var kc=30;function lc(){ac.call(this,!1);this.type=0;this.Z=this.V=this.G=p;this.type=1;this.sa=new z(0,0);this.Oc=this.Ee=this.qf=this.bf=0;this.Ad=!1;this.ac=!1}w(lc,ac);function mc(a){this.o=new V;this.q=new V;this.ya=a.type;this.p=this.D=p;this.h=a.V;this.e=a.Z;this.ta=a.ta;this.pb=!1;this.$a=a.G;this.Ha=new K;this.qa=new K;this.ra=new K;this.Wa=new K;this.j=new z;this.k=new z;this.Ua=new z;this.zb=new K;var c,b,d;c=this.h.d;b=a.sa.x-this.h.c.x;d=a.sa.y-this.h.c.y;this.j.x=b*c.a.x+d*c.a.y;this.j.y=b*c.b.x+d*c.b.y;c=this.e.d;b=a.sa.x-this.e.c.x;d=a.sa.y-this.e.c.y;this.k.x=b*c.a.x+d*c.a.y;this.k.y=b*c.b.x+d*c.b.y;this.re=this.e.n-this.h.n;this.Ua.g(0,0);this.ha=
this.v=this.ea=0;this.Rd=a.bf;this.Wd=a.qf;this.xe=a.Ee;this.Td=a.Oc;this.mb=a.Ad;this.fc=a.ac}w(mc,$b);mc.prototype.Db=function(){var a=this.h.d;return new z(this.h.c.x+(a.a.x*this.j.x+a.b.x*this.j.y),this.h.c.y+(a.a.y*this.j.x+a.b.y*this.j.y))};mc.prototype.Eb=function(){var a=this.e.d;return new z(this.e.c.x+(a.a.x*this.k.x+a.b.x*this.k.y),this.e.c.y+(a.a.y*this.k.x+a.b.y*this.k.y))};function ec(a){return a.e.n-a.h.n}new K;r=mc.prototype;r.qa=new K;r.ra=new K;r.Wa=new K;
r.Gb=function(){var a=this.h,c=this.e,b;b=a.d;var d=b.a.x*this.j.x+b.b.x*this.j.y,e=b.a.y*this.j.x+b.b.y*this.j.y;b=c.d;var f=b.a.x*this.k.x+b.b.x*this.k.y;b=b.a.y*this.k.x+b.b.y*this.k.y;var g=a.i,h=c.i,j=a.m,i=c.m;this.qa.a.x=g+h;this.qa.b.x=0;this.qa.a.y=0;this.qa.b.y=g+h;this.ra.a.x=j*e*e;this.ra.b.x=-j*d*e;this.ra.a.y=-j*d*e;this.ra.b.y=j*d*d;this.Wa.a.x=i*b*b;this.Wa.b.x=-i*f*b;this.Wa.a.y=-i*f*b;this.Wa.b.y=i*f*f;Ga(this.Ha,this.qa);Ha(this.Ha,this.ra);Ha(this.Ha,this.Wa);Ia(this.Ha,this.zb);
this.Ma=1/(j+i);if(this.fc==!1)this.ea=0;if(this.mb){var k=c.n-a.n-this.re;if(Math.abs(this.Wd-this.Rd)<2*Da)this.K=3;else if(k<=this.Rd){if(this.K!=1)this.v=0;this.K=1}else if(k>=this.Wd){if(this.K!=2)this.v=0;this.K=2}else this.v=this.K=0}else this.v=0;if(Wb){a.f.x-=g*this.Ua.x;a.f.y-=g*this.Ua.y;a.l-=j*(d*this.Ua.y-e*this.Ua.x+this.ea+this.v);c.f.x+=h*this.Ua.x;c.f.y+=h*this.Ua.y;c.l+=i*(f*this.Ua.y-b*this.Ua.x+this.ea+this.v)}else{this.Ua.ka();this.v=this.ea=0}this.ha=0};
r.tb=function(a){var c=this.h,b=this.e,d;d=c.d;var e=d.a.x*this.j.x+d.b.x*this.j.y,f=d.a.y*this.j.x+d.b.y*this.j.y;d=b.d;var g=d.a.x*this.k.x+d.b.x*this.k.y;d=d.a.y*this.k.x+d.b.y*this.k.y;var h=b.f.x+-b.l*d-c.f.x- -c.l*f,j=b.f.y+b.l*g-c.f.y-c.l*e,i=-(this.zb.a.x*h+this.zb.b.x*j);h=-(this.zb.a.y*h+this.zb.b.y*j);this.Ua.x+=i;this.Ua.y+=h;c.f.x-=c.i*i;c.f.y-=c.i*h;c.l-=c.m*(e*h-f*i);b.f.x+=b.i*i;b.f.y+=b.i*h;b.l+=b.m*(g*h-d*i);if(this.fc&&this.K!=3){e=-this.Ma*(b.l-c.l-this.Td);f=this.ea;this.ea=P(this.ea+
e,-a.Oa*this.xe,a.Oa*this.xe);e=this.ea-f;c.l-=c.m*e;b.l+=b.m*e}if(this.mb&&this.K!=0){e=-this.Ma*(b.l-c.l);if(this.K==3)this.v+=e;else if(this.K==1){a=this.v;this.v=Math.max(this.v+e,0);e=this.v-a}else if(this.K==2){a=this.v;this.v=Math.min(this.v+e,0);e=this.v-a}c.l-=c.m*e;b.l+=b.m*e}};
r.hb=function(){var a,c=this.h,b=this.e,d=0;d=c.d;var e=d.a.x*this.j.x+d.b.x*this.j.y,f=d.a.y*this.j.x+d.b.y*this.j.y;d=b.d;a=d.a.x*this.k.x+d.b.x*this.k.y;var g=d.a.y*this.k.x+d.b.y*this.k.y,h=b.c.x+a-(c.c.x+e),j=b.c.y+g-(c.c.y+f);d=Math.sqrt(h*h+j*j);var i=c.i,k=b.i,n=c.m,l=b.m;this.qa.a.x=i+k;this.qa.b.x=0;this.qa.a.y=0;this.qa.b.y=i+k;this.ra.a.x=n*f*f;this.ra.b.x=-n*e*f;this.ra.a.y=-n*e*f;this.ra.b.y=n*e*e;this.Wa.a.x=l*g*g;this.Wa.b.x=-l*a*g;this.Wa.a.y=-l*a*g;this.Wa.b.y=l*a*a;Ga(this.Ha,this.qa);
Ha(this.Ha,this.ra);Ha(this.Ha,this.Wa);this.Ha.wd(nc,-h,-j);h=nc.x;j=nc.y;c.c.x-=c.i*h;c.c.y-=c.i*j;c.n-=c.m*(e*j-f*h);c.d.g(c.n);b.c.x+=b.i*h;b.c.y+=b.i*j;b.n+=b.m*(a*j-g*h);b.d.g(b.n);e=0;if(this.mb&&this.K!=0){a=b.n-c.n-this.re;f=0;if(this.K==3){a=P(a,-Ea,Ea);f=-this.Ma*a;e=Math.abs(a)}else if(this.K==1){a-=this.Rd;e=Math.max(0,-a);a=P(a+Da,-Ea,0);f=-this.Ma*a;a=this.ha;this.ha=Math.max(this.ha+f,0);f=this.ha-a}else if(this.K==2){a-=this.Wd;e=Math.max(0,a);a=P(a-Da,0,Ea);f=-this.Ma*a;a=this.ha;
this.ha=Math.min(this.ha+f,0);f=this.ha-a}c.n-=c.m*f;c.d.g(c.n);b.n+=b.m*f;b.d.g(b.n)}return d<=0.15&&e<=Da};var nc=new z;function oc(a){switch(a.type){case 3:return new bc(a);case 5:return new gc(a);case 2:return new ic(a);case 1:return new mc(a);case 4:return new jc(a);case 6:return new cc(a);default:throw"def not supported";}};function pc(){this.Fd=this.Oa=p;this.Gd=0};function qc(a,c,b){this.nd=new pc;this.ec=new Rb(this);this.se=p;this.wf=ub;this.W=this.$=this.lb=p;this.Ff=this.Mb=this.Ja=0;this.fd=p;this.df=b;this.gf=c;this.ec.Q=this;this.Qa=new ob(a,this.ec);this.gc=W(this,new H);this.Ze=[];this.Qc=!1}function W(a,c){var b=new Xa(c,a);b.D=p;if(b.p=a.lb)a.lb.D=b;a.lb=b;++a.Ja;return b}
function rc(a,c){var b=oc(c);b.D=p;if(b.p=a.W)a.W.D=b;a.W=b;++a.Ff;b.o.Lb=b;b.o.oa=b.e;b.o.prev=p;if(b.o.next=b.h.W)b.h.W.prev=b.o;b.h.W=b.o;b.q.Lb=b;b.q.oa=b.h;b.q.prev=p;if(b.q.next=b.e.W)b.e.W.prev=b.q;b.e.W=b.q;if(c.ta==!1)for(b=(c.V.Ub<c.Z.Ub?c.V:c.Z).Bb;b;b=b.p)b.Tc(a.Qa)}
qc.prototype.vc=function(a,c,b){var d=[],e=this.Qa,f=[],g=[];qb(e,f,g,a);a=[0];var h=[0];e.vc(a,h,f[0],g[0],e.Xa[0],2*e.Rb,0);e.vc(a,h,f[1],g[1],e.Xa[1],2*e.Rb,1);for(g=f=0;g<e.Ab&&f<b;++g,++f)d[g]=e.Aa[e.Kc[g]].G;e.Ab=0;pb(e);b=f;for(e=0;e<b;++e)c[e]=d[e];return b};var Yb=1,Wb=1;function sc(a){var c;for(c=1;c<=4;c++)sc.Jf(a,150+3*Math.random(),40*c);for(c=1;c<=4;c++)sc.If(a,350+3*Math.random(),45*c)}sc.If=function(a,c,b){var d=new La;d.Ia=1;d.rb=20;d.gb=0.2;d.Pa.g(-20,0);var e=new La;e.Ia=1;e.rb=20;e.gb=0.2;e.Pa.g(20,0);var f=new H;J(f,d);J(f,e);f.position.g(c,b);W(a,f)};
sc.Jf=function(a,c,b){var d=[[-30,0],[30,0],[0,15]],e=new tc;e.rc=d.length;var f;for(f=0;f<d.length;f++)e.Cb[f].g(d[f][0],d[f][1]);e.zc=0.3524*Math.PI;var g=new K(e.zc);e.Pa=O(g,new z(30,0));e.Ia=1;g=new tc;g.rc=d.length;for(f=0;f<d.length;f++)g.Cb[f].g(d[f][0],d[f][1]);g.zc=-0.3524*Math.PI;d=new K(g.zc);g.Pa=O(d,new z(-30,0));d=new H;J(d,e);J(d,g);d.position.g(c,b);W(a,d)};function uc(a){var c=a.gc,b=new Ka;b.R.g(5,25);b.Ia=1;var d=new H;J(d,b);var e=new lc,f=c;d.position.g(250,210);var g=W(a,d);e.sa.g(250,235);e.V=f;e.Z=g;e.Oc=-1*Math.PI;e.Ee=5E8;e.ac=!0;rc(a,e);f=g;b.R.g(5,45);d.position.g(250,140);g=W(a,d);e.sa.g(250,185);e.V=f;e.Z=g;e.ac=!1;rc(a,e);f=g;b.R.g(20,20);d.position.g(250,95);g=W(a,d);e.sa.g(250,95);e.V=f;e.Z=g;rc(a,e);e=new hc;e.sa.g(250,95);e.V=c;e.Z=g;e.axis.g(0,1);e.Oc=0;e.De=1E5;e.ac=!0;rc(a,e);b.Ia=2;d.position.g(250,10);W(a,d)};function vc(a){var c,b=a.gc,d=new lc;for(c=0;c<4;c++){d.sa.g(250+40*c,50);d.V=b;d.Z=wc(a,250+40*c,200);rc(a,d)}d.sa.g(210,50);d.V=b;d.Z=wc(a,60,50);rc(a,d)};function xc(a){var c=new Ka,b=new H;J(b,c);c.Ia=1;c.vb=0.5;c.R.g(10,10);for(c=0;c<8;c++){b.position.g(250-Math.random()*2-1,245-c*22);W(a,b)}for(c=0;c<8;c++){b.position.g(150-Math.random()*5+c,245-c*22);W(a,b)}for(c=0;c<8;c++){b.position.g(350+Math.random()*5-c,245-c*22);W(a,b)}};function tc(){N.call(this);this.Cb=Array(8);this.type=2;for(var a=this.rc=0;a<8;a++)this.Cb[a]=new z}w(tc,N);function yc(a){yc.Hf(a);yc.Gf(a,100,100,[[0,0],[10,30],[-10,30]],!0);yc.Gf(a,150,150,[[0,0],[10,30],[-10,30]],!0);var c=Ac(a,150,100,20,20,!1),b=new lc;b.V=c;b.Z=a.gc;b.sa=c.c;rc(a,b);c=yc.Gf(a,300,200,[[0,0],[100,30],[-100,30]]);b.V=c;b.sa=c.c;rc(a,b)}yc.Hf=function(a){var c=new La;c.rb=50;c.gb=0.2;var b=new H;J(b,c);b.position.g(350,100);W(a,b)};
yc.Gf=function(a,c,b,d,e){var f=new tc;if(!e)f.Ia=1;f.rc=d.length;for(e=0;e<d.length;e++)f.Cb[e].g(d[e][0],d[e][1]);d=new H;J(d,f);d.position.g(c,b);return W(a,d)};var Bc,Cc,Dc,Ec;function Fc(){return t.navigator?t.navigator.userAgent:p}Bc=!1;Cc=!1;Dc=!1;Ec=!1;var sa;if(sa=Fc()){var ta=t.navigator;Bc=sa.indexOf("Opera")==0;Cc=!Bc&&sa.indexOf("MSIE")!=-1;Dc=!Bc&&sa.indexOf("WebKit")!=-1;Ec=!Bc&&!Dc&&ta.product=="Gecko"}var Ic=Cc,Jc=Ec,Kc=Dc,zc=t.navigator,Mc=(zc&&zc.platform||"").indexOf("Mac")!=-1,Nc;
a:{var Gc="",Hc;if(Bc&&t.opera){var Lc=t.opera.version;Gc=typeof Lc=="function"?Lc():Lc}else{Jc?Hc=/rv\:([^\);]+)(\)|;)/:Ic?Hc=/MSIE\s+([^\);]+)(\)|;)/:Kc&&(Hc=/WebKit\/(\S+)/);if(Hc){var Oc=Hc.exec(Fc());Gc=Oc?Oc[1]:""}}if(Ic){var Pc,Qc=t.document;Pc=Qc?Qc.documentMode:m;if(Pc>parseFloat(Gc)){Nc=String(Pc);break a}}Nc=Gc}var Uc={};var Vc;Ic&&(Uc["9"]||(Uc["9"]=qa(Nc,"9")>=0));Ic&&(Uc["8"]||(Uc["8"]=qa(Nc,"8")>=0));function Wc(){Rc&&(Sc[fa(this)]=this)}var Rc=!1,Sc={};Wc.prototype.ne=!1;Wc.prototype.Uc=function(){if(!this.ne){this.ne=!0;this.ub();if(Rc){var a=fa(this);if(!Sc.hasOwnProperty(a))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete Sc[a]}}};Wc.prototype.ub=aa();function X(a,c){Wc.call(this);this.type=a;this.currentTarget=this.target=c}w(X,Wc);X.prototype.ub=function(){delete this.type;delete this.target;delete this.currentTarget};X.prototype.oc=!1;X.prototype.pd=!0;var Tc=new Function("a","return a");function Xc(a,c){a&&this.Wc(a,c)}w(Xc,X);r=Xc.prototype;r.target=p;r.relatedTarget=p;r.offsetX=0;r.offsetY=0;r.clientX=0;r.clientY=0;r.screenX=0;r.screenY=0;r.button=0;r.keyCode=0;r.charCode=0;r.ctrlKey=!1;r.altKey=!1;r.shiftKey=!1;r.metaKey=!1;r.nf=!1;r.oe=p;
r.Wc=function(a,c){var b=this.type=a.type;X.call(this,b);this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(Jc)try{Tc(d.nodeName)}catch(e){d=p}}else if(b=="mouseover")d=a.fromElement;else if(b=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==m?a.offsetX:a.layerX;this.offsetY=a.offsetY!==m?a.offsetY:a.layerY;this.clientX=a.clientX!==m?a.clientX:a.pageX;this.clientY=a.clientY!==m?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||
0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(b=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.nf=Mc?a.metaKey:a.ctrlKey;this.state=a.state;this.oe=a;delete this.pd;delete this.oc};r.ub=function(){Xc.ae.ub.call(this);this.relatedTarget=this.currentTarget=this.target=this.oe=p};function Yc(){}var Zc=0;r=Yc.prototype;r.key=0;r.pc=!1;r.ie=!1;r.Wc=function(a,c,b,d,e,f){if(ea(a)=="function")this.pe=!0;else if(a&&a.handleEvent&&ea(a.handleEvent)=="function")this.pe=!1;else throw Error("Invalid listener argument");this.yc=a;this.proxy=c;this.src=b;this.type=d;this.capture=!!e;this.Ed=f;this.ie=!1;this.key=++Zc;this.pc=!1};r.handleEvent=function(a){if(this.pe)return this.yc.call(this.Ed||this.src,a);return this.yc.handleEvent.call(this.yc,a)};function Y(a,c){Wc.call(this);this.Ce=c;this.Kb=[];if(a>this.Ce)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var b=0;b<a;b++)this.Kb.push(this.jb?this.jb():{})}w(Y,Wc);Y.prototype.jb=p;Y.prototype.me=p;Y.prototype.getObject=function(){if(this.Kb.length)return this.Kb.pop();return this.jb?this.jb():{}};function ad(a,c){a.Kb.length<a.Ce?a.Kb.push(c):bd(a,c)}
function bd(a,c){if(a.me)a.me(c);else{var b=ea(c);if(b=="object"||b=="array"||b=="function")if(ea(c.Uc)=="function")c.Uc();else for(var d in c)delete c[d]}}Y.prototype.ub=function(){Y.ae.ub.call(this);for(var a=this.Kb;a.length;)bd(this,a.pop());delete this.Kb};var cd;var dd=(cd="ScriptEngine"in t&&t.ScriptEngine()=="JScript")?t.ScriptEngineMajorVersion()+"."+t.ScriptEngineMinorVersion()+"."+t.ScriptEngineBuildVersion():"0";var ed,fd,gd,hd,id,jd,kd,ld,md,nd,od;
(function(){function a(){return{cb:0,ab:0}}function c(){return[]}function b(){function l(o){return g.call(l.src,l.key,o)}return l}function d(){return new Yc}function e(){return new Xc}var f=cd&&!(qa(dd,"5.7")>=0),g;jd=function(l){g=l};if(f){ed=function(){return h.getObject()};fd=function(l){ad(h,l)};gd=function(){return j.getObject()};hd=function(l){ad(j,l)};id=function(){return i.getObject()};kd=function(){ad(i,b())};ld=function(){return k.getObject()};md=function(l){ad(k,l)};nd=function(){return n.getObject()};
od=function(l){ad(n,l)};var h=new Y(0,600);h.jb=a;var j=new Y(0,600);j.jb=c;var i=new Y(0,600);i.jb=b;var k=new Y(0,600);k.jb=d;var n=new Y(0,600);n.jb=e}else{ed=a;fd=da;gd=c;hd=da;id=b;kd=da;ld=d;md=da;nd=e;od=da}})();function pd(a,c){for(var b in a)c.call(m,a[b],b,a)}var qd=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];function rd(a){for(var c,b,d=1;d<arguments.length;d++){b=arguments[d];for(c in b)a[c]=b[c];for(var e=0;e<qd.length;e++){c=qd[e];Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}}};var sd={},Z={},td={},ud={};
function vd(a,c,b,d,e){if(c)if(ea(c)=="array")for(var f=0;f<c.length;f++)vd(a,c[f],b,d,e);else{d=!!d;var g=Z;c in g||(g[c]=ed());g=g[c];if(!(d in g)){g[d]=ed();g.cb++}g=g[d];var h=fa(a),j;g.ab++;if(g[h]){j=g[h];for(f=0;f<j.length;f++){g=j[f];if(g.yc==b&&g.Ed==e){if(g.pc)break;return}}}else{j=g[h]=gd();g.cb++}f=id();f.src=a;g=ld();g.Wc(b,f,a,c,d,e);b=g.key;f.key=b;j.push(g);sd[b]=g;td[h]||(td[h]=gd());td[h].push(g);a.addEventListener?(a==t||!a.ke)&&a.addEventListener(c,f,d):a.attachEvent(wd(c),f)}else throw Error("Invalid event type");
}function xd(a,c,b,d,e){if(ea(c)=="array")for(var f=0;f<c.length;f++)xd(a,c[f],b,d,e);else{d=!!d;a:{f=Z;if(c in f){f=f[c];if(d in f){f=f[d];a=fa(a);if(f[a]){a=f[a];break a}}}a=p}if(a)for(f=0;f<a.length;f++)if(a[f].yc==b&&a[f].capture==d&&a[f].Ed==e){yd(a[f].key);break}}}
function yd(a){if(sd[a]){var c=sd[a];if(!c.pc){var b=c.src,d=c.type,e=c.proxy,f=c.capture;b.removeEventListener?(b==t||!b.ke)&&b.removeEventListener(d,e,f):b.detachEvent&&b.detachEvent(wd(d),e);b=fa(b);e=Z[d][f][b];if(td[b]){var g=td[b],h=va(g,c);h>=0&&ua.splice.call(g,h,1);g.length==0&&delete td[b]}c.pc=!0;e.Fe=!0;zd(d,f,b,e);delete sd[a]}}}
function zd(a,c,b,d){if(!d.ad&&d.Fe){for(var e=0,f=0;e<d.length;e++)if(d[e].pc){var g=d[e].proxy;g.src=p;kd(g);md(d[e])}else{e!=f&&(d[f]=d[e]);f++}d.length=f;d.Fe=!1;if(f==0){hd(d);delete Z[a][c][b];Z[a][c].cb--;if(Z[a][c].cb==0){fd(Z[a][c]);delete Z[a][c];Z[a].cb--}if(Z[a].cb==0){fd(Z[a]);delete Z[a]}}}}
function Ad(a){var c,b=0,d=a==p,e=c==p;c=!!c;if(d)pd(td,function(g){for(var h=g.length-1;h>=0;h--){var j=g[h];if(e||c==j.capture){yd(j.key);b++}}});else{a=fa(a);if(td[a]){a=td[a];for(d=a.length-1;d>=0;d--){var f=a[d];if(e||c==f.capture){yd(f.key);b++}}}}}function wd(a){if(a in ud)return ud[a];return ud[a]="on"+a}
function Bd(a,c,b,d,e){var f=1;c=fa(c);if(a[c]){a.ab--;a=a[c];a.ad?a.ad++:a.ad=1;try{for(var g=a.length,h=0;h<g;h++){var j=a[h];j&&!j.pc&&(f&=Cd(j,e)!==!1)}}finally{a.ad--;zd(b,d,c,a)}}return Boolean(f)}function Cd(a,c){var b=a.handleEvent(c);a.ie&&yd(a.key);return b}
jd(function(a,c){if(!sd[a])return!0;var b=sd[a],d=b.type,e=Z;if(!(d in e))return!0;e=e[d];var f,g;Vc===m&&(Vc=Ic&&!t.addEventListener);if(Vc){var h;if(!(h=c))a:{h="window.event".split(".");for(var j=t;f=h.shift();)if(j[f]!=p)j=j[f];else{h=p;break a}h=j}f=h;h=!0 in e;j=!1 in e;if(h){if(f.keyCode<0||f.returnValue!=m)return!0;a:{var i=!1;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(k){i=!0}if(i||f.returnValue==m)f.returnValue=!0}}i=nd();i.Wc(f,this);f=!0;try{if(h){for(var n=gd(),l=i.currentTarget;l;l=
l.parentNode)n.push(l);g=e[!0];g.ab=g.cb;for(var o=n.length-1;!i.oc&&o>=0&&g.ab;o--){i.currentTarget=n[o];f&=Bd(g,n[o],d,!0,i)}if(j){g=e[!1];g.ab=g.cb;for(o=0;!i.oc&&o<n.length&&g.ab;o++){i.currentTarget=n[o];f&=Bd(g,n[o],d,!1,i)}}}else f=Cd(b,i)}finally{if(n){n.length=0;hd(n)}i.Uc();od(i)}return f}d=new Xc(c,this);try{f=Cd(b,d)}finally{d.Uc()}return f});function Dd(){Wc.call(this)}w(Dd,Wc);r=Dd.prototype;r.ke=!0;r.Zd=p;r.addEventListener=function(a,c,b,d){vd(this,a,c,b,d)};r.removeEventListener=function(a,c,b,d){xd(this,a,c,b,d)};
r.dispatchEvent=function(a){var c=a.type||a,b=Z;if(c in b){if(typeof a=="string")a=new X(a,this);else if(a instanceof X)a.target=a.target||this;else{var d=a;a=new X(c,this);rd(a,d)}d=1;var e;b=b[c];c=!0 in b;var f;if(c){e=[];for(f=this;f;f=f.Zd)e.push(f);f=b[!0];f.ab=f.cb;for(var g=e.length-1;!a.oc&&g>=0&&f.ab;g--){a.currentTarget=e[g];d&=Bd(f,e[g],a.type,!0,a)&&a.pd!=!1}}if(!1 in b){f=b[!1];f.ab=f.cb;if(c)for(g=0;!a.oc&&g<e.length&&f.ab;g++){a.currentTarget=e[g];d&=Bd(f,e[g],a.type,!1,a)&&a.pd!=
!1}else for(e=this;!a.oc&&e&&f.ab;e=e.Zd){a.currentTarget=e;d&=Bd(f,e,a.type,!1,a)&&a.pd!=!1}}a=Boolean(d)}else a=!0;return a};r.ub=function(){Dd.ae.ub.call(this);Ad(this);this.Zd=p};function Ed(){this.Ld=0;this.Vb=[];this.wc=this.Mc=0}function Fd(a){var c=na();if(a.Nd>0){var b=c-a.Nd;b/=1E3;a.Ld++;if(a.Vb.length<Gd){a.Vb.push(b);a.Mc+=b;a.wc=a.Ld/a.Mc}else{var d=a.Ld%a.Vb.length;a.Mc-=a.Vb[d];a.Vb[d]=b;a.Mc+=a.Vb[d];a.wc=a.Vb.length/a.Mc}}a.Nd=c;return a.wc}Ed.prototype.Nd=0;var Gd=100;function Hd(a){this.Jd=a;this.Jd.fillStyle=this.Jd.strokeStyle="#666";this.Cc=[sc,uc,xc,vc,yc];Id(this);this.ff=new Ed;this.Od=!0;this.he();$(a.canvas).click(ka(function(c){c=new xa(c.pageX-a.canvas.offsetLeft,c.pageY-a.canvas.offsetTop);Math.random()<0.5?wc(this.Q,c.x,c.y,10):Ac(this.Q,c.x,c.y,10,10,!1)},this))}w(Hd,Dd);
function Id(a,c){if(a.Cc.length==0)throw"No demos to load";else if(c===m)a.Ec=Math.floor(Math.random()*a.Cc.length);else{for(a.Ec+=c;a.Ec<0;)a.Ec+=a.Cc.length;a.Ec%=a.Cc.length}var b=new F;b.A.g(-1E3,-1E3);b.F.g(1E3,1E3);b=new qc(b,new z(0,300),!0);Ac(b,250,305,250,5,!0,!0);Ac(b,5,185,5,125,!0,!0);Ac(b,495,185,5,125,!0,!0);a.Q=b;a.Cc[a.Ec](a.Q)}function Jd(a,c){if(c!==m)a.Od=!!c;return a.Od}
Hd.prototype.he=function(){var a=this.Od?1E3/60:1;t.setTimeout(ka(this.he,this),a);a=this.Q;var c=Kd,b,d;a.nd.Oa=c;a.nd.Gd=1;a.nd.Fd=c>0?1/c:0;a.ye=0;for(var e=a.ec,f=e.Q.$;f!=p;){var g=f;f=f.p;g.u&2&&Sb(e,g)}a.ec.Md=!0;for(e=a.fd;e;){f=e;e=e.p;for(g=f.W;g;){var h=g;g=g.next;b=a;h=h.Lb;d=h.ta;if(h.D)h.D.p=h.p;if(h.p)h.p.D=h.D;if(h==b.W)b.W=h.p;var j=h.h,i=h.e;$a(j);$a(i);if(h.o.prev)h.o.prev.next=h.o.next;if(h.o.next)h.o.next.prev=h.o.prev;if(h.o==j.W)j.W=h.o.next;h.o.prev=p;h.o.next=p;if(h.q.prev)h.q.prev.next=
h.q.next;if(h.q.next)h.q.next.prev=h.q.prev;if(h.q==i.W)i.W=h.q.next;h.q.prev=p;h.q.next=p;--b.Ff;if(d==!1)for(h=(j.Ub<i.Ub?j:i).Bb;h;h=h.p)h.Tc(b.Qa)}for(f=f.Bb;f;){g=f;f=f.p;g.aa!=L&&g.z.Q.Qa.Yb(g.aa)}}a.fd=p;a.ec.Md=!1;for(e=a.ec.Q.$;e!=p;e=e.p)if((e.N.z.u&Q)!=Q||(e.O.z.u&Q)!=Q){f=e.Ka;e.tc();g=e.Ka;if(f==0&&g>0){f=e.N.z;g=e.O.z;b=e.o;h=e.q;b.Ca=e;b.oa=g;b.prev=p;b.next=f.$;if(b.next!=p)b.next.prev=e.o;f.$=e.o;h.Ca=e;h.oa=f;h.prev=p;h.next=g.$;if(h.next!=p)h.next.prev=h;g.$=h}else if(f>0&&g==0){f=
e.N.z;g=e.O.z;b=e.o;h=e.q;if(b.prev)b.prev.next=b.next;if(b.next)b.next.prev=b.prev;if(b==f.$)f.$=b.next;b.prev=p;b.next=p;if(h.prev)h.prev.next=h.next;if(h.next)h.next.prev=h.prev;if(h==g.$)g.$=h.next;h.prev=p;h.next=p}}e=new Xb(a.Ja,a.Mb,a.Ff);for(b=a.lb;b!=p;b=b.p)b.u&=-5;for(f=a.$;f!=p;f=f.p)f.u&=-2;for(f=a.W;f!=p;f=f.p)f.pb=!1;f=Array(a.Ja);for(g=0;g<a.Ja;g++)f[g]=p;for(g=a.lb;g!=p;g=g.p)if(!(g.u&(Ya|4|Q|ab))){b=e;b.Ja=0;b.Mb=0;h=b.Ff=0;f[h++]=g;for(g.u|=4;h>0;){d=b=f[--h];e.kb[e.Ja++]=d;b.u&=
~Q;if(!(b.u&Ya)){for(j=b.$;j!=p;j=j.next)if(!(j.Ca.u&1)){d=j.Ca;e.Kd[e.Mb++]=d;j.Ca.u|=1;d=j.oa;if(!(d.u&4)){f[h++]=d;d.u|=4}}for(b=b.W;b!=p;b=b.next)if(b.Lb.pb!=!0){d=b.Lb;e.Fc[e.Ff++]=d;b.Lb.pb=!0;d=b.oa;if(!(d.u&4)){f[h++]=d;d.u|=4}}}}e.wd(a.nd,a.gf);a.ye=Math.max(a.ye,Zb);if(a.df){b=a;h=e;d=c;j=0;i=m;var k=Number.MAX_VALUE,n=Fa*Fa;for(j=0;j<h.Ja;++j){i=h.kb[j];if(i.i!=0){if((i.u&Za)==0)k=i.Lc=0;if((i.u&Za)==0||i.l*i.l>n||ya(i.f,i.f)>0.09)k=i.Lc=0;else{i.Lc+=d;k=Math.min(k,i.Lc)}}}if(k>=0.5){for(j=
0;j<h.Ja;++j){i=h.kb[j];i.u|=Q}h=!0}else h=!1;b.Qc=h}for(h=0;h<e.Ja;++h){b=e.kb[h];b.u&Ya&&(b.u&=-5);if((b.u&ab)==ab&&a.se&&a.se.sf(b)==1){d=a;if(!(b.u&32)){if(b.D)b.D.p=b.p;if(b.p)b.p.D=b.D;if(b==d.lb)d.lb=b.p;b.u|=32;--d.Ja;b.D=p;b.p=d.fd;d.fd=b}e.kb[h]=p}}}a.Ze=a.Qa.sc();if(!this.Q.Qc){c=this.Q;a=this.Jd;a.clearRect(0,0,a.canvas.width,a.canvas.height);for(e=c.W;e;e=e.p){f=c;g=e;b=a;h=g.h;d=g.e;j=h.c;i=d.c;k=g.Db();n=g.Eb();b.beginPath();switch(g.ya){case 3:b.moveTo(k.x,k.y);b.lineTo(n.x,n.y);break;
case 4:break;default:if(h==f.gc){b.moveTo(k.x,k.y);b.lineTo(i.x,i.y)}else if(d==f.gc){b.moveTo(k.x,k.y);b.lineTo(j.x,j.y)}else{b.moveTo(j.x,j.y);b.lineTo(k.x,k.y);b.lineTo(i.x,i.y);b.lineTo(n.x,n.y)}}b.stroke()}for(c=c.lb;c;c=c.p)for(e=c.Bb;e!=p;e=e.$b()){f=e;g=a;g.beginPath();switch(f.ya){case 0:b=f.c;h=f.ga;g.arc(f.c.x,f.c.y,f.ga,0,2*Math.PI,!1);g.moveTo(b.x,b.y);d=f.d.a;b=new z(b.x+h*d.x,b.y+h*d.y);g.lineTo(b.x,b.y);break;case 2:b=Aa(f.c,O(f.d,f.s[0]));g.moveTo(b.x,b.y);for(h=0;h<f.Na;h++){d=Aa(f.c,
O(f.d,f.s[h]));g.lineTo(d.x,d.y)}g.lineTo(b.x,b.y)}g.stroke();f.$a=="filled"&&g.fill()}}a=Math.round(Fd(this.ff));this.dispatchEvent(new Ld(a,this.Q.Qc))};function wc(a,c,b,d){d=d||20;var e=new La;e.Ia=1;e.rb=d;e.gb=0.8;e.vb=0.9;d=new H;J(d,e);d.position.g(c,b);return W(a,d)}function Ac(a,c,b,d,e,f,g){typeof f=="undefined"&&(f=!0);typeof g=="undefined"&&(g=!1);var h=new Ka;if(!f)h.Ia=1;if(g)h.G="filled";h.R.g(d,e);d=new H;J(d,h);d.position.g(c,b);return W(a,d)}var Kd=1/60;
function Ld(a,c){X.call(this,Md);this.wc=a;this.Qc=c}w(Ld,X);var Md="Demo.FrameEventType";$(document).ready(function(){var a=new Hd($("canvas")[0].getContext("2d"));$("#fps_limit").click(function(){Jd(a,$("#fps_limit").attr("checked"))});$("#fps_limit").attr("checked",Jd(a));$("#previous").click(function(){Id(a,-1)});$("#reload").click(function(){Id(a,0)});$("#next").click(function(){Id(a,1)});var c=0;vd(a,Md,function(b){if(c==0){$("#fps").html(b.wc+"fps");b.Qc?$("#fps").addClass("sleeping"):$("#fps").removeClass("sleeping")}c++;c%=30})});
