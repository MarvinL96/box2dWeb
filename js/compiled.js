var l=void 0,p=null;function aa(){return function(){}}function ba(a){return function(){return this[a]}}function ca(a){return function(){return a}}var q,u=this;function da(){}
function ea(a){var c=typeof a;if(c=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if(b=="[object Window]")return"object";if(b=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(b=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(c=="function"&&typeof a.call=="undefined")return"object";return c}function fa(a){return a[ga]||(a[ga]=++ha)}var ga="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ha=0;function ka(a,c,b){return a.call.apply(a.bind,arguments)}
function la(a,c,b){var d=c||u;if(arguments.length>2){var e=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(b,e);return a.apply(d,b)}}else return function(){return a.apply(d,arguments)}}function ma(a,c,b){ma=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ka:la;return ma.apply(p,arguments)}var na=Date.now||function(){return+new Date};
function w(a,c){function b(){}b.prototype=c.prototype;a.ce=c.prototype;a.prototype=new b};function oa(a,c){for(var b=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(c).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;b==0&&g<f;g++){var h=d[g]||"",k=e[g]||"",i=RegExp("(\\d*)(\\D*)","g"),j=RegExp("(\\d*)(\\D*)","g");do{var m=i.exec(h)||["","",""],n=j.exec(k)||["","",""];if(m[0].length==0&&n[0].length==0)break;b=pa(m[1].length==0?0:parseInt(m[1],10),n[1].length==0?0:parseInt(n[1],10))||pa(m[2].length==0,n[2].length==0)||pa(m[2],n[2])}while(b==
0)}return b}function pa(a,c){if(a<c)return-1;else if(a>c)return 1;return 0};var qa=Array.prototype,ta=qa.indexOf?function(a,c,b){return qa.indexOf.call(a,c,b)}:function(a,c,b){b=b==p?0:b<0?Math.max(0,a.length+b):b;if(typeof a=="string")return typeof c!="string"||c.length!=1?-1:a.indexOf(c,b);for(;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1};function ua(a,c){this.x=a!==l?a:0;this.y=c!==l?c:0}ua.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function va(a,c){this.x=a;this.y=c}w(va,ua);function x(a){return Math.sqrt(a.x*a.x+a.y*a.y)}va.prototype.scale=function(a){this.x*=a;this.y*=a;return this};va.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};function wa(a,c){return a.x*c.x+a.y*c.y};function y(a,c){a===l&&(a=0);this.x=a;c===l&&(c=0);this.y=c}w(y,va);q=y.prototype;q.ka=function(){this.y=this.x=0};q.g=function(a,c){this.x=a;this.y=c};function B(a,c){a.x=c.x;a.y=c.y}q.Od=function(){return new y(this.x,this.y)};function xa(a,c){var b=a.x;a.x=c.a.x*b+c.b.x*a.y;a.y=c.a.y*b+c.b.y*a.y}q.ic=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};q.Jc=function(){return isFinite(this.x)&&isFinite(this.y)};function ya(a,c){return new y(a.x+c.x,a.y+c.y)}
function za(a,c){return new y(a.x-c.x,a.y-c.y)};function E(){this.B=new y;this.F=new y}E.prototype.Jc=function(){var a=this.F.x,c=this.F.y,a=this.F.x,c=this.F.y;a-=this.B.x;c-=this.B.y;return a=a>=0&&c>=0&&this.B.Jc()&&this.F.Jc()};var Aa=Math.PI,Ba=2/180*Aa,Ca=8/180*Aa,Da=2/180/1;function G(){this.type=Ea;this.H=p;this.Qa=new y(0,0);this.Bc=0;this.ec=0.2;this.Na=this.ub=0;this.Fc=1;this.Gc=65535;this.ue=0}G.prototype.ed=function(a){a.fa=new y(0,0);a.Ua=0;a.Nb=0};G.prototype.Fc=0;G.prototype.Gc=0;G.prototype.ue=0;var Ea=-1;function I(){this.kc=[];this.H=p;for(var a=0;a<64;a++)this.kc[a]=p;this.position=new y(0,0);this.rotation=0;this.bf=new y(0,0);this.Ze=this.af=this.Pd=0;this.Ye=!0;this.cf=this.$e=!1}function J(a,c){for(var b=0;b<64;++b)if(a.kc[b]==p){a.kc[b]=c;break}};function K(a,c,b){a==p&&(a=0);this.a=new y;this.b=new y;c!=p&&b!=p?(B(this.a,c),B(this.b,b)):(c=Math.cos(a),a=Math.sin(a),this.a.x=c,this.b.x=-a,this.a.y=a,this.b.y=c)}q=K.prototype;q.g=function(a){var c=Math.cos(a),a=Math.sin(a);this.a.x=c;this.b.x=-a;this.a.y=a;this.b.y=c};q.Od=function(){return new K(0,this.a,this.b)};function Fa(a,c){B(a.a,c.a);B(a.b,c.b)}function Ga(a,c){a.a.x+=c.a.x;a.a.y+=c.a.y;a.b.x+=c.b.x;a.b.y+=c.b.y}q.ka=function(){this.a.x=0;this.b.x=0;this.a.y=0;this.b.y=0};
function Ha(a,c){var b=a.a.x,d=a.b.x,e=a.a.y,f=a.b.y,g;g=1/(b*f-d*e);c.a.x=g*f;c.b.x=-g*d;c.a.y=-g*e;c.b.y=g*b}q.sd=function(a,c,b){var d=this.a.x,e=this.b.x,f=this.a.y,g=this.b.y,h;h=1/(d*g-e*f);a.x=h*(g*c-e*b);a.y=h*(d*b-f*c);return a};q.ic=function(){this.a.ic();this.b.ic()};function Ia(a,c){this.d=new K;this.c=new y;this.gb=a.H;this.ua=a.ec;this.va=a.ub;this.z=c;this.da=65535;this.cd=0;this.Fc=a.Fc;this.Gc=a.Gc;this.gd=a.ue}Ia.prototype.Uc=aa();Ia.prototype.ac=ba("p");Ia.prototype.Xb=function(){if(this.da!=65535)this.z.O.Pa.Xb(this.da),this.da=65535};Ia.prototype.Qd=aa();function Ja(){G.call(this);this.type=1;this.T=new y(1,1)}w(Ja,G);Ja.prototype.ed=function(a){a.fa=new y(0,0);if(this.Na==0)a.Ua=0,a.fa.g(0,0),a.Nb=0;a.Ua=4*this.Na*this.T.x*this.T.y;a.fa.g(0,0);a.Nb=a.Ua/3*wa(this.T,this.T)};function Ka(){G.call(this);this.type=0;this.ob=1}w(Ka,G);Ka.prototype.ed=function(a){a.Ua=this.Na*Aa*this.ob*this.ob;a.Nb=0.5*a.Ua*this.ob*this.ob};function Ma(a){(u.requestAnimationFrame||u.webkitRequestAnimationFrame||u.mozRequestAnimationFrame||u.oRequestAnimationFrame||u.msRequestAnimationFrame||function(a){u.setTimeout(a,1E3/60)})(a)};function Na(){this.Ua=this.Nb=0;this.fa=new y(0,0)};function N(a,c){return new y(a.a.x*c.x+a.b.x*c.y,a.a.y*c.x+a.b.y*c.y)}function O(a,c,b){return Math.max(c,Math.min(a,b))};function Oa(a,c,b){Ia.call(this,a,c);this.Ra=new y;this.Ra.g(a.Qa.x-b.x,a.Qa.y-b.y);this.Ga=a.type;this.ga=a.ob;Fa(this.d,this.z.d);a=this.d.a.x*this.Ra.x+this.d.b.x*this.Ra.y;c=this.d.a.y*this.Ra.x+this.d.b.y*this.Ra.y;this.c.x=this.z.c.x+a;this.c.y=this.z.c.y+c;this.cd=Math.sqrt(a*a+c*c)+this.ga;a=new E;a.B.g(this.c.x-this.ga,this.c.y-this.ga);a.F.g(this.c.x+this.ga,this.c.y+this.ga);c=this.z.O.Pa;this.da=Pa(c,a)?Qa(c,a,this):65535;this.da==65535&&Ra(this.z)}w(Oa,Ia);
Oa.prototype.Qd=function(a,c,b,d){Fa(this.d,d);this.c.x=d.a.x*this.Ra.x+d.b.x*this.Ra.y+b.x;this.c.y=d.a.y*this.Ra.x+d.b.y*this.Ra.y+b.y;if(this.da!=65535){var b=a.x+(c.a.x*this.Ra.x+c.b.x*this.Ra.y),c=a.y+(c.a.y*this.Ra.x+c.b.y*this.Ra.y),d=Math.max(b,this.c.x),e=Math.max(c,this.c.y),a=new E;a.B.g(Math.min(b,this.c.x)-this.ga,Math.min(c,this.c.y)-this.ga);a.F.g(d+this.ga,e+this.ga);b=this.z.O.Pa;Pa(b,a)?Sa(b,this.da,a):Ra(this.z)}};
Oa.prototype.Uc=function(a){if(this.da!=65535){a.Xb(this.da);var c=new E;c.B.g(this.c.x-this.ga,this.c.y-this.ga);c.F.g(this.c.x+this.ga,this.c.y+this.ga);this.da=Pa(a,c)?Qa(a,c,this):65535;this.da==65535&&Ra(this.z)}};function Ta(){G.call(this);this.vb=Array(8);this.type=2;for(var a=this.hc=0;a<8;a++)this.vb[a]=new y}w(Ta,G);
Ta.prototype.ed=function(a){a.fa=new y(0,0);if(this.Na==0)a.Ua=0,a.fa.g(0,0),a.Nb=0;var c=this.vb,b=this.hc,d=this.Na,e=new y;e.ka();for(var f=0,g=0,h=new y(0,0),k=1/3,i=0;i<b;++i){var j=h,m=c[i],n=i+1<b?c[i+1]:c[0],o=za(m,j),r=za(n,j),t=o.x*r.y-o.y*r.x,s=0.5*t;f+=s;var v=new y;B(v,j);v.add(m);v.add(n);v.scale(k*s);e.add(v);m=j.x;j=j.y;n=o.x;o=o.y;s=r.x;r=r.y;g+=t*(k*(0.25*(n*n+s*n+s*s)+(m*n+m*s))+0.5*m*m+(k*(0.25*(o*o+r*o+r*r)+(j*o+j*r))+0.5*j*j))}a.Ua=d*f;e.scale(1/f);a.fa=e;g=d*(g-f*wa(e,e));a.Nb=
g};function Ua(){this.Ba=new K;this.fa=new y;this.T=new y};function Va(a,c,b){Ia.call(this,a,c);this.Ca=new E;this.ja=new K;this.wa=new y;this.s=new Ua;var d=0,e,c=new E;this.r=Array(8);this.Mb=Array(8);this.Za=Array(8);this.Ga=2;var f=new K(a.Bc);if(a instanceof Ja){this.wa.x=a.Qa.x-b.x;this.wa.y=a.Qa.y-b.y;this.Ka=4;b=a.T.x;e=a.T.y;var d=Math.max(0,b-0.3),g=Math.max(0,e-0.3),a=this.r[0]=new y;a.x=f.a.x*b+f.b.x*e;a.y=f.a.y*b+f.b.y*e;a=this.r[1]=new y;a.x=f.a.x*-b+f.b.x*e;a.y=f.a.y*-b+f.b.y*e;a=this.r[2]=new y;a.x=f.a.x*-b+f.b.x*-e;a.y=f.a.y*-b+f.b.y*-e;
a=this.r[3]=new y;a.x=f.a.x*b+f.b.x*-e;a.y=f.a.y*b+f.b.y*-e;a=this.Mb[0]=new y;a.x=f.a.x*d+f.b.x*g;a.y=f.a.y*d+f.b.y*g;a=this.Mb[1]=new y;a.x=f.a.x*-d+f.b.x*g;a.y=f.a.y*-d+f.b.y*g;a=this.Mb[2]=new y;a.x=f.a.x*-d+f.b.x*-g;a.y=f.a.y*-d+f.b.y*-g;a=this.Mb[3]=new y;a.x=f.a.x*d+f.b.x*-g;a.y=f.a.y*d+f.b.y*-g}else{this.Ka=a.hc;d=a.vb;e=a.hc;for(var g=Wa,h=0,k=0,i=0,j=1/3,m=0;m<e;++m){var n=d[m].x,o=d[m].y,r=m+1<e?d[m+1].x:d[0].x,t=m+1<e?d[m+1].y:d[0].y,s=0.5*((n-0)*(t-0)-(o-0)*(r-0));i+=s;h+=s*j*(0+n+r);
k+=s*j*(0+o+t)}h*=1/i;k*=1/i;g.g(h,k);g=Wa.x;h=Wa.y;this.wa.x=a.Qa.x+(f.a.x*g+f.b.x*h)-b.x;this.wa.y=a.Qa.y+(f.a.y*g+f.b.y*h)-b.y;for(d=0;d<this.Ka;++d)this.r[d]=new y,this.Mb[d]=new y,b=a.vb[d].x-g,e=a.vb[d].y-h,this.r[d].x=f.a.x*b+f.b.x*e,this.r[d].y=f.a.y*b+f.b.y*e,b=this.r[d].x,e=this.r[d].y,k=Math.sqrt(b*b+e*e),k>Number.MIN_VALUE&&(b*=1/k,e*=1/k),this.Mb[d].x=this.r[d].x-0.3*b,this.Mb[d].y=this.r[d].y-0.3*e}a=f=Number.MAX_VALUE;b=-Number.MAX_VALUE;e=-Number.MAX_VALUE;for(d=this.cd=0;d<this.Ka;++d)g=
this.r[d],f=Math.min(f,g.x),a=Math.min(a,g.y),b=Math.max(b,g.x),e=Math.max(e,g.y),this.cd=Math.max(this.cd,x(g));d=this.s.Ba;d.a.x=1;d.b.x=0;d.a.y=0;d.b.y=1;this.s.fa.g((f+b)*0.5,(a+e)*0.5);this.s.T.g((b-f)*0.5,(e-a)*0.5);for(d=a=f=0;d<this.Ka;++d)this.Za[d]=new y,f=d,a=d+1<this.Ka?d+1:0,this.Za[d].x=this.r[a].y-this.r[f].y,this.Za[d].y=-(this.r[a].x-this.r[f].x),f=this.Za[d],a=x(f),a<Number.MIN_VALUE||(a=1/a,f.x*=a,f.y*=a);for(d=0;d<this.Ka;++d);Fa(this.d,this.z.d);this.c.x=this.z.c.x+(this.d.a.x*
this.wa.x+this.d.b.x*this.wa.y);this.c.y=this.z.c.y+(this.d.a.y*this.wa.x+this.d.b.y*this.wa.y);P.a.x=this.d.a.x*this.s.Ba.a.x+this.d.b.x*this.s.Ba.a.y;P.a.y=this.d.a.y*this.s.Ba.a.x+this.d.b.y*this.s.Ba.a.y;P.b.x=this.d.a.x*this.s.Ba.b.x+this.d.b.x*this.s.Ba.b.y;P.b.y=this.d.a.y*this.s.Ba.b.x+this.d.b.y*this.s.Ba.b.y;P.ic();b=P.a.x*this.s.T.x+P.b.x*this.s.T.y;e=P.a.y*this.s.T.x+P.b.y*this.s.T.y;f=this.c.x+(this.d.a.x*this.s.fa.x+this.d.b.x*this.s.fa.y);a=this.c.y+(this.d.a.y*this.s.fa.x+this.d.b.y*
this.s.fa.y);c.B.x=f-b;c.B.y=a-e;c.F.x=f+b;c.F.y=a+e;f=this.z.O.Pa;this.da=Pa(f,c)?Qa(f,c,this):65535;this.da==65535&&Ra(this.z)}w(Va,Ia);Va.prototype.Ca=new E;Va.prototype.ja=new K;
Va.prototype.Qd=function(a,c,b,d){Fa(this.d,d);this.c.x=this.z.c.x+(d.a.x*this.wa.x+d.b.x*this.wa.y);this.c.y=this.z.c.y+(d.a.y*this.wa.x+d.b.y*this.wa.y);if(this.da!=65535){var e,f;e=c.a;f=c.b;var g=this.s.Ba.a,h=this.s.Ba.b;this.ja.a.x=e.x*g.x+f.x*g.y;this.ja.a.y=e.y*g.x+f.y*g.y;this.ja.b.x=e.x*h.x+f.x*h.y;this.ja.b.y=e.y*h.x+f.y*h.y;this.ja.ic();e=this.wa.x+this.s.fa.x;f=this.wa.y+this.s.fa.y;g=a.x+(c.a.x*e+c.b.x*f);a=a.y+(c.a.y*e+c.b.y*f);e=this.ja.a.x*this.s.T.x+this.ja.b.x*this.s.T.y;f=this.ja.a.y*
this.s.T.x+this.ja.b.y*this.s.T.y;this.Ca.B.x=g-e;this.Ca.B.y=a-f;this.Ca.F.x=g+e;this.Ca.F.y=a+f;e=d.a;f=d.b;g=this.s.Ba.a;h=this.s.Ba.b;this.ja.a.x=e.x*g.x+f.x*g.y;this.ja.a.y=e.y*g.x+f.y*g.y;this.ja.b.x=e.x*h.x+f.x*h.y;this.ja.b.y=e.y*h.x+f.y*h.y;this.ja.ic();e=this.wa.x+this.s.fa.x;f=this.wa.y+this.s.fa.y;g=b.x+(d.a.x*e+d.b.x*f);a=b.y+(d.a.y*e+d.b.y*f);e=this.ja.a.x*this.s.T.x+this.ja.b.x*this.s.T.y;f=this.ja.a.y*this.s.T.x+this.ja.b.y*this.s.T.y;this.Ca.B.x=Math.min(this.Ca.B.x,g-e);this.Ca.B.y=
Math.min(this.Ca.B.y,a-f);this.Ca.F.x=Math.max(this.Ca.F.x,g+e);this.Ca.F.y=Math.max(this.Ca.F.y,a+f);b=this.z.O.Pa;Pa(b,this.Ca)?Sa(b,this.da,this.Ca):Ra(this.z)}};
Va.prototype.Uc=function(a){if(this.da!=65535){a.Xb(this.da);var c=new K(0,N(this.d,this.s.Ba.a),N(this.d,this.s.Ba.b)),c=new K(0,new y(Math.abs(c.a.x),Math.abs(c.a.y)),new y(Math.abs(c.b.x),Math.abs(c.b.y))),c=N(c,this.s.T),b=N(this.d,this.s.fa);b.add(this.c);var d=new E;B(d.B,b);var e=d.B;e.x-=c.x;e.y-=c.y;B(d.F,b);d.F.add(c);this.da=Pa(a,d)?Qa(a,d,this):65535;this.da==65535&&Ra(this.z)}};var Wa=new y,P=new K;function Xa(a,c){this.te=new K;this.c=new y;B(this.c,a.position);this.Nd=new y;B(this.Nd,this.c);var b=0,d,e;this.w=0;this.n=a.rotation;this.d=new K(0);this.d.g(this.n);this.re=this.n;this.O=c;this.Xe=O(1-a.af,0,1);this.We=O(1-a.Ze,0,1);this.Dc=new y(0,0);this.Ha=this.se=0;for(var f=Array(64),b=0;b<64;b++)f[b]=new Na;this.Fb=0;this.wb=new y(0,0);for(b=0;b<64;++b){d=a.kc[b];if(d==p)break;e=f[b];d.ed(e);this.Ha+=e.Ua;this.wb.x+=e.Ua*(d.Qa.x+e.fa.x);this.wb.y+=e.Ua*(d.Qa.y+e.fa.y);++this.Fb}this.Ha>
0?(this.wb.scale(1/this.Ha),this.c.add(N(this.d,this.wb))):this.w|=Ya;for(b=this.Ec=0;b<this.Fb;++b)d=a.kc[b],e=f[b],this.Ec+=e.Nb,d=za(ya(d.Qa,e.fa),this.wb),this.Ec+=e.Ua*wa(d,d);this.i=this.Ha>0?1/this.Ha:0;this.m=this.Ec>0&&a.cf==!1?1/this.Ec:this.Ec=0;this.f=ya(a.bf,new y(-a.Pd*this.wb.y,a.Pd*this.wb.x));this.l=a.Pd;this.tb=this.p=this.D=this.$=this.Y=p;for(b=0;b<this.Fb;++b){d=a.kc[b];e=d;f=this.wb;if(e instanceof Ka)e=new Oa(e,this,f);else if(e instanceof Ja)e=new Va(e,this,f);else if(e instanceof
Ta)e=new Va(e,this,f);else throw"unsupported ShapeDef";e.p=this.tb;this.tb=e}this.sc=0;a.Ye&&(this.w|=Za);a.$e&&(this.w|=Q);if(this.w&Q||this.i==0)this.f.g(0,0),this.l=0;this.gb=a.H}function $a(a){a.w&=~Q;a.sc=0}Xa.prototype.ac=ba("p");function Ra(a){a.w|=ab;a.f.ka();a.l=0;for(a=a.tb;a!=p;a=a.p)a.Xb()}var Ya=1,ab=2,Q=8,Za=16;function bb(){this.t=this.C=this.value=0}function cb(a,c){var b=a.value,d=a.C,e=a.t;a.value=c.value;a.C=c.C;a.t=c.t;c.value=b;c.C=d;c.t=e};function db(){this.ld=[0,0];this.md=[0,0]};function eb(){this.Fa=this.Ea=0};function fb(){}fb.prototype={Ae:function(){this.status|=gb},hf:function(){this.status&=~gb},ze:function(){return(this.status&gb)==gb},of:function(){this.status|=hb},nf:function(){this.status&=~hb},jf:function(){return(this.status&hb)==hb},lf:function(){this.status|=ib},ve:function(){return(this.status&ib)==ib},Ea:0,Fa:0,next:0,status:0};fb.prototype.ye=p;var gb=1,hb=2,ib=4;function jb(){var a=0;this.Rb=Array(8192);for(a=0;a<8192;++a)this.Rb[a]=65535;this.na=Array(8192);for(a=0;a<8192;++a)this.na[a]=new fb;this.Va=Array(8192);for(a=0;a<8192;++a)this.Va[a]=new eb;for(a=0;a<8192;++a)this.na[a].Ea=65535,this.na[a].Fa=65535,this.na[a].H=p,this.na[a].status=0,this.na[a].next=a+1;this.na[8191].next=65535;this.Xd=0}
jb.prototype={gf:function(a,c){this.Pa=a;this.Yd=c},Vd:function(a,c){var b=this.mf(a,c);if(b.ze()==!1)b.Ae(),this.Va[this.zb].Ea=b.Ea,this.Va[this.zb].Fa=b.Fa,++this.zb;b.nf()},Wd:function(a,c){var b=kb(this,a,c);if(b!=p){if(b.ze()==!1)b.Ae(),this.Va[this.zb].Ea=b.Ea,this.Va[this.zb].Fa=b.Fa,++this.zb;b.of()}},mf:function(a,c){if(a>c)var b=a,a=c,c=b;var b=lb(a,c)&8191,d=mb(this,a,c,b);if(d!=p)return d;var e=this.nd,d=this.na[e];this.nd=d.next;d.Ea=a;d.Fa=c;d.status=0;d.H=p;d.next=this.Rb[b];this.Rb[b]=
e;++this.Xd;return d},kf:function(a,c){if(a>c)var b=a,a=c,c=b;for(var d=lb(a,c)&8191,e=this.Rb[d],f=p;e!=65535;)if(this.na[e].Ea==a&&this.na[e].Fa==c)return b=e,f?f.next=this.na[e].next:this.Rb[d]=this.na[e].next,d=this.na[b],e=d.H,d.next=this.nd,d.Ea=65535,d.Fa=65535,d.H=p,d.status=0,this.nd=b,--this.Xd,e;else f=this.na[e],e=f.next;return p},Pa:p,Yd:p,nd:0,Xd:0,Va:p,zb:0,Rb:p};function kb(a,c,b){if(c>b)var d=c,c=b,b=d;return mb(a,c,b,lb(c,b)&8191)}
function mb(a,c,b,d){for(d=a.Rb[d];d!=65535&&(a.na[d].Ea==c&&a.na[d].Fa==b)==!1;)d=a.na[d].next;return d==65535?p:a.na[d]}jb.prototype.vc=function(){for(var a=0,c=0,b=this.Pa.xa,d=[],a=0;a<this.zb;++a){var e=kb(this,this.Va[a].Ea,this.Va[a].Fa);e.hf();var f=b[e.Ea],g=b[e.Fa];if(e.jf())e.ve()==!0&&this.Yd.xe(f.H,g.H,e.H),this.Va[c].Ea=e.Ea,this.Va[c].Fa=e.Fa,++c;else if(e.ve()==!1)e.ye=this.Yd.we(f.H,g.H),d.push(e.ye),e.lf()}for(a=0;a<c;++a)this.kf(this.Va[a].Ea,this.Va[a].Fa);this.zb=0;return d};
function lb(a,c){var b=c<<16&4294901760|a,b=~b+(b<<15&4294934528);b^=b>>12&1048575;b+=b<<2&4294967292;b^=b>>4&268435455;b*=2057;b^=b>>16&65535;return b};function nb(){this.ya=[0,0];this.Da=[0,0];this.timeStamp=this.Qb=0;this.H=p}nb.prototype={ac:function(){return this.ya[0]},Td:function(a){this.ya[0]=a},Jc:function(){return this.Qb!=65535}};function ob(a,c){this.eb=new jb;this.xa=Array(8192);this.$a=Array(2048);this.Hc=Array(1024);this.mc=new y;var b=0;this.eb.gf(this,c);this.za=a;for(b=this.Pb=0;b<1024;b++)this.Hc[b]=0;this.$a=Array(2);for(b=0;b<2;b++){this.$a[b]=Array(2048);for(var d=0;d<2048;d++)this.$a[b][d]=new bb}b=a.F.x;d=a.F.y;b-=a.B.x;d-=a.B.y;this.mc.x=65535/b;this.mc.y=65535/d;for(b=0;b<1023;++b)d=new nb,this.xa[b]=d,d.Td(b+1),d.timeStamp=0,d.Qb=65535,d.H=p;d=new nb;this.xa[1023]=d;d.Td(65535);d.timeStamp=0;d.Qb=65535;d.H=
p;this.kd=0;this.Kc=1;this.yb=0}function Pa(a,c){var b,d,e,f;b=c.B.x;d=c.B.y;b-=a.za.F.x;d-=a.za.F.y;e=a.za.B.x;f=a.za.B.y;e-=c.F.x;f-=c.F.y;b=Math.max(b,e);d=Math.max(d,f);return Math.max(b,d)<0}
ob.prototype.Xb=function(a){for(var c=this.xa[a],b=2*this.Pb,d=0;d<2;++d){for(var e=this.$a[d],f=c.ya[d],g=c.Da[d],h=e[f].value,k=e[g].value,i=[],j=0,m=g-f-1,n,o,j=0;j<m;j++)i[j]=new bb,n=i[j],o=e[f+1+j],n.value=o.value,n.C=o.C,n.t=o.t;for(var m=i.length,r=f,j=0;j<m;j++)o=i[j],n=e[r+j],n.value=o.value,n.C=o.C,n.t=o.t;i=[];m=b-g-1;for(j=0;j<m;j++)i[j]=new bb,n=i[j],o=e[g+1+j],n.value=o.value,n.C=o.C,n.t=o.t;m=i.length;r=g-1;for(j=0;j<m;j++)o=i[j],n=e[r+j],n.value=o.value,n.C=o.C,n.t=o.t;m=b-2;for(i=
f;i<m;++i)j=this.xa[e[i].C],(e[i].value&1)==0?j.ya[d]=i:j.Da[d]=i;for(m=g-1;f<m;++f)e[f].t--;this.Ic([0],[0],h,k,e,b-2,d)}for(b=0;b<this.yb;++b)this.eb.Wd(a,this.Hc[b]);this.eb.vc();this.yb=0;pb(this);c.H=p;c.Qb=65535;c.ya[0]=65535;c.ya[1]=65535;c.Da[0]=65535;c.Da[1]=65535;c.Td(this.kd);this.kd=a;--this.Pb};
function qb(a,c,b,d){var e=d.B.x,f=d.B.y,e=Math.min(e,a.za.F.x),f=Math.min(f,a.za.F.y),e=Math.max(e,a.za.B.x),f=Math.max(f,a.za.B.y),g=d.F.x,d=d.F.y,g=Math.min(g,a.za.F.x),d=Math.min(d,a.za.F.y),g=Math.max(g,a.za.B.x),d=Math.max(d,a.za.B.y);c[0]=a.mc.x*(e-a.za.B.x)&65534;b[0]=a.mc.x*(g-a.za.B.x)&65535|1;c[1]=a.mc.y*(f-a.za.B.y)&65534;b[1]=a.mc.y*(d-a.za.B.y)&65535|1}
function rb(a,c,b){for(var d=0;d<2;++d){var e=a.$a[d];if(c.ld[d]>e[b.Da[d]].value)return!1;if(c.md[d]<e[b.ya[d]].value)return!1}return!0}ob.prototype.Ic=function(a,c,b,d,e,f,g){b=sb(e,f,b);d=sb(e,f,d);for(f=b;f<d;++f)(e[f].value&1)==0&&tb(this,e[f].C);if(b>0)for(var f=b-1,h=e[f].t;h;)(e[f].value&1)==0&&b<=this.xa[e[f].C].Da[g]&&(tb(this,e[f].C),--h),--f;a[0]=b;c[0]=d};function tb(a,c){var b=a.xa[c];b.timeStamp<a.Kc?(b.timeStamp=a.Kc,b.Qb=1):(b.Qb=2,a.Hc[a.yb]=c,++a.yb)}
function pb(a){if(a.Kc==65535){for(var c=0;c<1024;++c)a.xa[c].timeStamp=0;a.Kc=1}else++a.Kc}
function Sa(a,c,b){var d=0,e=0,f,g;f=0;var h;if(!(c==65535||1024<=c)&&b.Jc()!=!1){var k=2*a.Pb,i=a.xa[c],j=new db;qb(a,j.ld,j.md,b);for(var m=new db,d=0;d<2;++d)m.ld[d]=a.$a[d][i.ya[d]].value,m.md[d]=a.$a[d][i.Da[d]].value;for(d=0;d<2;++d){var n=a.$a[d],o=i.ya[d],r=i.Da[d],t=j.ld[d],s=j.md[d],v=t-n[o].value,z=s-n[r].value;n[o].value=t;n[r].value=s;if(v<0)for(e=o;e>0&&t<n[e-1].value;)b=n[e],f=n[e-1],g=f.C,h=a.xa[f.C],f.t++,(f.value&1)==1==!0?(rb(a,j,h)&&a.eb.Vd(c,g),h.Da[d]++,b.t++):(h.ya[d]++,b.t--),
i.ya[d]--,cb(b,f),--e;if(z>0)for(e=r;e<k-1&&n[e+1].value<=s;)b=n[e],g=n[e+1],f=g.C,h=a.xa[f],g.t++,(g.value&1)==0==!0?(rb(a,j,h)&&a.eb.Vd(c,f),h.ya[d]--,b.t++):(h.Da[d]--,b.t--),i.Da[d]++,cb(b,g),e++;if(v>0)for(e=o;e<k-1&&n[e+1].value<=t;)b=n[e],g=n[e+1],f=g.C,h=a.xa[f],g.t--,(g.value&1)==1?(rb(a,m,h)&&a.eb.Wd(c,f),h.Da[d]--,b.t--):(h.ya[d]--,b.t++),i.ya[d]++,cb(b,g),e++;if(z<0)for(e=r;e>0&&s<n[e-1].value;)b=n[e],f=n[e-1],g=f.C,h=a.xa[g],f.t--,(f.value&1)==0==!0?(rb(a,m,h)&&a.eb.Wd(c,g),h.ya[d]++,
b.t--):(h.Da[d]++,b.t++),i.Da[d]--,cb(b,f),e--}}}ob.prototype.vc=function(){return this.eb.vc()};
function Qa(a,c,b){var d=0,e,f=a.kd;e=a.xa[f];a.kd=e.ac();e.Qb=0;e.H=b;b=2*a.Pb;e=[];var g=[];qb(a,e,g,c);for(c=0;c<2;++c){var h=a.$a[c],k=0,i=0,k=[k],i=[i];a.Ic(k,i,e[c],g[c],h,b,c);for(var k=k[0],i=i[0],d=[],j=0,m=b-i,n,o,j=0;j<m;j++)d[j]=new bb,n=d[j],o=h[i+j],n.value=o.value,n.C=o.C,n.t=o.t;for(var m=d.length,r=i+2,j=0;j<m;j++)o=d[j],n=h[r+j],n.value=o.value,n.C=o.C,n.t=o.t;d=[];m=i-k;for(j=0;j<m;j++)d[j]=new bb,n=d[j],o=h[k+j],n.value=o.value,n.C=o.C,n.t=o.t;m=d.length;r=k+1;for(j=0;j<m;j++)o=
d[j],n=h[r+j],n.value=o.value,n.C=o.C,n.t=o.t;++i;h[k].value=e[c];h[k].C=f;h[i].value=g[c];h[i].C=f;h[k].t=k==0?0:h[k-1].t;h[i].t=h[i-1].t;for(d=k;d<i;++d)h[d].t++;for(d=k;d<b+2;++d)k=a.xa[h[d].C],(h[d].value&1)==0?k.ya[c]=d:k.Da[c]=d}++a.Pb;for(b=0;b<a.yb;++b)a.eb.Vd(f,a.Hc[b]);a.eb.vc();a.yb=0;pb(a);return f}function sb(a,c,b){var d=0;for(c-=1;d<=c;){var e=Math.floor((d+c)/2);if(a[e].value>b)c=e-1;else if(a[e].value<b)d=e+1;else return e}return d};var ub=new (aa());function R(){this.next=this.prev=this.Aa=this.ma=p};function vb(){this.Sd=this.Hf=this.Rd=p};function wb(a,c){this.o=new R;this.q=new R;this.w=0;!a||!c?this.Q=this.P=p:(this.P=a,this.Q=c,this.Ja=0,this.ua=Math.sqrt(this.P.ua*this.Q.ua),this.va=Math.max(this.P.va,this.Q.va),this.p=this.D=p,this.o.Aa=p,this.o.prev=p,this.o.next=p,this.o.ma=p,this.q.Aa=p,this.q.prev=p,this.q.next=p,this.q.ma=p)}wb.prototype.cc=ca(p);wb.prototype.ac=ba("p");wb.prototype.zc=aa();function xb(a){this.Jf=a;this.pf=this.rf=this.qf=this.If=0};function yb(){this.Sb=0;this.U=new xb(this)}yb.prototype.g=function(a){zb(this,a.Sb)};yb.prototype.Od=function(){var a=new yb;zb(a,this.Sb);return a};function zb(a,c){a.Sb=c;a.U.rf=a.Sb&255;a.U.Ff=(a.Sb&65280)>>8&255;a.U.qf=(a.Sb&16711680)>>16&255;a.U.pf=(a.Sb&4278190080)>>24&255};function Ab(){this.nb=new y;this.id=new yb};function Bb(a,c,b){var d=Eb,e=0,f=c[0].nb,g=c[1].nb,h=wa(d,c[0].nb)-b,b=wa(d,c[1].nb)-b;h<=0&&(a[e++]=c[0]);b<=0&&(a[e++]=c[1]);if(h*b<0)b=h/(h-b),d=a[e].nb,d.x=f.x+b*(g.x-f.x),d.y=f.y+b*(g.y-f.y),a[e].id=h>0?c[0].id:c[1].id,++e;return e}
function Cb(a,c,b){for(var d=a.r,e=b.Ka,f=b.r,g=a.Za[c].x,h=a.Za[c].y,k=g,i=a.d,g=i.a.x*k+i.b.x*h,h=i.a.y*k+i.b.y*h,j=g,m=h,i=b.d,k=j*i.a.x+m*i.a.y,m=j*i.b.x+m*i.b.y,j=k,k=0,i=Number.MAX_VALUE,n=0;n<e;++n){var o=f[n],o=o.x*j+o.y*m;o<i&&(i=o,k=n)}i=a.d;e=a.c.x+(i.a.x*d[c].x+i.b.x*d[c].y);a=a.c.y+(i.a.y*d[c].x+i.b.y*d[c].y);i=b.d;c=b.c.x+(i.a.x*f[k].x+i.b.x*f[k].y);b=b.c.y+(i.a.y*f[k].x+i.b.y*f[k].y);c-=e;b-=a;return c*g+b*h}
function Db(a,c,b){for(var d=c.Ka,e=b.c.x-c.c.x,f=b.c.y-c.c.y,g=e*c.d.a.x+f*c.d.a.y,f=e*c.d.b.x+f*c.d.b.y,e=0,h=-Number.MAX_VALUE,k=0;k<d;++k){var i=c.Za[k].x*g+c.Za[k].y*f;i>h&&(h=i,e=k)}g=Cb(c,e,b);if(g>0)return g;k=e-1>=0?e-1:d-1;i=Cb(c,k,b);if(i>0)return i;var j=e+1<d?e+1:0,m=Cb(c,j,b);if(m>0)return m;h=f=0;if(i>g&&i>m)h=-1,f=k,k=i;else if(m>g)h=1,f=j,k=m;else return a[0]=e,g;for(;;){e=h==-1?f-1>=0?f-1:d-1:f+1<d?f+1:0;g=Cb(c,e,b);if(g>0)return g;if(g>k)f=e,k=g;else break}a[0]=f;return k}
var Eb=new y;function Fb(){this.position=new y;this.id=new yb;this.la=this.ia=this.Xa=p};function Gb(){this.N=0;this.X=Array(2);for(var a=0;a<2;a++)this.X[a]=new Fb;this.A=new y};function Hb(a,c){this.o=new R;this.q=new R;this.w=0;!a||!c?this.Q=this.P=p:(this.P=a,this.Q=c,this.Ja=0,this.ua=Math.sqrt(this.P.ua*this.Q.ua),this.va=Math.max(this.P.va,this.Q.va),this.p=this.D=p,this.o.Aa=p,this.o.prev=p,this.o.next=p,this.o.ma=p,this.q.Aa=p,this.q.prev=p,this.q.next=p,this.q.ma=p,this.ta=[new Gb],this.ta[0].N=0,this.ta[0].X[0].ia=0,this.ta[0].X[0].la=0)}w(Hb,wb);
Hb.prototype.zc=function(){var a=this.ta[0],c=this.P,b=this.Q;a.N=0;var d=b.c.x-c.c.x,e=b.c.y-c.c.y,f=d*d+e*e,c=c.ga+b.ga;if(!(f>c*c)){if(f<Number.MIN_VALUE)f=-c,a.A.g(0,1);else{var g=Math.sqrt(f),f=g-c,c=1/g;a.A.x=c*d;a.A.y=c*e}a.N=1;d=a.X[0];zb(d.id,0);d.Xa=f;d.position.x=b.c.x-b.ga*a.A.x;d.position.y=b.c.y-b.ga*a.A.y}this.Ja=this.ta[0].N>0?1:0};Hb.prototype.cc=ba("ta");function Ib(a,c){return new Hb(a,c)};function Jb(a,c){this.o=new R;this.q=new R;this.w=0;!a||!c?this.Q=this.P=p:(this.P=a,this.Q=c,this.Ja=0,this.ua=Math.sqrt(this.P.ua*this.Q.ua),this.va=Math.max(this.P.va,this.Q.va),this.p=this.D=p,this.o.Aa=p,this.o.prev=p,this.o.next=p,this.o.ma=p,this.q.Aa=p,this.q.prev=p,this.q.next=p,this.q.ma=p,this.ta=[new Gb],this.ta[0].N=0,this.ta[0].X[0].ia=0,this.ta[0].X[0].la=0)}w(Jb,wb);
Jb.prototype.zc=function(){a:{var a=this.ta[0],c=this.P,b=this.Q;a.N=0;var d,e,f;e=b.c.x-c.c.x;f=b.c.y-c.c.y;var g=c.d,h=e*g.a.x+f*g.a.y;f=e*g.b.x+f*g.b.y;e=h;var k=0,i=-Number.MAX_VALUE,h=b.ga;for(d=0;d<c.Ka;++d){var j=c.Za[d].x*(e-c.r[d].x)+c.Za[d].y*(f-c.r[d].y);if(j>h)break a;j>i&&(i=j,k=d)}if(i<Number.MIN_VALUE)a.N=1,f=c.Za[k],a.A.x=g.a.x*f.x+g.b.x*f.y,a.A.y=g.a.y*f.x+g.b.y*f.y,d=a.X[0],d.id.U.Cc=k,d.id.U.jc=255,d.id.U.dd=255,d.id.U.Md=0,d.position.x=b.c.x-h*a.A.x,d.position.y=b.c.y-h*a.A.y,
d.Xa=i-h;else{var i=k+1<c.Ka?k+1:0,m=c.r[i].x-c.r[k].x,j=c.r[i].y-c.r[k].y,n=Math.sqrt(m*m+j*j);m/=n;j/=n;if(n<Number.MIN_VALUE){if(e-=c.r[k].x,f-=c.r[k].y,c=Math.sqrt(e*e+f*f),e/=c,f/=c,!(c>h))a.N=1,a.A.g(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f),d=a.X[0],d.id.U.Cc=255,d.id.U.jc=k,d.id.U.dd=255,d.id.U.Md=0,d.position.x=b.c.x-h*a.A.x,d.position.y=b.c.y-h*a.A.y,d.Xa=c-h}else{var o=(e-c.r[k].x)*m+(f-c.r[k].y)*j;d=a.X[0];d.id.U.Cc=255;d.id.U.jc=255;d.id.U.dd=255;d.id.U.Md=0;o<=0?(m=c.r[k].x,c=c.r[k].y,d.id.U.jc=
k):o>=n?(m=c.r[i].x,c=c.r[i].y,d.id.U.jc=i):(m=m*o+c.r[k].x,c=j*o+c.r[k].y,d.id.U.Cc=k);e-=m;f-=c;c=Math.sqrt(e*e+f*f);e/=c;f/=c;if(!(c>h))a.N=1,a.A.g(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f),d.position.x=b.c.x-h*a.A.x,d.position.y=b.c.y-h*a.A.y,d.Xa=c-h}}}this.Ja=this.ta[0].N>0?1:0};Jb.prototype.cc=ba("ta");function Kb(a,c){return new Jb(a,c)};function Lb(a,c){this.o=new R;this.q=new R;this.w=0;!a||!c?this.Q=this.P=p:(this.P=a,this.Q=c,this.Ja=0,this.ua=Math.sqrt(this.P.ua*this.Q.ua),this.va=Math.max(this.P.va,this.Q.va),this.p=this.D=p,this.o.Aa=p,this.o.prev=p,this.o.next=p,this.o.ma=p,this.q.Aa=p,this.q.prev=p,this.q.next=p,this.q.ma=p,this.bd=new Gb,this.ta=[new Gb],this.ta[0].N=0)}w(Lb,wb);
Lb.prototype.zc=function(){for(var a=this.ta[0],c=this.bd.X,b=0;b<a.N;b++){var d=c[b],e=a.X[b];d.ia=e.ia;d.la=e.la;d.id=e.id.Od()}this.bd.N=a.N;var b=this.P,f=this.Q;a.N=0;var g,c=[0],d=Db(c,b,f);g=c[0];if(!(d>0)){var h,c=[0],k=Db(c,f,b);h=c[0];if(!(k>0)){c=e=0;k>0.98*d+0.0010?(d=f,k=b,e=h,c=1):(d=b,k=f,e=g,c=0);b=[new Ab,new Ab];f=e;g=k;var i=d.r,k=g.Ka;h=g.r;var j=i[f+1==d.Ka?0:f+1],m=j.x,n=j.y,j=i[f];m-=j.x;n-=j.y;j=m;m=n;n=-j;j=1/Math.sqrt(m*m+n*n);m*=j;n*=j;for(var j=m,i=d.d,m=i.a.x*j+i.b.x*
n,n=i.a.y*j+i.b.y*n,i=g.d,j=m*i.a.x+n*i.a.y,n=m*i.b.x+n*i.b.y,m=j,o=i=0,r=Number.MAX_VALUE,t=0;t<k;++t){var s=t,v=t+1<k?t+1:0,j=h[v],z=j.x,A=j.y,j=h[s];z-=j.x;A-=j.y;j=z;z=A;A=-j;j=1/Math.sqrt(z*z+A*A);z*=j;A*=j;j=z*m+A*n;j<r&&(r=j,i=s,o=v)}k=b[0];j=k.nb;B(j,h[i]);xa(j,g.d);j.add(g.c);k.id.U.dd=f;k.id.U.Cc=i;k.id.U.jc=i;k=b[1];j=k.nb;B(j,h[o]);xa(j,g.d);j.add(g.c);k.id.U.dd=f;k.id.U.Cc=i;k.id.U.jc=o;f=d.r;j=f[e];m=e+1<d.Ka?f[e+1]:f[0];g=m.x-j.x;h=m.y-j.y;n=g;i=d.d;g=i.a.x*n+i.b.x*h;h=i.a.y*n+i.b.y*
h;e=1/Math.sqrt(g*g+h*h);g*=e;h*=e;n=g;e=h;f=-n;k=j.x;o=j.y;n=k;i=d.d;k=i.a.x*n+i.b.x*o;o=i.a.y*n+i.b.y*o;k+=d.c.x;o+=d.c.y;j=m.x;m=m.y;n=j;i=d.d;j=i.a.x*n+i.b.x*m;m=i.a.y*n+i.b.y*m;j+=d.c.x;m+=d.c.y;d=e*k+f*o;n=-(g*k+h*o);j=g*j+h*m;m=[new Ab,new Ab];k=[new Ab,new Ab];i=0;Eb.g(-g,-h);i=Bb(m,b,n);if(!(i<2)&&(Eb.g(g,h),i=Bb(k,m,j),!(i<2))){c?a.A.g(-e,-f):a.A.g(e,f);for(g=b=0;g<2;++g)if(h=k[g].nb,h=e*h.x+f*h.y-d,h<=0)j=a.X[b],j.Xa=h,B(j.position,k[g].nb),j.id.g(k[g].id),j.id.U.Md=c,++b;a.N=b}}}if(a.N>
0){c=[!1,!1];for(b=0;b<a.N;++b){d=a.X[b];d.ia=0;d.la=0;e=d.id.key;for(f=0;f<this.bd.N;++f)if(c[f]!=!0&&(g=this.bd.X[f],g.id.key==e)){c[f]=!0;d.ia=g.ia;d.la=g.la;break}}this.Ja=1}else this.Ja=0};Lb.prototype.cc=ba("ta");function Mb(a,c){return new Lb(a,c)};function Nb(a,c,b){S[c][b].Rd=a;S[c][b].Sd=!0;if(c!=b)S[b][c].Rd=a,S[b][c].Sd=!1}var S=p,Ob=!1;function Pb(a,c){this.o=new R;this.q=new R;this.w=0;!a||!c?this.Q=this.P=p:(this.P=a,this.Q=c,this.Ja=0,this.ua=Math.sqrt(this.P.ua*this.Q.ua),this.va=Math.max(this.P.va,this.Q.va),this.p=this.D=p,this.o.Aa=p,this.o.prev=p,this.o.next=p,this.o.ma=p,this.q.Aa=p,this.q.prev=p,this.q.next=p,this.q.ma=p)}w(Pb,wb);Pb.prototype.zc=aa();Pb.prototype.cc=ca(p);function Qb(){}Qb.prototype.we=ca(p);Qb.prototype.xe=aa();function Rb(a){this.lc=new Pb;this.O=a;this.Fd=!1}w(Rb,Qb);
Rb.prototype.we=function(a,c){var b=a,d=c,e=b.z,f=d.z;if((e.w&Ya)==Ya&&(f.w&Ya)==Ya)return this.lc;if(b.z==d.z)return this.lc;a:{for(var g=f.Y;g!=p;g=g.next)if(g.ma==e){e=g.Hb.oa==!1;break a}e=!1}if(e)return this.lc;if((b.gd==d.gd&&b.gd!=0?b.gd>0:(b.Gc&d.Fc)!=0&&(b.Fc&d.Gc)!=0)==!1)return this.lc;f.i==0&&(f=b,b=d,d=f);if(Ob==!1){S=Array(4);for(f=0;f<4;f++){S[f]=Array(4);for(e=0;e<4;e++)S[f][e]=new vb}Nb(Ib,0,0);Nb(Kb,2,0);Nb(Mb,2,2);Ob=!0}f=b.Ga;e=d.Ga;if(g=S[f][e].Rd)if(S[f][e].Sd)d=g(b,d);else{d=
g(d,b);for(b=0;b<d.Ja;++b)f=d.cc()[b],f.A=new y(-f.A.x,-f.A.y)}else d=p;if(d==p)return this.lc;else{d.D=p;d.p=this.O.$;if(this.O.$!=p)this.O.$.D=d;this.O.$=d;this.O.Gb++}return d};Rb.prototype.xe=function(a,c,b){b!=p&&b!=this.lc&&(this.Fd==!0?Sb(this,b):b.w|=2)};
function Sb(a,c){if(c.D)c.D.p=c.p;if(c.p)c.p.D=c.D;if(c==a.O.$)a.O.$=c.p;if(c.Ja>0){var b=c.P.z,d=c.Q.z,e=c.o,f=c.q;$a(b);$a(d);if(e.prev)e.prev.next=e.next;if(e.next)e.next.prev=e.prev;if(e==b.$)b.$=e.next;e.prev=p;e.next=p;if(f.prev)f.prev.next=f.next;if(f.next)f.next.prev=f.prev;if(f==d.$)d.$=f.next;f.prev=p;f.next=p}--a.O.Gb};function Tb(){this.Zc=new y;this.$c=new y;this.ad=this.Xa=this.oe=this.Jd=this.Ac=this.la=this.ia=p};function Ub(){this.ub=this.ec=this.Z=this.V=this.pe=p;this.N=0;this.A=new y;this.X=Array(2);for(var a=0;a<2;a++)this.X[a]=new Tb};function Vb(a,c){this.gc=[];for(var b=0,d,e,b=this.fc=0;b<c;++b)this.fc+=a[b].Ja;for(b=0;b<this.fc;b++)this.gc[b]=new Ub;for(var f=0,b=0;b<c;++b)for(var g=a[b],h=g.P.z,k=g.Q.z,i=g.Ja,j=g.cc(),m=g.ua,g=g.va,n=h.f.x,o=h.f.y,r=k.f.x,t=k.f.y,s=h.l,v=k.l,z=0;z<i;++z){var A=j[z],C=A.A.x,L=A.A.y,F=this.gc[f];F.V=h;F.Z=k;F.pe=A;F.A.x=C;F.A.y=L;F.N=A.N;F.ec=m;F.ub=g;for(var T=0;T<F.N;++T){var D=A.X[T],H=F.X[T];H.ia=D.ia;H.la=D.la;H.Xa=D.Xa;var U=D.position.x-h.c.x,ra=D.position.y-h.c.y,sa=D.position.x-k.c.x,
D=D.position.y-k.c.y;d=H.Zc;e=h.d;d.x=U*e.a.x+ra*e.a.y;d.y=U*e.b.x+ra*e.b.y;d=H.$c;e=k.d;d.x=sa*e.a.x+D*e.a.y;d.y=sa*e.b.x+D*e.b.y;d=U*U+ra*ra;e=sa*sa+D*D;var La=U*C+ra*L,ia=sa*C+D*L,ja=h.i+k.i;ja+=h.m*(d-La*La)+k.m*(e-ia*ia);H.Jd=1/ja;ia=L;ja=-C;La=U*ia+ra*ja;ia=sa*ia+D*ja;ja=h.i+k.i;ja+=h.m*(d-La*La)+k.m*(e-ia*ia);H.oe=1/ja;H.ad=0;if(H.Xa>0)H.ad=-60*H.Xa;U=F.A.x*(r+-v*D-n- -s*ra)+F.A.y*(t+v*sa-o-s*U);U<-30&&(H.ad+=-F.ub*U)}++f}}
Vb.prototype={ef:function(){for(var a,c,b=0;b<this.fc;++b){var d=this.gc[b],e=d.V,f=d.Z,g=e.i,h=e.m,k=f.i,i=f.m,j=d.A.x,m=d.A.y,n=m,o=-j,r=0,t=0;if(Wb){t=d.N;for(r=0;r<t;++r){var s=d.X[r],v=s.ia*j+s.la*n,z=s.ia*m+s.la*o;c=e.d;a=s.Zc;var A=c.a.x*a.x+c.b.x*a.y,C=c.a.y*a.x+c.b.y*a.y;c=f.d;a=s.$c;var L=c.a.x*a.x+c.b.x*a.y;a=c.a.y*a.x+c.b.y*a.y;e.l-=h*(A*z-C*v);e.f.x-=g*v;e.f.y-=g*z;f.l+=i*(L*z-a*v);f.f.x+=k*v;f.f.y+=k*z;s.Ac=0}}else{t=d.N;for(r=0;r<t;++r)e=d.X[r],e.ia=0,e.la=0,e.Ac=0}}},xb:function(){for(var a=
0,c,b,d,e,f,g,h,k,i=0;i<this.fc;++i){for(var j=this.gc[i],m=j.V,n=j.Z,o=m.l,r=m.f,t=n.l,s=n.f,v=m.i,z=m.m,A=n.i,C=n.m,L=j.A.x,F=j.A.y,T=F,D=-L,H=j.N,a=0;a<H;++a)c=j.X[a],f=m.d,g=c.Zc,b=f.a.x*g.x+f.b.x*g.y,d=f.a.y*g.x+f.b.y*g.y,f=n.d,g=c.$c,e=f.a.x*g.x+f.b.x*g.y,f=f.a.y*g.x+f.b.y*g.y,g=s.x+-t*f-r.x- -o*d,h=s.y+t*e-r.y-o*b,g=-c.Jd*(g*L+h*F-c.ad),h=Math.max(c.ia+g,0),g=h-c.ia,k=g*L,g*=F,r.x-=v*k,r.y-=v*g,o-=z*(b*g-d*k),s.x+=A*k,s.y+=A*g,t+=C*(e*g-f*k),c.ia=h,g=s.x+-t*f-r.x- -o*d,h=s.y+t*e-r.y-o*b,g=
c.oe*-(g*T+h*D),h=j.ec*c.ia,h=O(c.la+g,-h,h),g=h-c.la,k=g*T,g*=D,r.x-=v*k,r.y-=v*g,o-=z*(b*g-d*k),s.x+=A*k,s.y+=A*g,t+=C*(e*g-f*k),c.la=h;m.l=o;n.l=t}},pb:function(a){for(var c=0,b,d,e=0;e<this.fc;++e){for(var f=this.gc[e],g=f.V,h=f.Z,k=g.c,i=g.n,j=h.c,m=h.n,n=g.i,o=g.m,r=h.i,t=h.m,s=f.A.x,v=f.A.y,z=f.N,A=0;A<z;++A){var C=f.X[A];b=g.d;d=C.Zc;var L=b.a.x*d.x+b.b.x*d.y,F=b.a.y*d.x+b.b.y*d.y;b=h.d;d=C.$c;var T=b.a.x*d.x+b.b.x*d.y;b=b.a.y*d.x+b.b.y*d.y;d=(j.x+T-(k.x+L))*s+(j.y+b-(k.y+F))*v+C.Xa;c=Math.min(c,
d);d=-C.Jd*a*O(d+0.15,-6,0);var D=C.Ac;C.Ac=Math.max(D+d,0);d=C.Ac-D;C=d*s;d*=v;k.x-=n*C;k.y-=n*d;i-=o*(L*d-F*C);g.d.g(i);j.x+=r*C;j.y+=r*d;m+=t*(T*d-b*C);h.d.g(m)}g.n=i;h.n=m}return c>=-0.15},df:function(){for(var a=0;a<this.fc;++a)for(var c=this.gc[a],b=c.pe,d=0;d<c.N;++d){var e=b.X[d],f=c.X[d];e.ia=f.ia;e.la=f.la}}};function Xb(a,c,b){var d=0;this.Cf=a;this.Df=c;this.Ef=b;this.cb=this.Gb=this.Ma=0;this.lb=Array(a);for(d=0;d<a;d++)this.lb[d]=p;this.Ad=Array(c);for(d=0;d<c;d++)this.Ad[d]=p;this.uc=Array(b);for(d=0;d<b;d++)this.uc[d]=p}
Xb.prototype.sd=function(a,c){for(var b=0,d,b=0;b<this.Ma;++b)if(d=this.lb[b],d.i!=0)d.f.add(new y(a.Oa*ya(c,new y(d.i*d.Dc.x,d.i*d.Dc.y)).x,a.Oa*ya(c,new y(d.i*d.Dc.x,d.i*d.Dc.y)).y)),d.l+=a.Oa*d.m*d.se,d.f.scale(d.Xe),d.l*=d.We,B(d.Nd,d.c),d.re=d.n;var e=new Vb(this.Ad,this.Gb);e.ef();for(b=0;b<this.cb;++b)this.uc[b].Ob();for(b=0;b<a.Bd;++b){e.xb();for(d=0;d<this.cb;++d)this.uc[d].xb(a)}for(b=0;b<this.Ma;++b)d=this.lb[b],d.i!=0&&(d.c.x+=a.Oa*d.f.x,d.c.y+=a.Oa*d.f.y,d.n+=a.Oa*d.l,d.d.g(d.n));for(b=
0;b<this.cb;++b);if(Yb)for(Zb=0;Zb<a.Bd;++Zb){d=e.pb(0.2);for(var f=!0,b=0;b<this.cb;++b)var g=this.uc[b].pb(),f=f&&g;if(d&&f)break}e.df();for(b=0;b<this.Ma;++b)if(d=this.lb[b],d.i!=0){d.d.g(d.n);e=d;e.te.g(e.re);for(f=e.tb;f!=p;f=f.p)f.Qd(e.Nd,e.te,e.c,e.d);d.Dc.g(0,0);d.se=0}};var Zb=0;function V(){this.next=this.prev=this.Hb=this.ma=p};function $b(a){this.o=new V;this.q=new V;this.Ga=a.type;this.p=this.D=p;this.h=a.V;this.e=a.Z;this.oa=a.oa;this.hb=!1;this.gb=a.H}q=$b.prototype;q.Kb=ca(p);q.Lb=ca(p);q.ac=ba("p");q.Ob=aa();q.pb=ca(!1);function ac(a){this.type=0;this.Z=this.V=this.H=p;this.oa=a};function bc(a){this.o=new V;this.q=new V;this.Ga=a.type;this.p=this.D=p;this.h=a.V;this.e=a.Z;this.oa=a.oa;this.hb=!1;this.gb=a.H;this.k=new y;this.j=new y;this.ea=new y;var c,b,d;c=this.h.d;b=a.Ib.x-this.h.c.x;d=a.Ib.y-this.h.c.y;this.k.x=b*c.a.x+d*c.a.y;this.k.y=b*c.b.x+d*c.b.y;c=this.e.d;b=a.Jb.x-this.e.c.x;d=a.Jb.y-this.e.c.y;this.j.x=b*c.a.x+d*c.a.y;this.j.y=b*c.b.x+d*c.b.y;b=a.Jb.x-a.Ib.x;d=a.Jb.y-a.Ib.y;this.Qe=Math.sqrt(b*b+d*d);this.S=0}w(bc,$b);q=bc.prototype;
q.Ob=function(){var a;a=this.h.d;var c=a.a.x*this.k.x+a.b.x*this.k.y,b=a.a.y*this.k.x+a.b.y*this.k.y;a=this.e.d;var d=a.a.x*this.j.x+a.b.x*this.j.y;a=a.a.y*this.j.x+a.b.y*this.j.y;this.ea.x=this.e.c.x+d-this.h.c.x-c;this.ea.y=this.e.c.y+a-this.h.c.y-b;var e=Math.sqrt(this.ea.x*this.ea.x+this.ea.y*this.ea.y);e>0.15?this.ea.scale(1/e):this.ea.ka();var e=c*this.ea.y-b*this.ea.x,f=d*this.ea.y-a*this.ea.x;this.Ha=this.h.i+this.h.m*e*e+this.e.i+this.e.m*f*f;this.Ha=1/this.Ha;Wb?(e=this.S*this.ea.x,f=this.S*
this.ea.y,this.h.f.x-=this.h.i*e,this.h.f.y-=this.h.i*f,this.h.l-=this.h.m*(c*f-b*e),this.e.f.x+=this.e.i*e,this.e.f.y+=this.e.i*f,this.e.l+=this.e.m*(d*f-a*e)):this.S=0};
q.xb=function(){var a;a=this.h.d;var c=a.a.x*this.k.x+a.b.x*this.k.y,b=a.a.y*this.k.x+a.b.y*this.k.y;a=this.e.d;var d=a.a.x*this.j.x+a.b.x*this.j.y;a=a.a.y*this.j.x+a.b.y*this.j.y;var e=-this.Ha*(this.ea.x*(this.e.f.x+-this.e.l*a-(this.h.f.x+-this.h.l*b))+this.ea.y*(this.e.f.y+this.e.l*d-(this.h.f.y+this.h.l*c)));this.S+=e;var f=e*this.ea.x;e*=this.ea.y;this.h.f.x-=this.h.i*f;this.h.f.y-=this.h.i*e;this.h.l-=this.h.m*(c*e-b*f);this.e.f.x+=this.e.i*f;this.e.f.y+=this.e.i*e;this.e.l+=this.e.m*(d*e-
a*f)};
q.pb=function(){var a;a=this.h.d;var c=a.a.x*this.k.x+a.b.x*this.k.y,b=a.a.y*this.k.x+a.b.y*this.k.y;a=this.e.d;var d=a.a.x*this.j.x+a.b.x*this.j.y;a=a.a.y*this.j.x+a.b.y*this.j.y;var e=this.e.c.x+d-this.h.c.x-c,f=this.e.c.y+a-this.h.c.y-b,g=Math.sqrt(e*e+f*f);e/=g;f/=g;g-=this.Qe;var g=O(g,-6,6),h=-this.Ha*g;this.ea.g(e,f);e=h*this.ea.x;f=h*this.ea.y;this.h.c.x-=this.h.i*e;this.h.c.y-=this.h.i*f;this.h.n-=this.h.m*(c*f-b*e);this.e.c.x+=this.e.i*e;this.e.c.y+=this.e.i*f;this.e.n+=this.e.m*(d*f-a*
e);this.h.d.g(this.h.n);this.e.d.g(this.e.n);return Math.abs(g)<0.15};q.Kb=function(){return ya(this.h.c,N(this.h.d,this.k))};q.Lb=function(){return ya(this.e.c,N(this.e.d,this.j))};function cc(a){this.o=new V;this.q=new V;this.Ga=a.type;this.p=this.D=p;this.h=a.V;this.e=a.Z;this.oa=a.oa;this.hb=!1;this.gb=a.H;this.jb=new y;this.kb=new y;this.k=new y;this.j=new y;this.R=new dc;this.Zb=this.Cb=this.Yb=this.Bb=p;var c,b;this.Ke=a.hd.h;this.h=a.hd.e;a.hd.Ga==1?(this.Bb=a.hd,B(this.jb,this.Bb.k),B(this.k,this.Bb.j),c=ec(this.Bb)):(this.Yb=a.hd,B(this.jb,this.Yb.k),B(this.k,this.Yb.j),c=fc(this.Yb));this.Le=a.jd.h;this.e=a.jd.e;a.jd.Ga==1?(this.Cb=a.jd,B(this.kb,this.Cb.k),B(this.j,
this.Cb.j),b=ec(this.Cb)):(this.Zb=a.jd,B(this.kb,this.Zb.k),B(this.j,this.Zb.j),b=fc(this.Zb));this.W=a.Ve;this.qc=c+this.W*b;this.S=0}w(cc,$b);q=cc.prototype;q.Kb=function(){var a=this.h.d;return new y(this.h.c.x+(a.a.x*this.k.x+a.b.x*this.k.y),this.h.c.y+(a.a.y*this.k.x+a.b.y*this.k.y))};q.Lb=function(){var a=this.e.d;return new y(this.e.c.x+(a.a.x*this.j.x+a.b.x*this.j.y),this.e.c.y+(a.a.y*this.j.x+a.b.y*this.j.y))};
q.Ob=function(){var a=this.Ke,c=this.Le,b=this.h,d=this.e,e,f,g,h=0;this.R.ka();this.Bb?(this.R.ba=-1,h+=b.m):(g=a.d,e=this.Yb.pa,a=g.a.x*e.x+g.b.x*e.y,e=g.a.y*e.x+g.b.y*e.y,g=b.d,f=g.a.x*this.k.x+g.b.x*this.k.y,g=g.a.y*this.k.x+g.b.y*this.k.y,f=f*e-g*a,this.R.L.g(-a,-e),this.R.ba=-f,h+=b.i+b.m*f*f);this.Cb?(this.R.ca=-this.W,h+=this.W*this.W*d.m):(g=c.d,e=this.Zb.pa,a=g.a.x*e.x+g.b.x*e.y,e=g.a.y*e.x+g.b.y*e.y,g=d.d,f=g.a.x*this.j.x+g.b.x*this.j.y,g=g.a.y*this.j.x+g.b.y*this.j.y,f=f*e-g*a,this.R.M.g(-this.W*
a,-this.W*e),this.R.ca=-this.W*f,h+=this.W*this.W*(d.i+d.m*f*f));this.Ha=1/h;b.f.x+=b.i*this.S*this.R.L.x;b.f.y+=b.i*this.S*this.R.L.y;b.l+=b.m*this.S*this.R.ba;d.f.x+=d.i*this.S*this.R.M.x;d.f.y+=d.i*this.S*this.R.M.y;d.l+=d.m*this.S*this.R.ca};q.xb=function(){var a=this.h,c=this.e,b=-this.Ha*this.R.fd(a.f,a.l,c.f,c.l);this.S+=b;a.f.x+=a.i*b*this.R.L.x;a.f.y+=a.i*b*this.R.L.y;a.l+=a.m*b*this.R.ba;c.f.x+=c.i*b*this.R.M.x;c.f.y+=c.i*b*this.R.M.y;c.l+=c.m*b*this.R.ca};
q.pb=function(){var a=this.h,c=this.e,b=-this.Ha*(this.qc-((this.Bb?ec(this.Bb):fc(this.Yb))+this.W*(this.Cb?ec(this.Cb):fc(this.Zb))));a.c.x+=a.i*b*this.R.L.x;a.c.y+=a.i*b*this.R.L.y;a.n+=a.m*b*this.R.ba;c.c.x+=c.i*b*this.R.M.x;c.c.y+=c.i*b*this.R.M.y;c.n+=c.m*b*this.R.ca;a.d.g(a.n);c.d.g(c.n);return!0};function gc(a){this.o=new V;this.q=new V;this.Ga=a.type;this.p=this.D=p;this.h=a.V;this.e=a.Z;this.oa=a.oa;this.hb=!1;this.gb=a.H;this.La=new K;this.qa=new K;this.ra=new K;this.Ya=new y;this.bc=new y;this.S=new y;this.sb=new K;this.Vc=new y;B(this.bc,a.target);var c=this.bc.x-this.e.c.x,b=this.bc.y-this.e.c.y;this.Ya.x=c*this.e.d.a.x+b*this.e.d.a.y;this.Ya.y=c*this.e.d.b.x+b*this.e.d.b.y;this.ne=a.Af;this.S.ka();var b=this.e.Ha,d=2*Aa*a.zf,c=2*b*a.yf*d,b=b*d*d;this.Wc=1/(c+a.qe*b);this.me=a.qe*b/
(c+a.qe*b)}w(gc,$b);q=gc.prototype;q.Kb=ba("bc");q.Lb=function(){var a=N(this.e.d,this.Ya);a.add(this.e.c);return a};
q.Ob=function(){var a=this.e,c;c=a.d;var b=c.a.x*this.Ya.x+c.b.x*this.Ya.y;c=c.a.y*this.Ya.x+c.b.y*this.Ya.y;var d=a.i,e=a.m;this.qa.a.x=d;this.qa.b.x=0;this.qa.a.y=0;this.qa.b.y=d;this.ra.a.x=e*c*c;this.ra.b.x=-e*b*c;this.ra.a.y=-e*b*c;this.ra.b.y=e*b*b;Fa(this.La,this.qa);Ga(this.La,this.ra);this.La.a.x+=this.Wc;this.La.b.y+=this.Wc;Ha(this.La,this.sb);this.Vc.x=a.c.x+b-this.bc.x;this.Vc.y=a.c.y+c-this.bc.y;a.l*=0.98;var f=this.S.x,g=this.S.y;a.f.x+=d*f;a.f.y+=d*g;a.l+=e*(b*g-c*f)};
q.xb=function(a){var c=this.e,b;b=c.d;var d=b.a.x*this.Ya.x+b.b.x*this.Ya.y,e=b.a.y*this.Ya.x+b.b.y*this.Ya.y,f=c.f.x+-c.l*e,g=c.f.y+c.l*d;b=this.sb;var f=f+this.me*a.zd*this.Vc.x+this.Wc*this.S.x,h=g+this.me*a.zd*this.Vc.y+this.Wc*this.S.y,g=-(b.a.x*f+b.b.x*h),h=-(b.a.y*f+b.b.y*h);b=this.S.x;f=this.S.y;this.S.x+=g;this.S.y+=h;g=x(this.S);g>a.Oa*this.ne&&this.S.scale(a.Oa*this.ne/g);g=this.S.x-b;h=this.S.y-f;c.f.x+=c.i*g;c.f.y+=c.i*h;c.l+=c.m*(d*h-e*g)};q.pb=ca(!0);function dc(){this.L=new y;this.M=new y}dc.prototype={ba:p,ca:p,ka:function(){this.L.ka();this.ba=0;this.M.ka();this.ca=0},g:function(a,c,b,d){B(this.L,a);this.ba=c;B(this.M,b);this.ca=d},fd:function(a,c,b,d){return this.L.x*a.x+this.L.y*a.y+this.ba*c+(this.M.x*b.x+this.M.y*b.y)+this.ca*d}};function hc(){ac.call(this,!1);this.type=0;this.Z=this.V=this.H=p;this.type=2;this.sa=new y(0,0);this.axis=new y(0,0);this.tc=this.ie=this.Ne=this.Me=0;this.$b=this.Cd=!1}w(hc,ac);function ic(a){this.o=new V;this.q=new V;this.Ga=a.type;this.p=this.D=p;this.h=a.V;this.e=a.Z;this.oa=a.oa;this.hb=!1;this.gb=a.H;this.k=new y;this.j=new y;this.pa=new y;this.bb=new y;this.G=new dc;this.v=new dc;var c,b,d;c=this.h.d;b=a.sa.x-this.h.c.x;d=a.sa.y-this.h.c.y;this.k.g(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);c=this.e.d;b=a.sa.x-this.e.c.x;d=a.sa.y-this.e.c.y;this.j.g(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);c=this.h.d;b=a.axis.x;d=a.axis.y;this.pa.g(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);this.bb.x=-this.pa.y;
this.bb.y=this.pa.x;this.Je=this.e.n-this.h.n;this.G.ka();this.Qc=this.ud=this.rb=this.pc=0;this.v.ka();this.ha=this.u=this.aa=this.Ia=0;this.vd=a.Me;this.wd=a.Ne;this.de=a.ie;this.td=a.tc;this.ib=a.Cd;this.Wb=a.$b}w(ic,$b);q=ic.prototype;q.Kb=function(){var a=this.h,c=new y;B(c,this.k);xa(c,a.d);c.add(a.c);return c};q.Lb=function(){var a=this.e,c=new y;B(c,this.j);xa(c,a.d);c.add(a.c);return c};
function fc(a){var c=a.h,b=a.e,d;d=c.d;var e=d.a.x*a.k.x+d.b.x*a.k.y,f=d.a.y*a.k.x+d.b.y*a.k.y;d=b.d;e=b.c.x+(d.a.x*a.j.x+d.b.x*a.j.y)-(c.c.x+e);b=b.c.y+(d.a.y*a.j.x+d.b.y*a.j.y)-(c.c.y+f);d=c.d;return(d.a.x*a.pa.x+d.b.x*a.pa.y)*e+(d.a.y*a.pa.x+d.b.y*a.pa.y)*b}
q.Ob=function(){var a=this.h,c=this.e,b;b=a.d;var d=b.a.x*this.k.x+b.b.x*this.k.y,e=b.a.y*this.k.x+b.b.y*this.k.y;b=c.d;var f=b.a.x*this.j.x+b.b.x*this.j.y,g=b.a.y*this.j.x+b.b.y*this.j.y,h=a.i,k=c.i,i=a.m,j=c.m;b=a.d;var m=b.a.x*this.bb.x+b.b.x*this.bb.y;b=b.a.y*this.bb.x+b.b.y*this.bb.y;var n=c.c.x+f-a.c.x,o=c.c.y+g-a.c.y;this.G.L.x=-m;this.G.L.y=-b;this.G.M.x=m;this.G.M.y=b;this.G.ba=-(n*b-o*m);this.G.ca=f*b-g*m;this.pc=h+i*this.G.ba*this.G.ba+k+j*this.G.ca*this.G.ca;this.pc=1/this.pc;this.ud=
1/(i+j);if(this.ib||this.Wb)if(b=a.d,m=b.a.x*this.pa.x+b.b.x*this.pa.y,b=b.a.y*this.pa.x+b.b.y*this.pa.y,this.v.L.x=-m,this.v.L.y=-b,this.v.M.x=m,this.v.M.y=b,this.v.ba=-(n*b-o*m),this.v.ca=f*b-g*m,this.Ia=h+i*this.v.ba*this.v.ba+k+j*this.v.ca*this.v.ca,this.Ia=1/this.Ia,this.ib)if(d=m*(n-d)+b*(o-e),Math.abs(this.wd-this.vd)<0.3)this.K=3;else if(d<=this.vd){if(this.K!=1)this.u=0;this.K=1}else if(d>=this.wd){if(this.K!=2)this.u=0;this.K=2}else this.u=this.K=0;if(this.Wb==!1)this.aa=0;if(this.ib==!1)this.u=
0;Wb?(d=this.rb*this.G.L.y+(this.aa+this.u)*this.v.L.y,e=this.rb*this.G.M.x+(this.aa+this.u)*this.v.M.x,f=this.rb*this.G.M.y+(this.aa+this.u)*this.v.M.y,g=this.rb*this.G.ba-this.Qc+(this.aa+this.u)*this.v.ba,n=this.rb*this.G.ca+this.Qc+(this.aa+this.u)*this.v.ca,a.f.x+=h*(this.rb*this.G.L.x+(this.aa+this.u)*this.v.L.x),a.f.y+=h*d,a.l+=i*g,c.f.x+=k*e,c.f.y+=k*f,c.l+=j*n):this.aa=this.u=this.Qc=this.rb=0;this.ha=0};
q.xb=function(a){var c=this.h,b=this.e,d=c.i,e=b.i,f=c.m,g=b.m,h=-this.pc*this.G.fd(c.f,c.l,b.f,b.l);this.rb+=h;c.f.x+=d*h*this.G.L.x;c.f.y+=d*h*this.G.L.y;c.l+=f*h*this.G.ba;b.f.x+=e*h*this.G.M.x;b.f.y+=e*h*this.G.M.y;b.l+=g*h*this.G.ca;h=-this.ud*(b.l-c.l);this.Qc+=h;c.l-=f*h;b.l+=g*h;if(this.Wb&&this.K!=3){var h=-this.Ia*(this.v.fd(c.f,c.l,b.f,b.l)-this.td),k=this.aa;this.aa=O(this.aa+h,-a.Oa*this.de,a.Oa*this.de);h=this.aa-k;c.f.x+=d*h*this.v.L.x;c.f.y+=d*h*this.v.L.y;c.l+=f*h*this.v.ba;b.f.x+=
e*h*this.v.M.x;b.f.y+=e*h*this.v.M.y;b.l+=g*h*this.v.ca}if(this.ib&&this.K!=0){h=-this.Ia*this.v.fd(c.f,c.l,b.f,b.l);if(this.K==3)this.u+=h;else if(this.K==1)a=this.u,this.u=Math.max(this.u+h,0),h=this.u-a;else if(this.K==2)a=this.u,this.u=Math.min(this.u+h,0),h=this.u-a;c.f.x+=d*h*this.v.L.x;c.f.y+=d*h*this.v.L.y;c.l+=f*h*this.v.ba;b.f.x+=e*h*this.v.M.x;b.f.y+=e*h*this.v.M.y;b.l+=g*h*this.v.ca}};
q.pb=function(){var a,c,b=this.h,d=this.e,e=b.i,f=d.i,g=b.m,h=d.m;a=b.d;var k=a.a.x*this.k.x+a.b.x*this.k.y,i=a.a.y*this.k.x+a.b.y*this.k.y;a=d.d;var j=a.a.x*this.j.x+a.b.x*this.j.y;a=a.a.y*this.j.x+a.b.y*this.j.y;var k=b.c.x+k,i=b.c.y+i,j=d.c.x+j,m=d.c.y+a;a=b.d;var n=(a.a.x*this.bb.x+a.b.x*this.bb.y)*(j-k)+(a.a.y*this.bb.x+a.b.y*this.bb.y)*(m-i),n=O(n,-6,6);c=-this.pc*n;b.c.x+=e*c*this.G.L.x;b.c.y+=e*c*this.G.L.y;b.n+=g*c*this.G.ba;d.c.x+=f*c*this.G.M.x;d.c.y+=f*c*this.G.M.y;d.n+=h*c*this.G.ca;
n=Math.abs(n);c=d.n-b.n-this.Je;c=O(c,-Ca,Ca);var o=-this.ud*c;b.n-=b.m*o;b.d.g(b.n);d.n+=d.m*o;d.d.g(d.n);o=Math.abs(c);if(this.ib&&this.K!=0){a=b.d;k=a.a.x*this.k.x+a.b.x*this.k.y;i=a.a.y*this.k.x+a.b.y*this.k.y;a=d.d;j=a.a.x*this.j.x+a.b.x*this.j.y;a=a.a.y*this.j.x+a.b.y*this.j.y;k=b.c.x+k;i=b.c.y+i;j=d.c.x+j;m=d.c.y+a;a=b.d;k=(a.a.x*this.pa.x+a.b.x*this.pa.y)*(j-k)+(a.a.y*this.pa.x+a.b.y*this.pa.y)*(m-i);a=0;if(this.K==3)a=O(k,-6,6),a*=-this.Ia,n=Math.max(n,Math.abs(c));else if(this.K==1)a=k-
this.vd,n=Math.max(n,-a),a=O(a+0.15,-6,0),a*=-this.Ia,c=this.ha,this.ha=Math.max(this.ha+a,0),a=this.ha-c;else if(this.K==2)a=k-this.wd,n=Math.max(n,a),a=O(a-0.15,0,6),a*=-this.Ia,c=this.ha,this.ha=Math.min(this.ha+a,0),a=this.ha-c;b.c.x+=e*a*this.v.L.x;b.c.y+=e*a*this.v.L.y;b.n+=g*a*this.v.ba;b.d.g(b.n);d.c.x+=f*a*this.v.M.x;d.c.y+=f*a*this.v.M.y;d.n+=h*a*this.v.ca;d.d.g(d.n)}return n<=0.15&&o<=Ba};function jc(a){this.o=new V;this.q=new V;this.Ga=a.type;this.p=this.D=p;this.h=a.V;this.e=a.Z;this.oa=a.oa;this.hb=!1;this.gb=a.H;this.jb=new y;this.kb=new y;this.k=new y;this.j=new y;this.I=new y;this.J=new y;var c,b,d;this.Ta=this.h.O.Vb;this.jb.x=a.Kd.x-this.Ta.c.x;this.jb.y=a.Kd.y-this.Ta.c.y;this.kb.x=a.Ld.x-this.Ta.c.x;this.kb.y=a.Ld.y-this.Ta.c.y;c=this.h.d;b=a.Ib.x-this.h.c.x;d=a.Ib.y-this.h.c.y;this.k.x=b*c.a.x+d*c.a.y;this.k.y=b*c.b.x+d*c.b.y;c=this.e.d;b=a.Jb.x-this.e.c.x;d=a.Jb.y-this.e.c.y;
this.j.x=b*c.a.x+d*c.a.y;this.j.y=b*c.b.x+d*c.b.y;this.W=a.Ve;b=a.Kd.x-a.Ib.x;d=a.Kd.y-a.Ib.y;c=Math.sqrt(b*b+d*d);b=a.Ld.x-a.Jb.x;d=a.Ld.y-a.Jb.y;c=Math.max(0.5*kc,c);b=Math.max(0.5*kc,Math.sqrt(b*b+d*d));this.qc=c+this.W*b;this.fe=O(a.wf,c,this.qc-this.W*kc);this.ge=O(a.xf,b,(this.qc-kc)/this.W);this.Eb=this.Db=this.rc=0}w(jc,$b);q=jc.prototype;q.Kb=function(){var a=this.h.d;return new y(this.h.c.x+(a.a.x*this.k.x+a.b.x*this.k.y),this.h.c.y+(a.a.y*this.k.x+a.b.y*this.k.y))};
q.Lb=function(){var a=this.e.d;return new y(this.e.c.x+(a.a.x*this.j.x+a.b.x*this.j.y),this.e.c.y+(a.a.y*this.j.x+a.b.y*this.j.y))};
q.Ob=function(){var a=this.h,c=this.e,b;b=a.d;var d=b.a.x*this.k.x+b.b.x*this.k.y,e=b.a.y*this.k.x+b.b.y*this.k.y;b=c.d;var f=b.a.x*this.j.x+b.b.x*this.j.y;b=b.a.y*this.j.x+b.b.y*this.j.y;var g=c.c.x+f,h=c.c.y+b,k=this.Ta.c.x+this.kb.x,i=this.Ta.c.y+this.kb.y;this.I.g(a.c.x+d-(this.Ta.c.x+this.jb.x),a.c.y+e-(this.Ta.c.y+this.jb.y));this.J.g(g-k,h-i);g=x(this.I);h=x(this.J);g>0.15?this.I.scale(1/g):this.I.ka();h>0.15?this.J.scale(1/h):this.J.ka();g<this.fe?this.Db=this.Dd=0:(this.Dd=2,this.Sc=0);h<
this.ge?this.Eb=this.Ed=0:(this.Ed=2,this.Tc=0);g=d*this.I.y-e*this.I.x;h=f*this.J.y-b*this.J.x;this.wc=a.i+a.m*g*g;this.xc=c.i+c.m*h*h;this.Rc=this.wc+this.W*this.W*this.xc;this.wc=1/this.wc;this.xc=1/this.xc;this.Rc=1/this.Rc;g=(-this.rc-this.Db)*this.I.x;h=(-this.rc-this.Db)*this.I.y;k=(-this.W*this.rc-this.Eb)*this.J.x;i=(-this.W*this.rc-this.Eb)*this.J.y;a.f.x+=a.i*g;a.f.y+=a.i*h;a.l+=a.m*(d*h-e*g);c.f.x+=c.i*k;c.f.y+=c.i*i;c.l+=c.m*(f*i-b*k)};
q.xb=function(){var a=this.h,c=this.e,b;b=a.d;var d=b.a.x*this.k.x+b.b.x*this.k.y,e=b.a.y*this.k.x+b.b.y*this.k.y;b=c.d;var f=b.a.x*this.j.x+b.b.x*this.j.y;b=b.a.y*this.j.x+b.b.y*this.j.y;var g,h,k,i;g=a.f.x+-a.l*e;h=a.f.y+a.l*d;k=c.f.x+-c.l*b;i=c.f.y+c.l*f;g=-(this.I.x*g+this.I.y*h)-this.W*(this.J.x*k+this.J.y*i);i=-this.Rc*g;this.rc+=i;g=-i*this.I.x;h=-i*this.I.y;k=-this.W*i*this.J.x;i=-this.W*i*this.J.y;a.f.x+=a.i*g;a.f.y+=a.i*h;a.l+=a.m*(d*h-e*g);c.f.x+=c.i*k;c.f.y+=c.i*i;c.l+=c.m*(f*i-b*k);if(this.Dd==
2)g=a.f.x+-a.l*e,h=a.f.y+a.l*d,g=-(this.I.x*g+this.I.y*h),i=-this.wc*g,g=this.Db,this.Db=Math.max(0,this.Db+i),i=this.Db-g,g=-i*this.I.x,h=-i*this.I.y,a.f.x+=a.i*g,a.f.y+=a.i*h,a.l+=a.m*(d*h-e*g);if(this.Ed==2)k=c.f.x+-c.l*b,i=c.f.y+c.l*f,g=-(this.J.x*k+this.J.y*i),i=-this.xc*g,g=this.Eb,this.Eb=Math.max(0,this.Eb+i),i=this.Eb-g,k=-i*this.J.x,i=-i*this.J.y,c.f.x+=c.i*k,c.f.y+=c.i*i,c.l+=c.m*(f*i-b*k)};
q.pb=function(){var a=this.h,c=this.e,b,d=this.Ta.c.x+this.jb.x,e=this.Ta.c.y+this.jb.y,f=this.Ta.c.x+this.kb.x,g=this.Ta.c.y+this.kb.y,h,k,i,j,m,n,o,r=0;b=a.d;h=b.a.x*this.k.x+b.b.x*this.k.y;k=b.a.y*this.k.x+b.b.y*this.k.y;b=c.d;i=b.a.x*this.j.x+b.b.x*this.j.y;b=b.a.y*this.j.x+b.b.y*this.j.y;j=a.c.x+h;m=a.c.y+k;n=c.c.x+i;o=c.c.y+b;this.I.g(j-d,m-e);this.J.g(n-f,o-g);j=x(this.I);m=x(this.J);j>0.15?this.I.scale(1/j):this.I.ka();m>0.15?this.J.scale(1/m):this.J.ka();j=this.qc-j-this.W*m;r=Math.max(r,
Math.abs(j));j=O(j,-6,6);o=-this.Rc*j;j=-o*this.I.x;m=-o*this.I.y;n=-this.W*o*this.J.x;o=-this.W*o*this.J.y;a.c.x+=a.i*j;a.c.y+=a.i*m;a.n+=a.m*(h*m-k*j);c.c.x+=c.i*n;c.c.y+=c.i*o;c.n+=c.m*(i*o-b*n);a.d.g(a.n);c.d.g(c.n);if(this.Dd==2)b=a.d,h=b.a.x*this.k.x+b.b.x*this.k.y,k=b.a.y*this.k.x+b.b.y*this.k.y,j=a.c.x+h,m=a.c.y+k,this.I.g(j-d,m-e),j=x(this.I),j>0.15?(this.I.x*=1/j,this.I.y*=1/j):this.I.ka(),j=this.fe-j,r=Math.max(r,-j),j=O(j+0.15,-6,0),o=-this.wc*j,d=this.Sc,this.Sc=Math.max(0,this.Sc+o),
o=this.Sc-d,j=-o*this.I.x,m=-o*this.I.y,a.c.x+=a.i*j,a.c.y+=a.i*m,a.n+=a.m*(h*m-k*j),a.d.g(a.n);if(this.Ed==2)b=c.d,i=b.a.x*this.j.x+b.b.x*this.j.y,b=b.a.y*this.j.x+b.b.y*this.j.y,n=c.c.x+i,o=c.c.y+b,this.J.g(n-f,o-g),m=x(this.J),m>0.15?(this.J.x*=1/m,this.J.y*=1/m):this.J.ka(),j=this.ge-m,r=Math.max(r,-j),j=O(j+0.15,-6,0),o=-this.xc*j,d=this.Tc,this.Tc=Math.max(0,this.Tc+o),o=this.Tc-d,n=-o*this.J.x,o=-o*this.J.y,c.c.x+=c.i*n,c.c.y+=c.i*o,c.n+=c.m*(i*o-b*n),c.d.g(c.n);return r<0.15};var kc=30;function lc(){ac.call(this,!1);this.type=0;this.Z=this.V=this.H=p;this.type=1;this.sa=new y(0,0);this.tc=this.je=this.Pe=this.Oe=0;this.$b=this.Cd=!1}w(lc,ac);function mc(a){this.o=new V;this.q=new V;this.Ga=a.type;this.p=this.D=p;this.h=a.V;this.e=a.Z;this.oa=a.oa;this.hb=!1;this.gb=a.H;this.La=new K;this.qa=new K;this.ra=new K;this.Wa=new K;this.k=new y;this.j=new y;this.Sa=new y;this.sb=new K;var c,b,d;c=this.h.d;b=a.sa.x-this.h.c.x;d=a.sa.y-this.h.c.y;this.k.x=b*c.a.x+d*c.a.y;this.k.y=b*c.b.x+d*c.b.y;c=this.e.d;b=a.sa.x-this.e.c.x;d=a.sa.y-this.e.c.y;this.j.x=b*c.a.x+d*c.a.y;this.j.y=b*c.b.x+d*c.b.y;this.ee=this.e.n-this.h.n;this.Sa.g(0,0);this.ha=
this.u=this.aa=0;this.xd=a.Oe;this.yd=a.Pe;this.he=a.je;this.td=a.tc;this.ib=a.Cd;this.Wb=a.$b}w(mc,$b);mc.prototype.Kb=function(){var a=this.h.d;return new y(this.h.c.x+(a.a.x*this.k.x+a.b.x*this.k.y),this.h.c.y+(a.a.y*this.k.x+a.b.y*this.k.y))};mc.prototype.Lb=function(){var a=this.e.d;return new y(this.e.c.x+(a.a.x*this.j.x+a.b.x*this.j.y),this.e.c.y+(a.a.y*this.j.x+a.b.y*this.j.y))};function ec(a){return a.e.n-a.h.n}new K;q=mc.prototype;q.qa=new K;q.ra=new K;q.Wa=new K;
q.Ob=function(){var a=this.h,c=this.e,b;b=a.d;var d=b.a.x*this.k.x+b.b.x*this.k.y,e=b.a.y*this.k.x+b.b.y*this.k.y;b=c.d;var f=b.a.x*this.j.x+b.b.x*this.j.y;b=b.a.y*this.j.x+b.b.y*this.j.y;var g=a.i,h=c.i,k=a.m,i=c.m;this.qa.a.x=g+h;this.qa.b.x=0;this.qa.a.y=0;this.qa.b.y=g+h;this.ra.a.x=k*e*e;this.ra.b.x=-k*d*e;this.ra.a.y=-k*d*e;this.ra.b.y=k*d*d;this.Wa.a.x=i*b*b;this.Wa.b.x=-i*f*b;this.Wa.a.y=-i*f*b;this.Wa.b.y=i*f*f;Fa(this.La,this.qa);Ga(this.La,this.ra);Ga(this.La,this.Wa);Ha(this.La,this.sb);
this.Ia=1/(k+i);if(this.Wb==!1)this.aa=0;if(this.ib){var j=c.n-a.n-this.ee;if(Math.abs(this.yd-this.xd)<2*Ba)this.K=3;else if(j<=this.xd){if(this.K!=1)this.u=0;this.K=1}else if(j>=this.yd){if(this.K!=2)this.u=0;this.K=2}else this.u=this.K=0}else this.u=0;Wb?(a.f.x-=g*this.Sa.x,a.f.y-=g*this.Sa.y,a.l-=k*(d*this.Sa.y-e*this.Sa.x+this.aa+this.u),c.f.x+=h*this.Sa.x,c.f.y+=h*this.Sa.y,c.l+=i*(f*this.Sa.y-b*this.Sa.x+this.aa+this.u)):(this.Sa.ka(),this.u=this.aa=0);this.ha=0};
q.xb=function(a){var c=this.h,b=this.e,d;d=c.d;var e=d.a.x*this.k.x+d.b.x*this.k.y,f=d.a.y*this.k.x+d.b.y*this.k.y;d=b.d;var g=d.a.x*this.j.x+d.b.x*this.j.y;d=d.a.y*this.j.x+d.b.y*this.j.y;var h=b.f.x+-b.l*d-c.f.x- -c.l*f,k=b.f.y+b.l*g-c.f.y-c.l*e,i=-(this.sb.a.x*h+this.sb.b.x*k),h=-(this.sb.a.y*h+this.sb.b.y*k);this.Sa.x+=i;this.Sa.y+=h;c.f.x-=c.i*i;c.f.y-=c.i*h;c.l-=c.m*(e*h-f*i);b.f.x+=b.i*i;b.f.y+=b.i*h;b.l+=b.m*(g*h-d*i);if(this.Wb&&this.K!=3)e=-this.Ia*(b.l-c.l-this.td),f=this.aa,this.aa=O(this.aa+
e,-a.Oa*this.he,a.Oa*this.he),e=this.aa-f,c.l-=c.m*e,b.l+=b.m*e;if(this.ib&&this.K!=0){e=-this.Ia*(b.l-c.l);if(this.K==3)this.u+=e;else if(this.K==1)a=this.u,this.u=Math.max(this.u+e,0),e=this.u-a;else if(this.K==2)a=this.u,this.u=Math.min(this.u+e,0),e=this.u-a;c.l-=c.m*e;b.l+=b.m*e}};
q.pb=function(){var a,c=this.h,b=this.e,d=0,d=c.d,e=d.a.x*this.k.x+d.b.x*this.k.y,f=d.a.y*this.k.x+d.b.y*this.k.y,d=b.d;a=d.a.x*this.j.x+d.b.x*this.j.y;var g=d.a.y*this.j.x+d.b.y*this.j.y,h=b.c.x+a-(c.c.x+e),k=b.c.y+g-(c.c.y+f),d=Math.sqrt(h*h+k*k),i=c.i,j=b.i,m=c.m,n=b.m;this.qa.a.x=i+j;this.qa.b.x=0;this.qa.a.y=0;this.qa.b.y=i+j;this.ra.a.x=m*f*f;this.ra.b.x=-m*e*f;this.ra.a.y=-m*e*f;this.ra.b.y=m*e*e;this.Wa.a.x=n*g*g;this.Wa.b.x=-n*a*g;this.Wa.a.y=-n*a*g;this.Wa.b.y=n*a*a;Fa(this.La,this.qa);
Ga(this.La,this.ra);Ga(this.La,this.Wa);this.La.sd(nc,-h,-k);h=nc.x;k=nc.y;c.c.x-=c.i*h;c.c.y-=c.i*k;c.n-=c.m*(e*k-f*h);c.d.g(c.n);b.c.x+=b.i*h;b.c.y+=b.i*k;b.n+=b.m*(a*k-g*h);b.d.g(b.n);e=0;if(this.ib&&this.K!=0){a=b.n-c.n-this.ee;f=0;if(this.K==3)a=O(a,-Ca,Ca),f=-this.Ia*a,e=Math.abs(a);else if(this.K==1)a-=this.xd,e=Math.max(0,-a),a=O(a+Ba,-Ca,0),f=-this.Ia*a,a=this.ha,this.ha=Math.max(this.ha+f,0),f=this.ha-a;else if(this.K==2)a-=this.yd,e=Math.max(0,a),a=O(a-Ba,0,Ca),f=-this.Ia*a,a=this.ha,this.ha=
Math.min(this.ha+f,0),f=this.ha-a;c.n-=c.m*f;c.d.g(c.n);b.n+=b.m*f;b.d.g(b.n)}return d<=0.15&&e<=Ba};var nc=new y;function oc(a){switch(a.type){case 3:return new bc(a);case 5:return new gc(a);case 2:return new ic(a);case 1:return new mc(a);case 4:return new jc(a);case 6:return new cc(a);default:throw"def not supported";}};function pc(){this.zd=this.Oa=p;this.Bd=0};function qc(a,c,b){this.Yc=new pc;this.dc=new Rb(this);this.ke=p;this.Bf=ub;this.Y=this.$=this.mb=p;this.cb=this.Gb=this.Ma=0;this.Xc=p;this.Se=b;this.Te=c;this.dc.O=this;this.Pa=new ob(a,this.dc);this.Vb=W(this,new I);this.Re=[];this.yc=!1}function W(a,c){var b=new Xa(c,a);b.D=p;if(b.p=a.mb)a.mb.D=b;a.mb=b;++a.Ma;return b}
function rc(a,c){var b=oc(c);b.D=p;if(b.p=a.Y)a.Y.D=b;a.Y=b;++a.cb;b.o.Hb=b;b.o.ma=b.e;b.o.prev=p;if(b.o.next=b.h.Y)b.h.Y.prev=b.o;b.h.Y=b.o;b.q.Hb=b;b.q.ma=b.h;b.q.prev=p;if(b.q.next=b.e.Y)b.e.Y.prev=b.q;b.e.Y=b.q;if(c.oa==!1)for(b=(c.V.Fb<c.Z.Fb?c.V:c.Z).tb;b;b=b.p)b.Uc(a.Pa)}
qc.prototype.Ic=function(a,c,b){var d=[],e=this.Pa,f=[],g=[];qb(e,f,g,a);var a=[0],h=[0];e.Ic(a,h,f[0],g[0],e.$a[0],2*e.Pb,0);e.Ic(a,h,f[1],g[1],e.$a[1],2*e.Pb,1);for(g=f=0;g<e.yb&&f<b;++g,++f)d[g]=e.xa[e.Hc[g]].H;e.yb=0;pb(e);b=f;for(e=0;e<b;++e)c[e]=d[e];return b};var Yb=1,Wb=1;function sc(a){var c;for(c=1;c<=4;c++)sc.uf(a,40*c);for(c=1;c<=4;c++)sc.tf(a,45*c)}sc.tf=function(a,c){var b=350+3*Math.random(),d=new Ka;d.Na=1;d.ob=20;d.ub=0.2;d.Qa.g(-20,0);var e=new Ka;e.Na=1;e.ob=20;e.ub=0.2;e.Qa.g(20,0);var f=new I;J(f,d);J(f,e);f.position.g(b,c);W(a,f)};
sc.uf=function(a,c){var b=150+3*Math.random(),d=[[-30,0],[30,0],[0,15]],e=new Ta;e.hc=d.length;var f;for(f=0;f<d.length;f++)e.vb[f].g(d[f][0],d[f][1]);e.Bc=0.3524*Math.PI;var g=new K(e.Bc);e.Qa=N(g,new y(30,0));e.Na=1;g=new Ta;g.hc=d.length;for(f=0;f<d.length;f++)g.vb[f].g(d[f][0],d[f][1]);g.Bc=-0.3524*Math.PI;d=new K(g.Bc);g.Qa=N(d,new y(-30,0));d=new I;J(d,e);J(d,g);d.position.g(b,c);W(a,d)};function tc(a){var c=a.Vb,b=new Ja;b.T.g(5,25);b.Na=1;var d=new I;J(d,b);var e=new lc,f=c;d.position.g(250,210);var g=W(a,d);e.sa.g(250,235);e.V=f;e.Z=g;e.tc=-1*Math.PI;e.je=5E8;e.$b=!0;rc(a,e);f=g;b.T.g(5,45);d.position.g(250,140);g=W(a,d);e.sa.g(250,185);e.V=f;e.Z=g;e.$b=!1;rc(a,e);f=g;b.T.g(20,20);d.position.g(250,95);g=W(a,d);e.sa.g(250,95);e.V=f;e.Z=g;rc(a,e);e=new hc;e.sa.g(250,95);e.V=c;e.Z=g;e.axis.g(0,1);e.tc=0;e.ie=1E5;e.$b=!0;rc(a,e);b.Na=2;d.position.g(250,10);W(a,d)};function uc(a){var c,b=a.Vb,d=new lc;for(c=0;c<4;c++)d.sa.g(250+40*c,50),d.V=b,d.Z=vc(a,250+40*c,200),rc(a,d);d.sa.g(210,50);d.V=b;d.Z=vc(a,60,50);rc(a,d)};function wc(a){var c=new Ja,b=new I;J(b,c);c.Na=1;c.ec=0.5;c.T.g(10,10);for(c=0;c<8;c++)b.position.g(250-Math.random()*2-1,245-c*22),W(a,b);for(c=0;c<8;c++)b.position.g(150-Math.random()*5+c,245-c*22),W(a,b);for(c=0;c<8;c++)b.position.g(350+Math.random()*5-c,245-c*22),W(a,b)};function xc(a){xc.ff(a);xc.Ud(a,100,100,[[0,0],[10,30],[-10,30]],!0);xc.Ud(a,150,150,[[0,0],[10,30],[-10,30]],!0);var c=yc(a,150,100,20,20,!1),b=new lc;b.V=c;b.Z=a.Vb;b.sa=c.c;rc(a,b);c=xc.Ud(a,300,200,[[0,0],[100,30],[-100,30]]);b.V=c;b.sa=c.c;rc(a,b)}xc.ff=function(a){var c=new Ka;c.ob=50;c.ub=0.2;var b=new I;J(b,c);b.position.g(350,100);W(a,b)};
xc.Ud=function(a,c,b,d,e){var f=new Ta;if(!e)f.Na=1;f.hc=d.length;for(e=0;e<d.length;e++)f.vb[e].g(d[e][0],d[e][1]);d=new I;J(d,f);d.position.g(c,b);return W(a,d)};var zc,Ac,Bc,Cc;function Dc(){return u.navigator?u.navigator.userAgent:p}Cc=Bc=Ac=zc=!1;var Ec;if(Ec=Dc()){var Fc=u.navigator;zc=Ec.indexOf("Opera")==0;Ac=!zc&&Ec.indexOf("MSIE")!=-1;Bc=!zc&&Ec.indexOf("WebKit")!=-1;Cc=!zc&&!Bc&&Fc.product=="Gecko"}var Gc=Ac,Hc=Cc,Ic=Bc,Jc=u.navigator,Kc=(Jc&&Jc.platform||"").indexOf("Mac")!=-1,Lc;
a:{var Mc="",M;if(zc&&u.opera)var Nc=u.opera.version,Mc=typeof Nc=="function"?Nc():Nc;else if(Hc?M=/rv\:([^\);]+)(\)|;)/:Gc?M=/MSIE\s+([^\);]+)(\)|;)/:Ic&&(M=/WebKit\/(\S+)/),M)var Oc=M.exec(Dc()),Mc=Oc?Oc[1]:"";if(Gc){var Pc,Qc=u.document;Pc=Qc?Qc.documentMode:l;if(Pc>parseFloat(Mc)){Lc=String(Pc);break a}}Lc=Mc}var Sc={},Rc={};var Tc;Gc&&(Rc[9]||(Rc[9]=Gc&&document.documentMode&&document.documentMode>=9));Gc&&(Sc["8"]||(Sc["8"]=oa(Lc,"8")>=0));function Uc(){}Uc.prototype.He=!1;Uc.prototype.rd=function(){if(!this.He)this.He=!0,this.Ab()};Uc.prototype.Ab=function(){this.Kf&&Vc.apply(p,this.Kf)};function Vc(a){for(var c=0,b=arguments.length;c<b;++c){var d=arguments[c],e=ea(d);e=="array"||e=="object"&&typeof d.length=="number"?Vc.apply(p,d):d&&typeof d.rd=="function"&&d.rd()}};function X(a,c){this.type=a;this.currentTarget=this.target=c}w(X,Uc);X.prototype.Ab=function(){delete this.type;delete this.target;delete this.currentTarget};X.prototype.nc=!1;X.prototype.qd=!0;var Xc=new Function("a","return a");function Yc(a,c){a&&this.od(a,c)}w(Yc,X);q=Yc.prototype;q.target=p;q.relatedTarget=p;q.offsetX=0;q.offsetY=0;q.clientX=0;q.clientY=0;q.screenX=0;q.screenY=0;q.button=0;q.keyCode=0;q.charCode=0;q.ctrlKey=!1;q.altKey=!1;q.shiftKey=!1;q.metaKey=!1;q.sf=!1;q.Ce=p;
q.od=function(a,c){var b=this.type=a.type;X.call(this,b);this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(Hc){var e;a:{try{Xc(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=p)}}else if(b=="mouseover")d=a.fromElement;else if(b=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==l?a.offsetX:a.layerX;this.offsetY=a.offsetY!==l?a.offsetY:a.layerY;this.clientX=a.clientX!==l?a.clientX:a.pageX;this.clientY=a.clientY!==l?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(b=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.sf=Kc?a.metaKey:a.ctrlKey;this.state=a.state;this.Ce=a;delete this.qd;delete this.nc};q.Ab=function(){Yc.ce.Ab.call(this);this.relatedTarget=this.currentTarget=this.target=this.Ce=p};function Zc(){}var $c=0;q=Zc.prototype;q.key=0;q.oc=!1;q.Ge=!1;q.od=function(a,c,b,d,e,f){if(ea(a)=="function")this.Ee=!0;else if(a&&a.handleEvent&&ea(a.handleEvent)=="function")this.Ee=!1;else throw Error("Invalid listener argument");this.Nc=a;this.proxy=c;this.src=b;this.type=d;this.capture=!!e;this.Zd=f;this.Ge=!1;this.key=++$c;this.oc=!1};q.handleEvent=function(a){return this.Ee?this.Nc.call(this.Zd||this.src,a):this.Nc.handleEvent.call(this.Nc,a)};function Y(a,c){this.Fe=c;this.Tb=[];if(a>this.Fe)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var b=0;b<a;b++)this.Tb.push(this.qb?this.qb():{})}w(Y,Uc);Y.prototype.qb=p;Y.prototype.Ie=p;Y.prototype.getObject=function(){return this.Tb.length?this.Tb.pop():this.qb?this.qb():{}};function ad(a,c){a.Tb.length<a.Fe?a.Tb.push(c):bd(a,c)}
function bd(a,c){if(a.Ie)a.Ie(c);else{var b=ea(c);if(b=="object"||b=="array"||b=="function")if(ea(c.rd)=="function")c.rd();else for(var d in c)delete c[d]}}Y.prototype.Ab=function(){Y.ce.Ab.call(this);for(var a=this.Tb;a.length;)bd(this,a.pop());delete this.Tb};var cd,dd=(cd="ScriptEngine"in u&&u.ScriptEngine()=="JScript")?u.ScriptEngineMajorVersion()+"."+u.ScriptEngineMinorVersion()+"."+u.ScriptEngineBuildVersion():"0";var ed,fd,gd,hd,id,jd,kd,ld,md,nd,od;
(function(){function a(){return{fb:0,ab:0}}function c(){return[]}function b(){function a(b){return g.call(a.src,a.key,b)}return a}function d(){return new Zc}function e(){return new Yc}var f=cd&&!(oa(dd,"5.7")>=0),g;jd=function(a){g=a};if(f){ed=function(){return h.getObject()};fd=function(a){ad(h,a)};gd=function(){return k.getObject()};hd=function(a){ad(k,a)};id=function(){return i.getObject()};kd=function(){ad(i,b())};ld=function(){return j.getObject()};md=function(a){ad(j,a)};nd=function(){return m.getObject()};
od=function(a){ad(m,a)};var h=new Y(0,600);h.qb=a;var k=new Y(0,600);k.qb=c;var i=new Y(0,600);i.qb=b;var j=new Y(0,600);j.qb=d;var m=new Y(0,600);m.qb=e}else ed=a,fd=da,gd=c,hd=da,id=b,kd=da,ld=d,md=da,nd=e,od=da})();function pd(a){var c=td,b;for(b in c)a.call(l,c[b],b,c)}var qd="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");function rd(a,c){for(var b,d,e=1;e<arguments.length;e++){d=arguments[e];for(b in d)a[b]=d[b];for(var f=0;f<qd.length;f++)b=qd[f],Object.prototype.hasOwnProperty.call(d,b)&&(a[b]=d[b])}};var sd={},Z={},td={},ud={};
function vd(a,c,b,d,e){if(c)if(ea(c)=="array")for(var f=0;f<c.length;f++)vd(a,c[f],b,d,e);else{var d=!!d,g=Z;c in g||(g[c]=ed());g=g[c];d in g||(g[d]=ed(),g.fb++);var g=g[d],h=fa(a),k;g.ab++;if(g[h]){k=g[h];for(f=0;f<k.length;f++)if(g=k[f],g.Nc==b&&g.Zd==e){if(g.oc)break;return}}else k=g[h]=gd(),g.fb++;f=id();f.src=a;g=ld();g.od(b,f,a,c,d,e);b=g.key;f.key=b;k.push(g);sd[b]=g;td[h]||(td[h]=gd());td[h].push(g);a.addEventListener?(a==u||!a.Be)&&a.addEventListener(c,f,d):a.attachEvent(c in ud?ud[c]:ud[c]=
"on"+c,f)}else throw Error("Invalid event type");}function xd(a,c,b,d,e){if(ea(c)=="array")for(var f=0;f<c.length;f++)xd(a,c[f],b,d,e);else{d=!!d;a:{f=Z;if(c in f&&(f=f[c],d in f&&(f=f[d],a=fa(a),f[a]))){a=f[a];break a}a=p}if(a)for(f=0;f<a.length;f++)if(a[f].Nc==b&&a[f].capture==d&&a[f].Zd==e){yd(a[f].key);break}}}
function yd(a){if(sd[a]){var c=sd[a];if(!c.oc){var b=c.src,d=c.type,e=c.proxy,f=c.capture;b.removeEventListener?(b==u||!b.Be)&&b.removeEventListener(d,e,f):b.detachEvent&&b.detachEvent(d in ud?ud[d]:ud[d]="on"+d,e);b=fa(b);e=Z[d][f][b];if(td[b]){var g=td[b],h=ta(g,c);h>=0&&qa.splice.call(g,h,1);g.length==0&&delete td[b]}c.oc=!0;e.De=!0;zd(d,f,b,e);delete sd[a]}}}
function zd(a,c,b,d){if(!d.pd&&d.De){for(var e=0,f=0;e<d.length;e++)if(d[e].oc){var g=d[e].proxy;g.src=p;kd(g);md(d[e])}else e!=f&&(d[f]=d[e]),f++;d.length=f;d.De=!1;f==0&&(hd(d),delete Z[a][c][b],Z[a][c].fb--,Z[a][c].fb==0&&(fd(Z[a][c]),delete Z[a][c],Z[a].fb--),Z[a].fb==0&&(fd(Z[a]),delete Z[a]))}}
function Ad(a){var c,b=0,d=c==p;c=!!c;if(a==p)pd(function(a){for(var e=a.length-1;e>=0;e--){var f=a[e];if(d||c==f.capture)yd(f.key),b++}});else if(a=fa(a),td[a])for(var a=td[a],e=a.length-1;e>=0;e--){var f=a[e];if(d||c==f.capture)yd(f.key),b++}}function Bd(a,c,b,d,e){var f=1,c=fa(c);if(a[c]){a.ab--;a=a[c];a.pd?a.pd++:a.pd=1;try{for(var g=a.length,h=0;h<g;h++){var k=a[h];k&&!k.oc&&(f&=Cd(k,e)!==!1)}}finally{a.pd--,zd(b,d,c,a)}}return Boolean(f)}
function Cd(a,c){var b=a.handleEvent(c);a.Ge&&yd(a.key);return b}
jd(function(a,c){if(!sd[a])return!0;var b=sd[a],d=b.type,e=Z;if(!(d in e))return!0;var e=e[d],f,g;Tc===l&&(Tc=Gc&&!u.addEventListener);if(Tc){var h;if(!(h=c))a:{h="window.event".split(".");for(var k=u;f=h.shift();)if(k[f]!=p)k=k[f];else{h=p;break a}h=k}f=h;h=!0 in e;k=!1 in e;if(h){if(f.keyCode<0||f.returnValue!=l)return!0;a:{var i=!1;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(j){i=!0}if(i||f.returnValue==l)f.returnValue=!0}}i=nd();i.od(f,this);f=!0;try{if(h){for(var m=gd(),n=i.currentTarget;n;n=
n.parentNode)m.push(n);g=e[!0];g.ab=g.fb;for(var o=m.length-1;!i.nc&&o>=0&&g.ab;o--)i.currentTarget=m[o],f&=Bd(g,m[o],d,!0,i);if(k){g=e[!1];g.ab=g.fb;for(o=0;!i.nc&&o<m.length&&g.ab;o++)i.currentTarget=m[o],f&=Bd(g,m[o],d,!1,i)}}else f=Cd(b,i)}finally{if(m)m.length=0,hd(m);i.rd();od(i)}return f}d=new Yc(c,this);try{f=Cd(b,d)}finally{d.rd()}return f});function Dd(){}w(Dd,Uc);q=Dd.prototype;q.Be=!0;q.$d=p;q.addEventListener=function(a,c,b,d){vd(this,a,c,b,d)};q.removeEventListener=function(a,c,b,d){xd(this,a,c,b,d)};
q.dispatchEvent=function(a){var c=a.type||a,b=Z;if(c in b){if(typeof a=="string")a=new X(a,this);else if(a instanceof X)a.target=a.target||this;else{var d=a,a=new X(c,this);rd(a,d)}var d=1,e,b=b[c],c=!0 in b,f;if(c){e=[];for(f=this;f;f=f.$d)e.push(f);f=b[!0];f.ab=f.fb;for(var g=e.length-1;!a.nc&&g>=0&&f.ab;g--)a.currentTarget=e[g],d&=Bd(f,e[g],a.type,!0,a)&&a.qd!=!1}if(!1 in b)if(f=b[!1],f.ab=f.fb,c)for(g=0;!a.nc&&g<e.length&&f.ab;g++)a.currentTarget=e[g],d&=Bd(f,e[g],a.type,!1,a)&&a.qd!=!1;else for(e=
this;!a.nc&&e&&f.ab;e=e.$d)a.currentTarget=e,d&=Bd(f,e,a.type,!1,a)&&a.qd!=!1;a=Boolean(d)}else a=!0;return a};q.Ab=function(){Dd.ce.Ab.call(this);Ad(this);this.$d=p};function Ed(){this.ae=0;this.Ub=[];this.Oc=this.Pc=0}function Fd(a){var c=na();if(a.be>0){var b=c-a.be;b/=1E3;a.ae++;if(a.Ub.length<100)a.Ub.push(b),a.Pc+=b,a.Oc=a.ae/a.Pc;else{var d=a.ae%a.Ub.length;a.Pc-=a.Ub[d];a.Ub[d]=b;a.Pc+=a.Ub[d];a.Oc=a.Ub.length/a.Pc}}a.be=c;return a.Oc}Ed.prototype.be=0;function Hd(a){this.Hd=a;this.Hd.fillStyle=this.Hd.strokeStyle="#666";this.Lc=[sc,tc,wc,uc,xc];Id(this);this.Ue=new Ed;this.Id=!0;this.Gd();$(a.canvas).click(ma(function(c){c=new va(c.pageX-a.canvas.offsetLeft,c.pageY-a.canvas.offsetTop);Math.random()<0.5?vc(this.O,c.x,c.y,10):yc(this.O,c.x,c.y,10,10,!1)},this))}w(Hd,Dd);
function Id(a,c){if(a.Lc.length==0)throw"No demos to load";else if(c===l)a.Mc=Math.floor(Math.random()*a.Lc.length);else{for(a.Mc+=c;a.Mc<0;)a.Mc+=a.Lc.length;a.Mc%=a.Lc.length}var b=new E;b.B.g(-1E3,-1E3);b.F.g(1E3,1E3);b=new qc(b,new y(0,300),!0);yc(b,250,305,250,5,!0,!0);yc(b,5,185,5,125,!0,!0);yc(b,495,185,5,125,!0,!0);a.O=b;a.Lc[a.Mc](a.O)}function Jd(a,c){if(c!==l)a.Id=!!c;return a.Id}
Hd.prototype.Gd=function(){this.Id?Ma(ma(this.Gd,this)):u.setTimeout(ma(this.Gd,this),1);var a=this.O,c=Kd,b,d;a.Yc.Oa=c;a.Yc.Bd=1;a.Yc.zd=c>0?1/c:0;a.le=0;for(var e=a.dc,f=e.O.$;f!=p;){var g=f,f=f.p;g.w&2&&Sb(e,g)}a.dc.Fd=!0;for(e=a.Xc;e;){f=e;e=e.p;for(g=f.Y;g;){var h=g,g=g.next;b=a;h=h.Hb;d=h.oa;if(h.D)h.D.p=h.p;if(h.p)h.p.D=h.D;if(h==b.Y)b.Y=h.p;var k=h.h,i=h.e;$a(k);$a(i);if(h.o.prev)h.o.prev.next=h.o.next;if(h.o.next)h.o.next.prev=h.o.prev;if(h.o==k.Y)k.Y=h.o.next;h.o.prev=p;h.o.next=p;if(h.q.prev)h.q.prev.next=
h.q.next;if(h.q.next)h.q.next.prev=h.q.prev;if(h.q==i.Y)i.Y=h.q.next;h.q.prev=p;h.q.next=p;--b.cb;if(d==!1)for(h=(k.Fb<i.Fb?k:i).tb;h;h=h.p)h.Uc(b.Pa)}for(f=f.tb;f;)g=f,f=f.p,g.da!=65535&&g.z.O.Pa.Xb(g.da)}a.Xc=p;a.dc.Fd=!1;for(e=a.dc.O.$;e!=p;e=e.p)if((e.P.z.w&Q)!=Q||(e.Q.z.w&Q)!=Q)if(f=e.Ja,e.zc(),g=e.Ja,f==0&&g>0){f=e.P.z;g=e.Q.z;b=e.o;h=e.q;b.Aa=e;b.ma=g;b.prev=p;b.next=f.$;if(b.next!=p)b.next.prev=e.o;f.$=e.o;h.Aa=e;h.ma=f;h.prev=p;h.next=g.$;if(h.next!=p)h.next.prev=h;g.$=h}else if(f>0&&g==
0){f=e.P.z;g=e.Q.z;b=e.o;h=e.q;if(b.prev)b.prev.next=b.next;if(b.next)b.next.prev=b.prev;if(b==f.$)f.$=b.next;b.prev=p;b.next=p;if(h.prev)h.prev.next=h.next;if(h.next)h.next.prev=h.prev;if(h==g.$)g.$=h.next;h.prev=p;h.next=p}e=new Xb(a.Ma,a.Gb,a.cb);for(b=a.mb;b!=p;b=b.p)b.w&=-5;for(f=a.$;f!=p;f=f.p)f.w&=-2;for(f=a.Y;f!=p;f=f.p)f.hb=!1;f=Array(a.Ma);for(g=0;g<a.Ma;g++)f[g]=p;for(g=a.mb;g!=p;g=g.p)if(!(g.w&(Ya|4|Q|ab))){b=e;b.Ma=0;b.Gb=0;h=b.cb=0;f[h++]=g;for(g.w|=4;h>0;)if(d=b=f[--h],e.lb[e.Ma++]=
d,b.w&=~Q,!(b.w&Ya)){for(k=b.$;k!=p;k=k.next)if(!(k.Aa.w&1))d=k.Aa,e.Ad[e.Gb++]=d,k.Aa.w|=1,d=k.ma,d.w&4||(f[h++]=d,d.w|=4);for(b=b.Y;b!=p;b=b.next)if(b.Hb.hb!=!0)d=b.Hb,e.uc[e.cb++]=d,b.Hb.hb=!0,d=b.ma,d.w&4||(f[h++]=d,d.w|=4)}e.sd(a.Yc,a.Te);a.le=Math.max(a.le,Zb);if(a.Se){b=a;h=e;d=c;for(var k=0,i=l,j=Number.MAX_VALUE,m=Da*Da,k=0;k<h.Ma;++k)if(i=h.lb[k],i.i!=0){if((i.w&Za)==0)j=i.sc=0;(i.w&Za)==0||i.l*i.l>m||wa(i.f,i.f)>0.09?j=i.sc=0:(i.sc+=d,j=Math.min(j,i.sc))}if(j>=0.5){for(k=0;k<h.Ma;++k)i=
h.lb[k],i.w|=Q;h=!0}else h=!1;b.yc=h}for(h=0;h<e.Ma;++h)if(b=e.lb[h],b.w&Ya&&(b.w&=-5),(b.w&ab)==ab&&a.ke&&a.ke.vf(b)==1){d=a;if(!(b.w&32)){if(b.D)b.D.p=b.p;if(b.p)b.p.D=b.D;if(b==d.mb)d.mb=b.p;b.w|=32;--d.Ma;b.D=p;b.p=d.Xc;d.Xc=b}e.lb[h]=p}}a.Re=a.Pa.vc();if(!this.O.yc){c=this.O;a=this.Hd;a.clearRect(0,0,a.canvas.width,a.canvas.height);for(e=c.Y;e;e=e.p){f=c;g=e;b=a;h=g.h;d=g.e;k=h.c;i=d.c;j=g.Kb();m=g.Lb();b.beginPath();switch(g.Ga){case 3:b.moveTo(j.x,j.y);b.lineTo(m.x,m.y);break;case 4:break;
default:h==f.Vb?(b.moveTo(j.x,j.y),b.lineTo(i.x,i.y)):d==f.Vb?(b.moveTo(j.x,j.y),b.lineTo(k.x,k.y)):(b.moveTo(k.x,k.y),b.lineTo(j.x,j.y),b.lineTo(i.x,i.y),b.lineTo(m.x,m.y))}b.stroke()}for(c=c.mb;c;c=c.p)for(e=c.tb;e!=p;e=e.ac()){f=e;g=a;g.beginPath();switch(f.Ga){case 0:b=f.c;h=f.ga;g.arc(f.c.x,f.c.y,f.ga,0,2*Math.PI,!1);g.moveTo(b.x,b.y);d=f.d.a;b=new y(b.x+h*d.x,b.y+h*d.y);g.lineTo(b.x,b.y);break;case 2:b=ya(f.c,N(f.d,f.r[0]));g.moveTo(b.x,b.y);for(h=0;h<f.Ka;h++)d=ya(f.c,N(f.d,f.r[h])),g.lineTo(d.x,
d.y);g.lineTo(b.x,b.y)}g.stroke();f.gb=="filled"&&g.fill()}}a=Math.round(Fd(this.Ue));this.dispatchEvent(new Ld(a,this.O.yc))};function vc(a,c,b,d){var e=new Ka;e.Na=1;e.ob=d||20;e.ub=0.8;e.ec=0.9;d=new I;J(d,e);d.position.g(c,b);return W(a,d)}function yc(a,c,b,d,e,f,g){typeof f=="undefined"&&(f=!0);typeof g=="undefined"&&(g=!1);var h=new Ja;if(!f)h.Na=1;if(g)h.H="filled";h.T.g(d,e);d=new I;J(d,h);d.position.g(c,b);return W(a,d)}var Kd=1/60;
function Ld(a,c){X.call(this,"Demo.FrameEventType");this.Oc=a;this.yc=c}w(Ld,X);$(document).ready(function(){var a=$("canvas")[0];a.Gf=ca(!1);var c=new Hd(a.getContext("2d"));$("#fps_limit").click(function(){Jd(c,$("#fps_limit").attr("checked"))});$("#fps_limit").attr("checked",Jd(c));$("#previous").click(function(){Id(c,-1)});$("#reload").click(function(){Id(c,0)});$("#next").click(function(){Id(c,1)});var b=0;vd(c,"Demo.FrameEventType",function(a){b==0&&($("#fps").html(a.Oc+"fps"),a.yc?$("#fps").addClass("sleeping"):$("#fps").removeClass("sleeping"));b++;b%=30})});
