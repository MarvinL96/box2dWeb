var m=true,p=null,q=false;function aa(){return function(){}}function ba(a){return function(){return this[a]}}function ca(a){return function(){return a}}var r,t=this;function da(){}
function ea(a){var c=typeof a;if(c=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(c=="function"&&typeof a.call=="undefined")return"object";return c}function fa(a){return a[ga]||(a[ga]=++ha)}var ga="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ha=0;function ia(a,c){var b=c||t;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}else return function(){return a.apply(b,arguments)}}var la=Date.now||function(){return+new Date};
function v(a,c){function b(){}b.prototype=c.prototype;a.ae=c.prototype;a.prototype=new b};function ma(a,c){return a.x*c.x+a.y*c.y}function x(a,c){return new y(a.a.x*c.x+a.b.x*c.y,a.a.y*c.x+a.b.y*c.y)}function na(a,c){return new y(a.x+c.x,a.y+c.y)}function oa(a,c){return new y(a.x-c.x,a.y-c.y)}function A(a){return a>0?a:-a}function B(a,c){return a>c?a:c}function G(a,c,b){return B(c,a<b?a:b)};function ra(a){this.stack=Error().stack||"";if(a)this.message=String(a)}v(ra,Error);function sa(a){for(var c=1;c<arguments.length;c++){var b=String(arguments[c]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,b)}return a}
function ta(a,c){for(var b=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(c).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;b==0&&g<f;g++){var h=d[g]||"",j=e[g]||"",i=RegExp("(\\d*)(\\D*)","g"),k=RegExp("(\\d*)(\\D*)","g");do{var n=i.exec(h)||["","",""],l=k.exec(j)||["","",""];if(n[0].length==0&&l[0].length==0)break;b=ua(n[1].length==0?0:parseInt(n[1],10),l[1].length==0?0:parseInt(l[1],10))||ua(n[2].length==0,l[2].length==0)||ua(n[2],l[2])}while(b==
0)}return b}function ua(a,c){if(a<c)return-1;else if(a>c)return 1;return 0};function va(a,c){c.unshift(a);ra.call(this,sa.apply(p,c));c.shift();this.Gf=a}v(va,ra);function wa(a,c){if(!a){var b=Array.prototype.slice.call(arguments,2),d="Assertion failed";if(c){d+=": "+c;var e=b}throw new va(""+d,e||[]);}return a};var xa=Array.prototype,ya=xa.indexOf?function(a,c,b){wa(a.length!=p);return xa.indexOf.call(a,c,b)}:function(a,c,b){b=b==p?0:b<0?Math.max(0,a.length+b):b;if(typeof a=="string"){if(typeof c!="string"||c.length!=1)return-1;return a.indexOf(c,b)}for(b=b;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1};function za(a,c){this.x=a!==undefined?a:0;this.y=c!==undefined?c:0}za.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function Aa(a,c){this.x=Number(a)||0;this.y=Number(c)||0}v(Aa,za);function I(a){return Math.sqrt(a.x*a.x+a.y*a.y)}Aa.prototype.scale=function(a){this.x*=a;this.y*=a;return this};Aa.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};function y(a,c){if(a===undefined)a=0;this.x=a;if(c===undefined)c=0;this.y=c}v(y,Aa);r=y.prototype;r.la=function(){this.y=this.x=0};r.g=function(a,c){this.x=a;this.y=c};function K(a,c){a.x=c.x;a.y=c.y}r.td=function(){return new y(this.x,this.y)};function Ba(a,c){var b=a.x;a.x=c.a.x*b+c.b.x*a.y;a.y=c.a.y*b+c.b.y*a.y}r.Zb=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};r.xc=function(){return isFinite(this.x)&&isFinite(this.y)};function L(){this.C=new y;this.A=new y}L.prototype.xc=function(){var a=this.A.x,c=this.A.y;a=this.A.x;c=this.A.y;a-=this.C.x;c-=this.C.y;return a=a>=0&&c>=0&&this.C.xc()&&this.A.xc()};var Ca=Math.PI,Da=2/180*Ca,Ea=8/180*Ca,Fa=2/180/1;function Ga(){this.tc=[];this.B=p;for(var a=0;a<64;a++)this.tc[a]=p;this.position=new y(0,0);this.rotation=0;this.bf=new y(0,0);this.Ye=this.af=this.yd=0;this.Xe=m;this.pf=this.Ze=q}function M(a,c){for(var b=0;b<64;++b)if(a.tc[b]==p){a.tc[b]=c;break}};function Ha(){this.type=Ia;this.B=p;this.ya=new y(0,0);this.wb=0;this.$a=0.2;this.ua=this.Sa=0;this.Ta=1;this.Xa=65535;this.Mb=0}
Ha.prototype.be=function(a){a.ba=new y(0,0);if(this.ua==0){a.Ya=0;a.ba.g(0,0);a.Gb=0}switch(this.type){case Ja:a.Ya=this.ua*Ca*this.sb*this.sb;a.ba.g(0,0);a.Gb=0.5*a.Ya*this.sb*this.sb;break;case Ka:var c=this.Db,b=this.uc,d=this.ua,e=new y;e.la();for(var f=0,g=0,h=new y(0,0),j=1/3,i=0;i<b;++i){var k=h,n=c[i],l=i+1<b?c[i+1]:c[0],o=oa(n,k),s=oa(l,k),w=o.x*s.y-o.y*s.x,u=0.5*w;f+=u;var z=new y;K(z,k);z.add(n);z.add(l);z.scale(j*u);e.add(z);n=k.x;k=k.y;l=o.x;o=o.y;u=s.x;s=s.y;g+=w*(j*(0.25*(l*l+u*l+u*
u)+(n*l+n*u))+0.5*n*n+(j*(0.25*(o*o+s*o+s*s)+(k*o+k*s))+0.5*k*k))}a.Ya=d*f;e.scale(1/f);a.ba=e;g=d*(g-f*ma(e,e));a.Gb=g;break;default:a.Ya=0;a.ba.g(0,0);a.Gb=0}};Ha.prototype.Ta=0;Ha.prototype.Xa=0;Ha.prototype.Mb=0;function La(){this.type=Ia;this.B=p;this.ya=new y(0,0);this.wb=0;this.$a=0.2;this.ua=this.Sa=0;this.Ta=1;this.Xa=65535;this.Mb=0;this.type=Ma;this.R=new y(1,1)}v(La,Ha);La.prototype.be=function(a){a.ba=new y(0,0);if(this.ua==0){a.Ya=0;a.ba.g(0,0);a.Gb=0}a.Ya=4*this.ua*this.R.x*this.R.y;a.ba.g(0,0);a.Gb=a.Ya/3*ma(this.R,this.R)};function O(a,c,b){if(a==p)a=0;this.a=new y;this.b=new y;if(c!=p&&b!=p){K(this.a,c);K(this.b,b)}else{c=Math.cos(a);a=Math.sin(a);this.a.x=c;this.b.x=-a;this.a.y=a;this.b.y=c}}r=O.prototype;r.g=function(a){var c=Math.cos(a);a=Math.sin(a);this.a.x=c;this.b.x=-a;this.a.y=a;this.b.y=c};r.td=function(){return new O(0,this.a,this.b)};function Na(a,c){K(a.a,c.a);K(a.b,c.b)}function Oa(a,c){a.a.x+=c.a.x;a.a.y+=c.a.y;a.b.x+=c.b.x;a.b.y+=c.b.y}r.la=function(){this.a.x=0;this.b.x=0;this.a.y=0;this.b.y=0};
function Pa(a,c){var b=a.a.x,d=a.b.x,e=a.a.y,f=a.b.y,g;g=1/(b*f-d*e);c.a.x=g*f;c.b.x=-g*d;c.a.y=-g*e;c.b.y=g*b;return c}r.wd=function(a,c,b){var d=this.a.x,e=this.b.x,f=this.a.y,g=this.b.y,h;h=1/(d*g-e*f);a.x=h*(g*c-e*b);a.y=h*(d*b-f*c);return a};r.Zb=function(){this.a.Zb();this.b.Zb()};function Ra(a,c){this.d=new O;this.c=new y;this.db=a.B;this.ma=a.$a;this.oa=a.Sa;this.z=c;this.aa=P;this.kc=0;this.Ta=a.Ta;this.Xa=a.Xa;this.jc=a.Mb}Ra.prototype.Uc=aa();Ra.prototype.bc=ba("p");Ra.prototype.$b=function(){if(this.aa!=P){this.z.Q.Qa.$b(this.aa);this.aa=P}};Ra.prototype.xd=aa();var Ia=-1,Ja=0,Ma=1,Ka=2;function Sa(){this.type=Ia;this.B=p;this.ya=new y(0,0);this.wb=0;this.$a=0.2;this.ua=this.Sa=0;this.Ta=1;this.Xa=65535;this.Mb=0;this.type=Ja;this.sb=1}v(Sa,Ha);function Ta(){this.Ya=this.Gb=0;this.ba=new y(0,0)};function Ua(a,c,b){this.d=new O;this.c=new y;this.db=a.B;this.ma=a.$a;this.oa=a.Sa;this.z=c;this.aa=P;this.kc=0;this.Ta=a.Ta;this.Xa=a.Xa;this.jc=a.Mb;this.Ra=new y;this.Ra.g(a.ya.x-b.x,a.ya.y-b.y);this.Ba=Ja;this.ha=a.sb;Na(this.d,this.z.d);a=this.d.a.x*this.Ra.x+this.d.b.x*this.Ra.y;c=this.d.a.y*this.Ra.x+this.d.b.y*this.Ra.y;this.c.x=this.z.c.x+a;this.c.y=this.z.c.y+c;this.kc=Math.sqrt(a*a+c*c)+this.ha;a=new L;a.C.g(this.c.x-this.ha,this.c.y-this.ha);a.A.g(this.c.x+this.ha,this.c.y+this.ha);c=
this.z.Q.Qa;this.aa=Va(c,a)?Wa(c,a,this):P;this.aa==P&&Xa(this.z)}v(Ua,Ra);Ua.prototype.xd=function(a,c,b,d){Na(this.d,d);this.c.x=d.a.x*this.Ra.x+d.b.x*this.Ra.y+b.x;this.c.y=d.a.y*this.Ra.x+d.b.y*this.Ra.y+b.y;if(this.aa!=P){b=a.x+(c.a.x*this.Ra.x+c.b.x*this.Ra.y);c=a.y+(c.a.y*this.Ra.x+c.b.y*this.Ra.y);d=Math.max(b,this.c.x);var e=Math.max(c,this.c.y);a=new L;a.C.g(Math.min(b,this.c.x)-this.ha,Math.min(c,this.c.y)-this.ha);a.A.g(d+this.ha,e+this.ha);b=this.z.Q.Qa;Va(b,a)?Ya(b,this.aa,a):Xa(this.z)}};
Ua.prototype.Uc=function(a){if(this.aa!=P){a.$b(this.aa);var c=new L;c.C.g(this.c.x-this.ha,this.c.y-this.ha);c.A.g(this.c.x+this.ha,this.c.y+this.ha);this.aa=Va(a,c)?Wa(a,c,this):P;this.aa==P&&Xa(this.z)}};function Za(){this.Da=new O;this.ba=new y;this.R=new y};function $a(a,c,b){this.d=new O;this.c=new y;this.db=a.B;this.ma=a.$a;this.oa=a.Sa;this.z=c;this.aa=P;this.kc=0;this.Ta=a.Ta;this.Xa=a.Xa;this.jc=a.Mb;this.Ha=new L;this.ka=new O;this.Aa=new y;this.s=new Za;var d=0,e;c=new L;this.t=Array(8);this.Pb=Array(8);this.cb=Array(8);this.Ba=Ka;var f=new O(a.wb);if(a.type==Ma){this.Aa.x=a.ya.x-b.x;this.Aa.y=a.ya.y-b.y;this.Oa=4;b=a.R.x;e=a.R.y;d=Math.max(0,b-0.3);var g=Math.max(0,e-0.3);a=this.t[0]=new y;a.x=f.a.x*b+f.b.x*e;a.y=f.a.y*b+f.b.y*e;a=this.t[1]=
new y;a.x=f.a.x*-b+f.b.x*e;a.y=f.a.y*-b+f.b.y*e;a=this.t[2]=new y;a.x=f.a.x*-b+f.b.x*-e;a.y=f.a.y*-b+f.b.y*-e;a=this.t[3]=new y;a.x=f.a.x*b+f.b.x*-e;a.y=f.a.y*b+f.b.y*-e;a=this.Pb[0]=new y;a.x=f.a.x*d+f.b.x*g;a.y=f.a.y*d+f.b.y*g;a=this.Pb[1]=new y;a.x=f.a.x*-d+f.b.x*g;a.y=f.a.y*-d+f.b.y*g;a=this.Pb[2]=new y;a.x=f.a.x*-d+f.b.x*-g;a.y=f.a.y*-d+f.b.y*-g;a=this.Pb[3]=new y;a.x=f.a.x*d+f.b.x*-g;a.y=f.a.y*d+f.b.y*-g}else{this.Oa=a.uc;d=a.Db;e=a.uc;for(var h=g=0,j=0,i=1/3,k=0;k<e;++k){var n=d[k].x,l=d[k].y,
o=k+1<e?d[k+1].x:d[0].x,s=k+1<e?d[k+1].y:d[0].y,w=0.5*((n-0)*(s-0)-(l-0)*(o-0));j+=w;g+=w*i*(0+n+o);h+=w*i*(0+l+s)}g*=1/j;h*=1/j;ab.g(g,h);g=ab.x;h=ab.y;this.Aa.x=a.ya.x+(f.a.x*g+f.b.x*h)-b.x;this.Aa.y=a.ya.y+(f.a.y*g+f.b.y*h)-b.y;for(d=0;d<this.Oa;++d){this.t[d]=new y;this.Pb[d]=new y;b=a.Db[d].x-g;e=a.Db[d].y-h;this.t[d].x=f.a.x*b+f.b.x*e;this.t[d].y=f.a.y*b+f.b.y*e;b=this.t[d].x;e=this.t[d].y;j=Math.sqrt(b*b+e*e);if(j>Number.MIN_VALUE){b*=1/j;e*=1/j}this.Pb[d].x=this.t[d].x-0.3*b;this.Pb[d].y=
this.t[d].y-0.3*e}}a=f=Number.MAX_VALUE;b=-Number.MAX_VALUE;e=-Number.MAX_VALUE;for(d=this.kc=0;d<this.Oa;++d){g=this.t[d];f=Math.min(f,g.x);a=Math.min(a,g.y);b=Math.max(b,g.x);e=Math.max(e,g.y);this.kc=Math.max(this.kc,I(g))}d=this.s.Da;d.a.x=1;d.b.x=0;d.a.y=0;d.b.y=1;this.s.ba.g((f+b)*0.5,(a+e)*0.5);this.s.R.g((b-f)*0.5,(e-a)*0.5);for(d=a=f=0;d<this.Oa;++d){this.cb[d]=new y;f=d;a=d+1<this.Oa?d+1:0;this.cb[d].x=this.t[a].y-this.t[f].y;this.cb[d].y=-(this.t[a].x-this.t[f].x);f=this.cb[d];a=I(f);if(!(a<
Number.MIN_VALUE)){a=1/a;f.x*=a;f.y*=a}}for(d=0;d<this.Oa;++d);Na(this.d,this.z.d);this.c.x=this.z.c.x+(this.d.a.x*this.Aa.x+this.d.b.x*this.Aa.y);this.c.y=this.z.c.y+(this.d.a.y*this.Aa.x+this.d.b.y*this.Aa.y);bb.a.x=this.d.a.x*this.s.Da.a.x+this.d.b.x*this.s.Da.a.y;bb.a.y=this.d.a.y*this.s.Da.a.x+this.d.b.y*this.s.Da.a.y;bb.b.x=this.d.a.x*this.s.Da.b.x+this.d.b.x*this.s.Da.b.y;bb.b.y=this.d.a.y*this.s.Da.b.x+this.d.b.y*this.s.Da.b.y;bb.Zb();b=bb.a.x*this.s.R.x+bb.b.x*this.s.R.y;e=bb.a.y*this.s.R.x+
bb.b.y*this.s.R.y;f=this.c.x+(this.d.a.x*this.s.ba.x+this.d.b.x*this.s.ba.y);a=this.c.y+(this.d.a.y*this.s.ba.x+this.d.b.y*this.s.ba.y);c.C.x=f-b;c.C.y=a-e;c.A.x=f+b;c.A.y=a+e;f=this.z.Q.Qa;this.aa=Va(f,c)?Wa(f,c,this):P;this.aa==P&&Xa(this.z)}v($a,Ra);$a.prototype.Ha=new L;$a.prototype.ka=new O;
$a.prototype.xd=function(a,c,b,d){Na(this.d,d);this.c.x=this.z.c.x+(d.a.x*this.Aa.x+d.b.x*this.Aa.y);this.c.y=this.z.c.y+(d.a.y*this.Aa.x+d.b.y*this.Aa.y);if(this.aa!=P){var e,f;e=c.a;f=c.b;var g=this.s.Da.a,h=this.s.Da.b;this.ka.a.x=e.x*g.x+f.x*g.y;this.ka.a.y=e.y*g.x+f.y*g.y;this.ka.b.x=e.x*h.x+f.x*h.y;this.ka.b.y=e.y*h.x+f.y*h.y;this.ka.Zb();e=this.Aa.x+this.s.ba.x;f=this.Aa.y+this.s.ba.y;g=a.x+(c.a.x*e+c.b.x*f);a=a.y+(c.a.y*e+c.b.y*f);e=this.ka.a.x*this.s.R.x+this.ka.b.x*this.s.R.y;f=this.ka.a.y*
this.s.R.x+this.ka.b.y*this.s.R.y;this.Ha.C.x=g-e;this.Ha.C.y=a-f;this.Ha.A.x=g+e;this.Ha.A.y=a+f;e=d.a;f=d.b;g=this.s.Da.a;h=this.s.Da.b;this.ka.a.x=e.x*g.x+f.x*g.y;this.ka.a.y=e.y*g.x+f.y*g.y;this.ka.b.x=e.x*h.x+f.x*h.y;this.ka.b.y=e.y*h.x+f.y*h.y;this.ka.Zb();e=this.Aa.x+this.s.ba.x;f=this.Aa.y+this.s.ba.y;g=b.x+(d.a.x*e+d.b.x*f);a=b.y+(d.a.y*e+d.b.y*f);e=this.ka.a.x*this.s.R.x+this.ka.b.x*this.s.R.y;f=this.ka.a.y*this.s.R.x+this.ka.b.y*this.s.R.y;this.Ha.C.x=Math.min(this.Ha.C.x,g-e);this.Ha.C.y=
Math.min(this.Ha.C.y,a-f);this.Ha.A.x=Math.max(this.Ha.A.x,g+e);this.Ha.A.y=Math.max(this.Ha.A.y,a+f);b=this.z.Q.Qa;Va(b,this.Ha)?Ya(b,this.aa,this.Ha):Xa(this.z)}};
$a.prototype.Uc=function(a){if(this.aa!=P){a.$b(this.aa);var c=new O(0,x(this.d,this.s.Da.a),x(this.d,this.s.Da.b));c=new O(0,new y(A(c.a.x),A(c.a.y)),new y(A(c.b.x),A(c.b.y)));c=x(c,this.s.R);var b=x(this.d,this.s.ba);b.add(this.c);var d=new L;K(d.C,b);var e=d.C;e.x-=c.x;e.y-=c.y;K(d.A,b);d.A.add(c);this.aa=Va(a,d)?Wa(a,d,this):P;this.aa==P&&Xa(this.z)}};var ab=new y,bb=new O;function cb(a,c){this.He=new O;this.c=new y;K(this.c,a.position);this.Vd=new y;K(this.Vd,this.c);var b=0,d,e;this.v=0;this.n=a.rotation;this.d=new O(0);this.d.g(this.n);this.ze=this.n;this.Q=c;this.nf=G(1-a.af,0,1);this.ff=G(1-a.Ye,0,1);this.Fc=new y(0,0);this.Ma=this.Ae=0;var f=Array(64);for(b=0;b<64;b++)f[b]=new Ta;this.Wb=0;this.xb=new y(0,0);for(b=0;b<64;++b){d=a.tc[b];if(d==p)break;e=f[b];d.be(e);this.Ma+=e.Ya;this.xb.x+=e.Ya*(d.ya.x+e.ba.x);this.xb.y+=e.Ya*(d.ya.y+e.ba.y);++this.Wb}if(this.Ma>
0){this.xb.scale(1/this.Ma);this.c.add(x(this.d,this.xb))}else this.v|=db;for(b=this.Cc=0;b<this.Wb;++b){d=a.tc[b];e=f[b];this.Cc+=e.Gb;d=oa(na(d.ya,e.ba),this.xb);this.Cc+=e.Ya*ma(d,d)}this.i=this.Ma>0?1/this.Ma:0;if(this.Cc>0&&a.pf==q)this.m=1/this.Cc;else this.m=this.Cc=0;this.f=na(a.bf,new y(-a.yd*this.xb.y,a.yd*this.xb.x));this.l=a.yd;this.Cb=this.p=this.G=this.$=this.W=p;for(b=0;b<this.Wb;++b){d=a.tc[b];a:{e=d;f=this.xb;switch(e.type){case Ja:e=new Ua(e,this,f);break a;case Ma:case Ka:e=new $a(e,
this,f);break a}e=p}e.p=this.Cb;this.Cb=e}this.pc=0;if(a.Xe)this.v|=eb;if(a.Ze)this.v|=Q;if(this.v&Q||this.i==0){this.f.g(0,0);this.l=0}this.db=a.B}function fb(a){a.v&=~Q;a.pc=0}cb.prototype.bc=ba("p");cb.prototype.Tc=function(){for(var a=this.Cb;a;){var c=a;a=a.p;c.aa!=P&&c.z.Q.Qa.$b(c.aa)}};function Xa(a){a.v|=gb;a.f.la();a.l=0;for(a=a.Cb;a!=p;a=a.p)a.$b()}var db=1,gb=2,Q=8,eb=16;function hb(){this.u=this.F=this.value=0}function ib(a,c){var b=a.value,d=a.F,e=a.u;a.value=c.value;a.F=c.F;a.u=c.u;c.value=b;c.F=d;c.u=e};function jb(){this.bd=[0,0];this.qd=[0,0]};function kb(){this.Ga=this.Fa=0};function lb(){}lb.prototype={ge:function(){this.status|=mb},Le:function(){this.status&=~mb},ce:function(){return(this.status&mb)==mb},Te:function(){this.status|=nb},Me:function(){this.status&=~nb},Oe:function(){return(this.status&nb)==nb},Se:function(){this.status|=ob},de:function(){return(this.status&ob)==ob},Fa:0,Ga:0,next:0,status:0};lb.prototype.je=p;var P=65535,mb=1,nb=2,ob=4;function pb(){var a=0;this.Qb=Array(8192);for(a=0;a<8192;++a)this.Qb[a]=65535;this.na=Array(8192);for(a=0;a<8192;++a)this.na[a]=new lb;this.Va=Array(8192);for(a=0;a<8192;++a)this.Va[a]=new kb;for(a=0;a<8192;++a){this.na[a].Fa=P;this.na[a].Ga=P;this.na[a].B=p;this.na[a].status=0;this.na[a].next=a+1}this.na[8191].next=65535;this.Ud=0}
pb.prototype={Ne:function(a,c){this.Qa=a;this.Id=c},sd:function(a,c){var b=this.Ke(a,c);if(b.ce()==q){b.ge();this.Va[this.zb].Fa=b.Fa;this.Va[this.zb].Ga=b.Ga;++this.zb}b.Me()},ud:function(a,c){var b=qb(this,a,c);if(b!=p){if(b.ce()==q){b.ge();this.Va[this.zb].Fa=b.Fa;this.Va[this.zb].Ga=b.Ga;++this.zb}b.Te()}},Ke:function(a,c){if(a>c){var b=a;a=c;c=b}b=rb(a,c)&8191;var d=sb(this,a,c,b);if(d!=p)return d;var e=this.gd;d=this.na[e];this.gd=d.next;d.Fa=a;d.Ga=c;d.status=0;d.B=p;d.next=this.Qb[b];this.Qb[b]=
e;++this.Ud;return d},Re:function(a,c){if(a>c){var b=a;a=c;c=b}for(var d=rb(a,c)&8191,e=this.Qb[d],f=p;e!=65535;)if(this.na[e].Fa==a&&this.na[e].Ga==c){b=e;if(f)f.next=this.na[e].next;else this.Qb[d]=this.na[e].next;d=this.na[b];e=d.B;d.next=this.gd;d.Fa=P;d.Ga=P;d.B=p;d.status=0;this.gd=b;--this.Ud;return e}else{f=this.na[e];e=f.next}return p},Qa:p,Id:p,gd:0,Ud:0,Va:p,zb:0,Qb:p};function qb(a,c,b){if(c>b){var d=c;c=b;b=d}return sb(a,c,b,rb(c,b)&8191)}
function sb(a,c,b,d){for(d=a.Qb[d];d!=65535&&(a.na[d].Fa==c&&a.na[d].Ga==b)==q;)d=a.na[d].next;if(d==65535)return p;return a.na[d]}
pb.prototype.vc=function(){var a=0,c=0,b=this.Qa.Ca,d=[];for(a=0;a<this.zb;++a){var e=qb(this,this.Va[a].Fa,this.Va[a].Ga);e.Le();var f=b[e.Fa],g=b[e.Ga];if(e.Oe()){e.de()==m&&this.Id.fe(f.B,g.B,e.B);this.Va[c].Fa=e.Fa;this.Va[c].Ga=e.Ga;++c}else if(e.de()==q){e.je=this.Id.ee(f.B,g.B);d.push(e.je);e.Se()}}for(a=0;a<c;++a)this.Re(this.Va[a].Fa,this.Va[a].Ga);this.zb=0;return d};
function rb(a,c){var b=c<<16&4294901760|a;b=~b+(b<<15&4294934528);b^=b>>12&1048575;b+=b<<2&4294967292;b^=b>>4&268435455;b*=2057;b^=b>>16&65535;return b};function tb(){this.za=[0,0];this.Ia=[0,0];this.timeStamp=this.Yb=0;this.B=p}tb.prototype={bc:function(){return this.za[0]},vd:function(a){this.za[0]=a},xc:function(){return this.Yb!=65535}};function ub(a,c){this.jb=new pb;this.Ca=Array(8192);this.ab=Array(2048);this.Mc=Array(1024);this.oc=new y;var b=0;this.jb.Ne(this,c);this.ia=a;for(b=this.Tb=0;b<1024;b++)this.Mc[b]=0;this.ab=Array(2);for(b=0;b<2;b++){this.ab[b]=Array(2048);for(var d=0;d<2048;d++)this.ab[b][d]=new hb}b=a.A.x;d=a.A.y;b-=a.C.x;d-=a.C.y;this.oc.x=65535/b;this.oc.y=65535/d;for(b=0;b<1023;++b){d=new tb;this.Ca[b]=d;d.vd(b+1);d.timeStamp=0;d.Yb=65535;d.B=p}d=new tb;this.Ca[1023]=d;d.vd(P);d.timeStamp=0;d.Yb=65535;d.B=p;
this.hd=0;this.Oc=1;this.Bb=0}function Va(a,c){var b,d,e,f;b=c.C.x;d=c.C.y;b-=a.ia.A.x;d-=a.ia.A.y;e=a.ia.C.x;f=a.ia.C.y;e-=c.A.x;f-=c.A.y;b=B(b,e);d=B(d,f);return B(b,d)<0}
ub.prototype.$b=function(a){for(var c=this.Ca[a],b=2*this.Tb,d=0;d<2;++d){var e=this.ab[d],f=c.za[d],g=c.Ia[d],h=e[f].value,j=e[g].value,i=[],k=0,n=g-f-1,l,o;for(k=0;k<n;k++){i[k]=new hb;l=i[k];o=e[f+1+k];l.value=o.value;l.F=o.F;l.u=o.u}n=i.length;var s=f;for(k=0;k<n;k++){o=i[k];l=e[s+k];l.value=o.value;l.F=o.F;l.u=o.u}i=[];n=b-g-1;for(k=0;k<n;k++){i[k]=new hb;l=i[k];o=e[g+1+k];l.value=o.value;l.F=o.F;l.u=o.u}n=i.length;s=g-1;for(k=0;k<n;k++){o=i[k];l=e[s+k];l.value=o.value;l.F=o.F;l.u=o.u}n=b-2;
for(i=f;i<n;++i){k=this.Ca[e[i].F];if((e[i].value&1)==0)k.za[d]=i;else k.Ia[d]=i}n=g-1;for(f=f;f<n;++f)e[f].u--;this.yc([0],[0],h,j,e,b-2,d)}for(b=0;b<this.Bb;++b)this.jb.ud(a,this.Mc[b]);this.jb.vc();this.Bb=0;vb(this);c.B=p;c.Yb=65535;c.za[0]=65535;c.za[1]=65535;c.Ia[0]=65535;c.Ia[1]=65535;c.vd(this.hd);this.hd=a;--this.Tb};
function wb(a,c,b,d){var e=d.C.x,f=d.C.y;e=e<a.ia.A.x?e:a.ia.A.x;f=f<a.ia.A.y?f:a.ia.A.y;e=B(e,a.ia.C.x);f=B(f,a.ia.C.y);var g=d.A.x;d=d.A.y;g=g<a.ia.A.x?g:a.ia.A.x;d=d<a.ia.A.y?d:a.ia.A.y;g=B(g,a.ia.C.x);d=B(d,a.ia.C.y);c[0]=a.oc.x*(e-a.ia.C.x)&65534;b[0]=a.oc.x*(g-a.ia.C.x)&65535|1;c[1]=a.oc.y*(f-a.ia.C.y)&65534;b[1]=a.oc.y*(d-a.ia.C.y)&65535|1}function xb(a,c,b){for(var d=0;d<2;++d){var e=a.ab[d];if(c.bd[d]>e[b.Ia[d]].value)return q;if(c.qd[d]<e[b.za[d]].value)return q}return m}
ub.prototype.yc=function(a,c,b,d,e,f,g){b=yb(e,f,b);d=yb(e,f,d);for(f=b;f<d;++f)(e[f].value&1)==0&&zb(this,e[f].F);if(b>0){f=b-1;for(var h=e[f].u;h;){if((e[f].value&1)==0)if(b<=this.Ca[e[f].F].Ia[g]){zb(this,e[f].F);--h}--f}}a[0]=b;c[0]=d};function zb(a,c){var b=a.Ca[c];if(b.timeStamp<a.Oc){b.timeStamp=a.Oc;b.Yb=1}else{b.Yb=2;a.Mc[a.Bb]=c;++a.Bb}}function vb(a){if(a.Oc==65535){for(var c=0;c<1024;++c)a.Ca[c].timeStamp=0;a.Oc=1}else++a.Oc}
function Ya(a,c,b){var d=0,e=0,f,g;f=0;var h;if(!(c==P||1024<=c))if(b.xc()!=q){var j=2*a.Tb,i=a.Ca[c],k=new jb;wb(a,k.bd,k.qd,b);var n=new jb;for(d=0;d<2;++d){n.bd[d]=a.ab[d][i.za[d]].value;n.qd[d]=a.ab[d][i.Ia[d]].value}for(d=0;d<2;++d){var l=a.ab[d],o=i.za[d],s=i.Ia[d],w=k.bd[d],u=k.qd[d],z=w-l[o].value,C=u-l[s].value;l[o].value=w;l[s].value=u;if(z<0)for(e=o;e>0&&w<l[e-1].value;){b=l[e];f=l[e-1];g=f.F;h=a.Ca[f.F];f.u++;if((f.value&1)==1==m){xb(a,k,h)&&a.jb.sd(c,g);h.Ia[d]++;b.u++}else{h.za[d]++;
b.u--}i.za[d]--;ib(b,f);--e}if(C>0)for(e=s;e<j-1&&l[e+1].value<=u;){b=l[e];g=l[e+1];f=g.F;h=a.Ca[f];g.u++;if((g.value&1)==0==m){xb(a,k,h)&&a.jb.sd(c,f);h.za[d]--;b.u++}else{h.Ia[d]--;b.u--}i.Ia[d]++;ib(b,g);e++}if(z>0)for(e=o;e<j-1&&l[e+1].value<=w;){b=l[e];g=l[e+1];f=g.F;h=a.Ca[f];g.u--;if((g.value&1)==1){xb(a,n,h)&&a.jb.ud(c,f);h.Ia[d]--;b.u--}else{h.za[d]--;b.u++}i.za[d]++;ib(b,g);e++}if(C<0)for(e=s;e>0&&u<l[e-1].value;){b=l[e];f=l[e-1];g=f.F;h=a.Ca[g];f.u--;if((f.value&1)==0==m){xb(a,n,h)&&a.jb.ud(c,
g);h.za[d]++;b.u--}else{h.Ia[d]++;b.u++}i.Ia[d]--;ib(b,f);e--}}}}ub.prototype.vc=function(){return this.jb.vc()};
function Wa(a,c,b){var d=0,e,f=a.hd;e=a.Ca[f];a.hd=e.bc();e.Yb=0;e.B=b;b=2*a.Tb;e=[];var g=[];wb(a,e,g,c);for(c=0;c<2;++c){var h=a.ab[c],j=0,i=0;j=[j];i=[i];a.yc(j,i,e[c],g[c],h,b,c);j=j[0];i=i[0];d=[];var k=0,n=b-i,l,o;for(k=0;k<n;k++){d[k]=new hb;l=d[k];o=h[i+k];l.value=o.value;l.F=o.F;l.u=o.u}n=d.length;var s=i+2;for(k=0;k<n;k++){o=d[k];l=h[s+k];l.value=o.value;l.F=o.F;l.u=o.u}d=[];n=i-j;for(k=0;k<n;k++){d[k]=new hb;l=d[k];o=h[j+k];l.value=o.value;l.F=o.F;l.u=o.u}n=d.length;s=j+1;for(k=0;k<n;k++){o=
d[k];l=h[s+k];l.value=o.value;l.F=o.F;l.u=o.u}++i;h[j].value=e[c];h[j].F=f;h[i].value=g[c];h[i].F=f;h[j].u=j==0?0:h[j-1].u;h[i].u=h[i-1].u;for(d=j;d<i;++d)h[d].u++;for(d=j;d<b+2;++d){j=a.Ca[h[d].F];if((h[d].value&1)==0)j.za[c]=d;else j.Ia[c]=d}}++a.Tb;for(b=0;b<a.Bb;++b)a.jb.sd(f,a.Mc[b]);a.jb.vc();a.Bb=0;vb(a);return f}function yb(a,c,b){var d=0;for(c=c-1;d<=c;){var e=Math.floor((d+c)/2);if(a[e].value>b)c=e-1;else if(a[e].value<b)d=e+1;else return e}return d};var Ab=new (aa());function R(){this.next=this.prev=this.Ea=this.pa=p};function Bb(){this.$d=this.le=this.zd=p};function Cb(a,c){this.o=new R;this.q=new R;this.v=0;if(!a||!c)this.O=this.N=p;else{this.N=a;this.O=c;this.La=0;this.ma=Math.sqrt(this.N.ma*this.O.ma);this.oa=B(this.N.oa,this.O.oa);this.p=this.G=p;this.o.Ea=p;this.o.prev=p;this.o.next=p;this.o.pa=p;this.q.Ea=p;this.q.prev=p;this.q.next=p;this.q.pa=p}}Cb.prototype={ac:ca(p),bc:ba("p"),wc:aa()};function Db(a){this.wf=a;this.Ue=this.We=this.Ve=this.uf=0};function Eb(){this.Ib=0;this.S=new Db(this)}Eb.prototype.g=function(a){Fb(this,a.Ib)};Eb.prototype.td=function(){var a=new Eb;Fb(a,this.Ib);return a};function Fb(a,c){a.Ib=c;a.S.We=a.Ib&255;a.S.vf=(a.Ib&65280)>>8&255;a.S.Ve=(a.Ib&16711680)>>16&255;a.S.Ue=(a.Ib&4278190080)>>24&255};function Gb(){this.tb=new y;this.id=new Eb};function Hb(a,c,b,d){var e=0,f=c[0].tb,g=c[1].tb,h=ma(b,c[0].tb)-d;b=ma(b,c[1].tb)-d;if(h<=0)a[e++]=c[0];if(b<=0)a[e++]=c[1];if(h*b<0){b=h/(h-b);d=a[e].tb;d.x=f.x+b*(g.x-f.x);d.y=f.y+b*(g.y-f.y);a[e].id=h>0?c[0].id:c[1].id;++e}return e}
function Ib(a,c,b){var d=a.t,e=b.Oa,f=b.t,g=a.cb[c].x,h=a.cb[c].y,j=g,i=a.d;g=i.a.x*j+i.b.x*h;h=i.a.y*j+i.b.y*h;var k=g,n=h;i=b.d;j=k*i.a.x+n*i.a.y;n=k*i.b.x+n*i.b.y;k=j;j=0;i=Number.MAX_VALUE;for(var l=0;l<e;++l){var o=f[l];o=o.x*k+o.y*n;if(o<i){i=o;j=l}}i=a.d;e=a.c.x+(i.a.x*d[c].x+i.b.x*d[c].y);a=a.c.y+(i.a.y*d[c].x+i.b.y*d[c].y);i=b.d;c=b.c.x+(i.a.x*f[j].x+i.b.x*f[j].y);b=b.c.y+(i.a.y*f[j].x+i.b.y*f[j].y);c-=e;b-=a;return c*g+b*h}
function Jb(a,c,b,d){var e=c.Oa,f=b.c.x-c.c.x,g=b.c.y-c.c.y,h=f*c.d.a.x+g*c.d.a.y;g=f*c.d.b.x+g*c.d.b.y;f=0;for(var j=-Number.MAX_VALUE,i=0;i<e;++i){var k=c.cb[i].x*h+c.cb[i].y*g;if(k>j){j=k;f=i}}h=Ib(c,f,b);if(h>0&&d==q)return h;i=f-1>=0?f-1:e-1;k=Ib(c,i,b);if(k>0&&d==q)return k;var n=f+1<e?f+1:0,l=Ib(c,n,b);if(l>0&&d==q)return l;j=g=0;if(k>h&&k>l){j=-1;g=i;i=k}else if(l>h){j=1;g=n;i=l}else{a[0]=f;return h}for(;;){f=j==-1?g-1>=0?g-1:e-1:g+1<e?g+1:0;h=Ib(c,f,b);if(h>0&&d==q)return h;if(h>i){g=f;i=
h}else break}a[0]=g;return i}var Kb=new y;function Lb(){this.position=new y;this.id=new Eb;this.qa=this.ja=this.fb=p};function Mb(){this.P=0;this.Y=Array(2);for(var a=0;a<2;a++)this.Y[a]=new Lb;this.D=new y};function Nb(a,c){this.o=new R;this.q=new R;this.v=0;if(!a||!c)this.O=this.N=p;else{this.N=a;this.O=c;this.La=0;this.ma=Math.sqrt(this.N.ma*this.O.ma);this.oa=B(this.N.oa,this.O.oa);this.p=this.G=p;this.o.Ea=p;this.o.prev=p;this.o.next=p;this.o.pa=p;this.q.Ea=p;this.q.prev=p;this.q.next=p;this.q.pa=p;this.xa=[new Mb];this.xa[0].P=0;this.xa[0].Y[0].ja=0;this.xa[0].Y[0].qa=0}}v(Nb,Cb);
Nb.prototype.wc=function(){var a=this.xa[0],c=this.N,b=this.O;a.P=0;var d=b.c.x-c.c.x,e=b.c.y-c.c.y,f=d*d+e*e;c=c.ha+b.ha;if(!(f>c*c)){if(f<Number.MIN_VALUE){f=-c;a.D.g(0,1)}else{var g=Math.sqrt(f);f=g-c;c=1/g;a.D.x=c*d;a.D.y=c*e}a.P=1;d=a.Y[0];Fb(d.id,0);d.fb=f;d.position.x=b.c.x-b.ha*a.D.x;d.position.y=b.c.y-b.ha*a.D.y}this.La=this.xa[0].P>0?1:0};Nb.prototype.ac=ba("xa");function Ob(a,c){return new Nb(a,c)};function Pb(a,c){this.o=new R;this.q=new R;this.v=0;if(!a||!c)this.O=this.N=p;else{this.N=a;this.O=c;this.La=0;this.ma=Math.sqrt(this.N.ma*this.O.ma);this.oa=B(this.N.oa,this.O.oa);this.p=this.G=p;this.o.Ea=p;this.o.prev=p;this.o.next=p;this.o.pa=p;this.q.Ea=p;this.q.prev=p;this.q.next=p;this.q.pa=p;this.xa=[new Mb];if(this.N.Ba!=Ka)throw"Assert Failed!";if(this.O.Ba!=Ja)throw"Assert Failed!";this.xa[0].P=0;this.xa[0].Y[0].ja=0;this.xa[0].Y[0].qa=0}}v(Pb,Cb);
Pb.prototype.wc=function(){a:{var a=this.xa[0],c=this.N,b=this.O;a.P=0;var d,e,f;e=b.c.x-c.c.x;f=b.c.y-c.c.y;var g=c.d,h=e*g.a.x+f*g.a.y;f=e*g.b.x+f*g.b.y;e=h;var j=0,i=-Number.MAX_VALUE;h=b.ha;for(d=0;d<c.Oa;++d){var k=c.cb[d].x*(e-c.t[d].x)+c.cb[d].y*(f-c.t[d].y);if(k>h)break a;if(k>i){i=k;j=d}}if(i<Number.MIN_VALUE){a.P=1;f=c.cb[j];a.D.x=g.a.x*f.x+g.b.x*f.y;a.D.y=g.a.y*f.x+g.b.y*f.y;d=a.Y[0];d.id.S.Ac=j;d.id.S.dc=255;d.id.S.od=255;d.id.S.Bd=0;d.position.x=b.c.x-h*a.D.x;d.position.y=b.c.y-h*a.D.y;
d.fb=i-h}else{j=j;i=j+1<c.Oa?j+1:0;var n=c.t[i].x-c.t[j].x;k=c.t[i].y-c.t[j].y;var l=Math.sqrt(n*n+k*k);n/=l;k/=l;if(l<Number.MIN_VALUE){e=e-c.t[j].x;f=f-c.t[j].y;c=Math.sqrt(e*e+f*f);e/=c;f/=c;if(!(c>h)){a.P=1;a.D.g(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f);d=a.Y[0];d.id.S.Ac=255;d.id.S.dc=j;d.id.S.od=255;d.id.S.Bd=0;d.position.x=b.c.x-h*a.D.x;d.position.y=b.c.y-h*a.D.y;d.fb=c-h}}else{var o=(e-c.t[j].x)*n+(f-c.t[j].y)*k;d=a.Y[0];d.id.S.Ac=255;d.id.S.dc=255;d.id.S.od=255;d.id.S.Bd=0;if(o<=0){n=c.t[j].x;c=
c.t[j].y;d.id.S.dc=j}else if(o>=l){n=c.t[i].x;c=c.t[i].y;d.id.S.dc=i}else{n=n*o+c.t[j].x;c=k*o+c.t[j].y;d.id.S.Ac=j}e=e-n;f=f-c;c=Math.sqrt(e*e+f*f);e/=c;f/=c;if(!(c>h)){a.P=1;a.D.g(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f);d.position.x=b.c.x-h*a.D.x;d.position.y=b.c.y-h*a.D.y;d.fb=c-h}}}}this.La=this.xa[0].P>0?1:0};Pb.prototype.ac=ba("xa");function Qb(a,c){return new Pb(a,c)};function Rb(a,c){this.o=new R;this.q=new R;this.v=0;if(!a||!c)this.O=this.N=p;else{this.N=a;this.O=c;this.La=0;this.ma=Math.sqrt(this.N.ma*this.O.ma);this.oa=B(this.N.oa,this.O.oa);this.p=this.G=p;this.o.Ea=p;this.o.prev=p;this.o.next=p;this.o.pa=p;this.q.Ea=p;this.q.prev=p;this.q.next=p;this.q.pa=p;this.cd=new Mb;this.xa=[new Mb];this.xa[0].P=0}}v(Rb,Cb);
Rb.prototype.wc=function(){for(var a=this.xa[0],c=this.cd.Y,b=0;b<a.P;b++){var d=c[b],e=a.Y[b];d.ja=e.ja;d.qa=e.qa;d.id=e.id.td()}this.cd.P=a.P;b=this.N;var f=this.O;a.P=0;var g;c=[0];d=Jb(c,b,f,q);g=c[0];if(!(d>0)){var h;c=[0];var j=Jb(c,f,b,q);h=c[0];if(!(j>0)){c=e=0;if(j>0.98*d+0.0010){d=f;j=b;e=h;c=1}else{d=b;j=f;e=g;c=0}b=[new Gb,new Gb];f=e;g=j;var i=d.t;j=g.Oa;h=g.t;var k=i[f+1==d.Oa?0:f+1],n=k.x,l=k.y;k=i[f];n-=k.x;l-=k.y;k=n;n=l;l=-k;k=1/Math.sqrt(n*n+l*l);n*=k;l*=k;l=l;k=n;i=d.d;n=i.a.x*
k+i.b.x*l;l=i.a.y*k+i.b.y*l;n=n;l=l;i=g.d;k=n*i.a.x+l*i.a.y;l=n*i.b.x+l*i.b.y;n=k;for(var o=i=0,s=Number.MAX_VALUE,w=0;w<j;++w){var u=w,z=w+1<j?w+1:0;k=h[z];var C=k.x,D=k.y;k=h[u];C-=k.x;D-=k.y;k=C;C=D;D=-k;k=1/Math.sqrt(C*C+D*D);C*=k;D*=k;k=C*n+D*l;if(k<s){s=k;i=u;o=z}}j=b[0];k=j.tb;K(k,h[i]);Ba(k,g.d);k.add(g.c);j.id.S.od=f;j.id.S.Ac=i;j.id.S.dc=i;j=b[1];k=j.tb;K(k,h[o]);Ba(k,g.d);k.add(g.c);j.id.S.od=f;j.id.S.Ac=i;j.id.S.dc=o;f=d.t;k=f[e];n=e+1<d.Oa?f[e+1]:f[0];g=n.x-k.x;h=n.y-k.y;l=g;i=d.d;g=
i.a.x*l+i.b.x*h;h=i.a.y*l+i.b.y*h;e=1/Math.sqrt(g*g+h*h);g*=e;h*=e;l=g;e=h;f=-l;j=k.x;o=k.y;l=j;i=d.d;j=i.a.x*l+i.b.x*o;o=i.a.y*l+i.b.y*o;j+=d.c.x;o+=d.c.y;k=n.x;n=n.y;l=k;i=d.d;k=i.a.x*l+i.b.x*n;n=i.a.y*l+i.b.y*n;k+=d.c.x;n+=d.c.y;d=e*j+f*o;l=-(g*j+h*o);k=g*k+h*n;n=[new Gb,new Gb];j=[new Gb,new Gb];i=0;Kb.g(-g,-h);i=Hb(n,b,Kb,l);if(!(i<2)){Kb.g(g,h);i=Hb(j,n,Kb,k);if(!(i<2)){c?a.D.g(-e,-f):a.D.g(e,f);for(g=b=0;g<2;++g){h=j[g].tb;h=e*h.x+f*h.y-d;if(h<=0){k=a.Y[b];k.fb=h;K(k.position,j[g].tb);k.id.g(j[g].id);
k.id.S.Bd=c;++b}}a.P=b}}}}if(a.P>0){c=[q,q];for(b=0;b<a.P;++b){d=a.Y[b];d.ja=0;d.qa=0;e=d.id.key;for(f=0;f<this.cd.P;++f)if(c[f]!=m){g=this.cd.Y[f];if(g.id.key==e){c[f]=m;d.ja=g.ja;d.qa=g.qa;break}}}this.La=1}else this.La=0};Rb.prototype.ac=ba("xa");function Sb(a,c){return new Rb(a,c)};function Tb(a,c,b,d){S[b][d].zd=a;S[b][d].le=c;S[b][d].$d=m;if(b!=d){S[d][b].zd=a;S[d][b].le=c;S[d][b].$d=q}}var S=p,Ub=q;function Vb(a,c){this.o=new R;this.q=new R;this.v=0;if(!a||!c)this.O=this.N=p;else{this.N=a;this.O=c;this.La=0;this.ma=Math.sqrt(this.N.ma*this.O.ma);this.oa=B(this.N.oa,this.O.oa);this.p=this.G=p;this.o.Ea=p;this.o.prev=p;this.o.next=p;this.o.pa=p;this.q.Ea=p;this.q.prev=p;this.q.next=p;this.q.pa=p}}v(Vb,Cb);Vb.prototype.wc=aa();Vb.prototype.ac=ca(p);function Wb(){}Wb.prototype.ee=ca(p);Wb.prototype.fe=aa();function Xb(a){this.lc=new Vb;this.Q=a;this.Md=q}v(Xb,Wb);
Xb.prototype.ee=function(a,c){var b=a,d=c,e=b.z,f=d.z;if((e.v&db)==db&&(f.v&db)==db)return this.lc;if(b.z==d.z)return this.lc;a:{for(var g=f.W;g!=p;g=g.next)if(g.pa==e){e=g.Nb.va==q;break a}e=q}if(e)return this.lc;e=b.jc==d.jc&&b.jc!=0?b.jc>0:(b.Xa&d.Ta)!=0&&(b.Ta&d.Xa)!=0;if(e==q)return this.lc;if(f.i==0){f=b;b=d;d=f}b=b;d=d;if(Ub==q){S=Array(4);for(f=0;f<4;f++){S[f]=Array(4);for(e=0;e<4;e++)S[f][e]=new Bb}Tb(Ob,Nb.Tc,Ja,Ja);Tb(Qb,Pb.Tc,Ka,Ja);Tb(Sb,Rb.Tc,Ka,Ka);Ub=m}f=b.Ba;e=d.Ba;if(g=S[f][e].zd)if(S[f][e].$d)d=
g(b,d);else{d=g(d,b);for(b=0;b<d.La;++b){f=d.ac()[b];f.D=new y(-f.D.x,-f.D.y)}d=d}else d=p;if(d==p)return this.lc;else{d.G=p;d.p=this.Q.$;if(this.Q.$!=p)this.Q.$.G=d;this.Q.$=d;this.Q.Ob++}return d};Xb.prototype.fe=function(a,c,b){if(b!=p)if(b!=this.lc)if(this.Md==m)Yb(this,b);else b.v|=2};
function Yb(a,c){if(c.G)c.G.p=c.p;if(c.p)c.p.G=c.G;if(c==a.Q.$)a.Q.$=c.p;if(c.La>0){var b=c.N.z,d=c.O.z,e=c.o,f=c.q;fb(b);fb(d);if(e.prev)e.prev.next=e.next;if(e.next)e.next.prev=e.prev;if(e==b.$)b.$=e.next;e.prev=p;e.next=p;if(f.prev)f.prev.next=f.next;if(f.next)f.next.prev=f.prev;if(f==d.$)d.$=f.next;f.prev=p;f.next=p}--a.Q.Ob};function Zb(){this.Zc=new y;this.$c=new y;this.rd=this.fb=this.Ie=this.Yd=this.Qc=this.qa=this.ja=p};function $b(){this.Sa=this.$a=this.Z=this.V=this.Be=p;this.P=0;this.D=new y;this.Y=Array(2);for(var a=0;a<2;a++)this.Y[a]=new Zb};function ac(a,c){this.fc=[];var b=0,d,e;for(b=this.ec=0;b<c;++b)this.ec+=a[b].La;for(b=0;b<this.ec;b++)this.fc[b]=new $b;var f=0;for(b=0;b<c;++b){var g=a[b],h=g.N.z,j=g.O.z,i=g.La,k=g.ac(),n=g.ma;g=g.oa;for(var l=h.f.x,o=h.f.y,s=j.f.x,w=j.f.y,u=h.l,z=j.l,C=0;C<i;++C){var D=k[C],E=D.D.x,N=D.D.y,H=this.fc[f];H.V=h;H.Z=j;H.Be=D;H.D.x=E;H.D.y=N;H.P=D.P;H.$a=n;H.Sa=g;for(var U=0;U<H.P;++U){var F=D.Y[U],J=H.Y[U];J.ja=F.ja;J.qa=F.qa;J.fb=F.fb;var V=F.position.x-h.c.x,pa=F.position.y-h.c.y,qa=F.position.x-
j.c.x;F=F.position.y-j.c.y;d=J.Zc;e=h.d;d.x=V*e.a.x+pa*e.a.y;d.y=V*e.b.x+pa*e.b.y;d=J.$c;e=j.d;d.x=qa*e.a.x+F*e.a.y;d.y=qa*e.b.x+F*e.b.y;d=V*V+pa*pa;e=qa*qa+F*F;var Qa=V*E+pa*N,ja=qa*E+F*N,ka=h.i+j.i;ka+=h.m*(d-Qa*Qa)+j.m*(e-ja*ja);J.Yd=1/ka;ja=N;ka=-E;Qa=V*ja+pa*ka;ja=qa*ja+F*ka;ka=h.i+j.i;ka+=h.m*(d-Qa*Qa)+j.m*(e-ja*ja);J.Ie=1/ka;J.rd=0;if(J.fb>0)J.rd=-60*J.fb;V=H.D.x*(s+-z*F-l- -u*pa)+H.D.y*(w+z*qa-o-u*V);if(V<-30)J.rd+=-H.Sa*V}++f}}}
ac.prototype={Qe:function(){for(var a,c,b=0;b<this.ec;++b){var d=this.fc[b],e=d.V,f=d.Z,g=e.i,h=e.m,j=f.i,i=f.m,k=d.D.x,n=d.D.y,l=n,o=-k,s=0,w=0;if(bc){w=d.P;for(s=0;s<w;++s){var u=d.Y[s],z=u.ja*k+u.qa*l,C=u.ja*n+u.qa*o;c=e.d;a=u.Zc;var D=c.a.x*a.x+c.b.x*a.y,E=c.a.y*a.x+c.b.y*a.y;c=f.d;a=u.$c;var N=c.a.x*a.x+c.b.x*a.y;a=c.a.y*a.x+c.b.y*a.y;e.l-=h*(D*C-E*z);e.f.x-=g*z;e.f.y-=g*C;f.l+=i*(N*C-a*z);f.f.x+=j*z;f.f.y+=j*C;u.Qc=0}}else{w=d.P;for(s=0;s<w;++s){e=d.Y[s];e.ja=0;e.qa=0;e.Qc=0}}}},ub:function(){for(var a=
0,c,b,d,e,f,g,h,j,i=0;i<this.ec;++i){var k=this.fc[i],n=k.V,l=k.Z,o=n.l,s=n.f,w=l.l,u=l.f,z=n.i,C=n.m,D=l.i,E=l.m,N=k.D.x,H=k.D.y,U=H,F=-N,J=k.P;for(a=0;a<J;++a){c=k.Y[a];f=n.d;g=c.Zc;b=f.a.x*g.x+f.b.x*g.y;d=f.a.y*g.x+f.b.y*g.y;f=l.d;g=c.$c;e=f.a.x*g.x+f.b.x*g.y;f=f.a.y*g.x+f.b.y*g.y;g=u.x+-w*f-s.x- -o*d;h=u.y+w*e-s.y-o*b;g=-c.Yd*(g*N+h*H-c.rd);h=B(c.ja+g,0);g=h-c.ja;j=g*N;g=g*H;s.x-=z*j;s.y-=z*g;o-=C*(b*g-d*j);u.x+=D*j;u.y+=D*g;w+=E*(e*g-f*j);c.ja=h;g=u.x+-w*f-s.x- -o*d;h=u.y+w*e-s.y-o*b;g=c.Ie*
-(g*U+h*F);h=k.$a*c.ja;h=G(c.qa+g,-h,h);g=h-c.qa;j=g*U;g=g*F;s.x-=z*j;s.y-=z*g;o-=C*(b*g-d*j);u.x+=D*j;u.y+=D*g;w+=E*(e*g-f*j);c.qa=h}n.l=o;l.l=w}},kb:function(a){for(var c=0,b,d,e=0;e<this.ec;++e){for(var f=this.fc[e],g=f.V,h=f.Z,j=g.c,i=g.n,k=h.c,n=h.n,l=g.i,o=g.m,s=h.i,w=h.m,u=f.D.x,z=f.D.y,C=f.P,D=0;D<C;++D){var E=f.Y[D];b=g.d;d=E.Zc;var N=b.a.x*d.x+b.b.x*d.y,H=b.a.y*d.x+b.b.y*d.y;b=h.d;d=E.$c;var U=b.a.x*d.x+b.b.x*d.y;b=b.a.y*d.x+b.b.y*d.y;d=(k.x+U-(j.x+N))*u+(k.y+b-(j.y+H))*z+E.fb;c=c<d?c:d;
d=-E.Yd*a*G(d+0.15,-6,0);var F=E.Qc;E.Qc=B(F+d,0);d=E.Qc-F;E=d*u;d=d*z;j.x-=l*E;j.y-=l*d;i-=o*(N*d-H*E);g.d.g(i);k.x+=s*E;k.y+=s*d;n+=w*(U*d-b*E);h.d.g(n)}g.n=i;h.n=n}return c>=-0.15},Pe:function(){for(var a=0;a<this.ec;++a)for(var c=this.fc[a],b=c.Be,d=0;d<c.P;++d){var e=b.Y[d],f=c.Y[d];e.ja=f.ja;e.qa=f.qa}}};function cc(a,c,b){var d=0;this.Af=a;this.Bf=c;this.Cf=b;this.hb=this.Ob=this.Ka=0;this.mb=Array(a);for(d=0;d<a;d++)this.mb[d]=p;this.Kd=Array(c);for(d=0;d<c;d++)this.Kd[d]=p;this.Hc=Array(b);for(d=0;d<b;d++)this.Hc[d]=p}
cc.prototype.wd=function(a,c){var b=0,d;for(b=0;b<this.Ka;++b){d=this.mb[b];if(d.i!=0){d.f.add(new y(a.Pa*na(c,new y(d.i*d.Fc.x,d.i*d.Fc.y)).x,a.Pa*na(c,new y(d.i*d.Fc.x,d.i*d.Fc.y)).y));d.l+=a.Pa*d.m*d.Ae;d.f.scale(d.nf);d.l*=d.ff;K(d.Vd,d.c);d.ze=d.n}}var e=new ac(this.Kd,this.Ob);e.Qe();for(b=0;b<this.hb;++b)this.Hc[b].Hb();for(b=0;b<a.Gd;++b){e.ub();for(d=0;d<this.hb;++d)this.Hc[d].ub(a)}for(b=0;b<this.Ka;++b){d=this.mb[b];if(d.i!=0){d.c.x+=a.Pa*d.f.x;d.c.y+=a.Pa*d.f.y;d.n+=a.Pa*d.l;d.d.g(d.n)}}for(b=
0;b<this.hb;++b);if(dc)for(ec=0;ec<a.Gd;++ec){d=e.kb(0.2);var f=m;for(b=0;b<this.hb;++b){var g=this.Hc[b].kb();f=f&&g}if(d&&f)break}e.Pe();for(b=0;b<this.Ka;++b){d=this.mb[b];if(d.i!=0){d.d.g(d.n);e=d;e.He.g(e.ze);for(f=e.Cb;f!=p;f=f.p)f.xd(e.Vd,e.He,e.c,e.d);d.Fc.g(0,0);d.Ae=0}}};var ec=0;function T(){this.next=this.prev=this.Nb=this.pa=p};function fc(a){this.o=new T;this.q=new T;this.Ba=a.type;this.p=this.G=p;this.h=a.V;this.e=a.Z;this.va=a.va;this.rb=q;this.db=a.B}r=fc.prototype;r.Eb=ca(p);r.Fb=ca(p);r.bc=ba("p");r.Hb=aa();r.kb=ca(q);function gc(a){this.type=0;this.Z=this.V=this.B=p;this.va=a};function hc(a){this.o=new T;this.q=new T;this.Ba=a.type;this.p=this.G=p;this.h=a.V;this.e=a.Z;this.va=a.va;this.rb=q;this.db=a.B;this.j=new y;this.k=new y;this.ga=new y;var c,b,d;c=this.h.d;b=a.Jb.x-this.h.c.x;d=a.Jb.y-this.h.c.y;this.j.x=b*c.a.x+d*c.a.y;this.j.y=b*c.b.x+d*c.b.y;c=this.e.d;b=a.Kb.x-this.e.c.x;d=a.Kb.y-this.e.c.y;this.k.x=b*c.a.x+d*c.a.y;this.k.y=b*c.b.x+d*c.b.y;b=a.Kb.x-a.Jb.x;d=a.Kb.y-a.Jb.y;this.mf=Math.sqrt(b*b+d*d);this.U=0}v(hc,fc);r=hc.prototype;
r.Hb=function(){var a;a=this.h.d;var c=a.a.x*this.j.x+a.b.x*this.j.y,b=a.a.y*this.j.x+a.b.y*this.j.y;a=this.e.d;var d=a.a.x*this.k.x+a.b.x*this.k.y;a=a.a.y*this.k.x+a.b.y*this.k.y;this.ga.x=this.e.c.x+d-this.h.c.x-c;this.ga.y=this.e.c.y+a-this.h.c.y-b;var e=Math.sqrt(this.ga.x*this.ga.x+this.ga.y*this.ga.y);e>0.15?this.ga.scale(1/e):this.ga.la();e=c*this.ga.y-b*this.ga.x;var f=d*this.ga.y-a*this.ga.x;this.Ma=this.h.i+this.h.m*e*e+this.e.i+this.e.m*f*f;this.Ma=1/this.Ma;if(bc){e=this.U*this.ga.x;f=
this.U*this.ga.y;this.h.f.x-=this.h.i*e;this.h.f.y-=this.h.i*f;this.h.l-=this.h.m*(c*f-b*e);this.e.f.x+=this.e.i*e;this.e.f.y+=this.e.i*f;this.e.l+=this.e.m*(d*f-a*e)}else this.U=0};
r.ub=function(){var a;a=this.h.d;var c=a.a.x*this.j.x+a.b.x*this.j.y,b=a.a.y*this.j.x+a.b.y*this.j.y;a=this.e.d;var d=a.a.x*this.k.x+a.b.x*this.k.y;a=a.a.y*this.k.x+a.b.y*this.k.y;var e=-this.Ma*(this.ga.x*(this.e.f.x+-this.e.l*a-(this.h.f.x+-this.h.l*b))+this.ga.y*(this.e.f.y+this.e.l*d-(this.h.f.y+this.h.l*c)));this.U+=e;var f=e*this.ga.x;e=e*this.ga.y;this.h.f.x-=this.h.i*f;this.h.f.y-=this.h.i*e;this.h.l-=this.h.m*(c*e-b*f);this.e.f.x+=this.e.i*f;this.e.f.y+=this.e.i*e;this.e.l+=this.e.m*(d*e-
a*f)};
r.kb=function(){var a;a=this.h.d;var c=a.a.x*this.j.x+a.b.x*this.j.y,b=a.a.y*this.j.x+a.b.y*this.j.y;a=this.e.d;var d=a.a.x*this.k.x+a.b.x*this.k.y;a=a.a.y*this.k.x+a.b.y*this.k.y;var e=this.e.c.x+d-this.h.c.x-c,f=this.e.c.y+a-this.h.c.y-b,g=Math.sqrt(e*e+f*f);e/=g;f/=g;g=g-this.mf;g=G(g,-6,6);var h=-this.Ma*g;this.ga.g(e,f);e=h*this.ga.x;f=h*this.ga.y;this.h.c.x-=this.h.i*e;this.h.c.y-=this.h.i*f;this.h.n-=this.h.m*(c*f-b*e);this.e.c.x+=this.e.i*e;this.e.c.y+=this.e.i*f;this.e.n+=this.e.m*(d*f-a*
e);this.h.d.g(this.h.n);this.e.d.g(this.e.n);return A(g)<0.15};r.Eb=function(){return na(this.h.c,x(this.h.d,this.j))};r.Fb=function(){return na(this.e.c,x(this.e.d,this.k))};function ic(a){this.o=new T;this.q=new T;this.Ba=a.type;this.p=this.G=p;this.h=a.V;this.e=a.Z;this.va=a.va;this.rb=q;this.db=a.B;this.pb=new y;this.qb=new y;this.j=new y;this.k=new y;this.T=new jc;this.nc=this.Vb=this.mc=this.Ub=p;var c,b;this.jf=a.Xc.h;this.h=a.Xc.e;if(a.Xc.Ba==1){this.Ub=a.Xc;K(this.pb,this.Ub.j);K(this.j,this.Ub.k);c=kc(this.Ub)}else{this.mc=a.Xc;K(this.pb,this.mc.j);K(this.j,this.mc.k);c=lc(this.mc)}this.kf=a.Yc.h;this.e=a.Yc.e;if(a.Yc.Ba==1){this.Vb=a.Yc;K(this.qb,this.Vb.j);
K(this.k,this.Vb.k);b=kc(this.Vb)}else{this.nc=a.Yc;K(this.qb,this.nc.j);K(this.k,this.nc.k);b=lc(this.nc)}this.X=a.qf;this.Dc=c+this.X*b;this.U=0}v(ic,fc);r=ic.prototype;r.Eb=function(){var a=this.h.d;return new y(this.h.c.x+(a.a.x*this.j.x+a.b.x*this.j.y),this.h.c.y+(a.a.y*this.j.x+a.b.y*this.j.y))};r.Fb=function(){var a=this.e.d;return new y(this.e.c.x+(a.a.x*this.k.x+a.b.x*this.k.y),this.e.c.y+(a.a.y*this.k.x+a.b.y*this.k.y))};
r.Hb=function(){var a=this.jf,c=this.kf,b=this.h,d=this.e,e,f,g,h=0;this.T.la();if(this.Ub){this.T.ca=-1;h+=b.m}else{g=a.d;e=this.mc.wa;a=g.a.x*e.x+g.b.x*e.y;e=g.a.y*e.x+g.b.y*e.y;g=b.d;f=g.a.x*this.j.x+g.b.x*this.j.y;g=g.a.y*this.j.x+g.b.y*this.j.y;f=f*e-g*a;this.T.I.g(-a,-e);this.T.ca=-f;h+=b.i+b.m*f*f}if(this.Vb){this.T.da=-this.X;h+=this.X*this.X*d.m}else{g=c.d;e=this.nc.wa;a=g.a.x*e.x+g.b.x*e.y;e=g.a.y*e.x+g.b.y*e.y;g=d.d;f=g.a.x*this.k.x+g.b.x*this.k.y;g=g.a.y*this.k.x+g.b.y*this.k.y;f=f*e-
g*a;this.T.J.g(-this.X*a,-this.X*e);this.T.da=-this.X*f;h+=this.X*this.X*(d.i+d.m*f*f)}this.Ma=1/h;b.f.x+=b.i*this.U*this.T.I.x;b.f.y+=b.i*this.U*this.T.I.y;b.l+=b.m*this.U*this.T.ca;d.f.x+=d.i*this.U*this.T.J.x;d.f.y+=d.i*this.U*this.T.J.y;d.l+=d.m*this.U*this.T.da};r.ub=function(){var a=this.h,c=this.e,b=-this.Ma*this.T.Sc(a.f,a.l,c.f,c.l);this.U+=b;a.f.x+=a.i*b*this.T.I.x;a.f.y+=a.i*b*this.T.I.y;a.l+=a.m*b*this.T.ca;c.f.x+=c.i*b*this.T.J.x;c.f.y+=c.i*b*this.T.J.y;c.l+=c.m*b*this.T.da};
r.kb=function(){var a=this.h,c=this.e,b=-this.Ma*(this.Dc-((this.Ub?kc(this.Ub):lc(this.mc))+this.X*(this.Vb?kc(this.Vb):lc(this.nc))));a.c.x+=a.i*b*this.T.I.x;a.c.y+=a.i*b*this.T.I.y;a.n+=a.m*b*this.T.ca;c.c.x+=c.i*b*this.T.J.x;c.c.y+=c.i*b*this.T.J.y;c.n+=c.m*b*this.T.da;a.d.g(a.n);c.d.g(c.n);return m};function mc(a){this.o=new T;this.q=new T;this.Ba=a.type;this.p=this.G=p;this.h=a.V;this.e=a.Z;this.va=a.va;this.rb=q;this.db=a.B;this.Ja=new O;this.ra=new O;this.sa=new O;this.bb=new y;this.qc=new y;this.U=new y;this.Ab=new O;this.dd=new y;K(this.qc,a.target);var c=this.qc.x-this.e.c.x,b=this.qc.y-this.e.c.y;this.bb.x=c*this.e.d.a.x+b*this.e.d.a.y;this.bb.y=c*this.e.d.b.x+b*this.e.d.b.y;this.te=a.Df;this.U.la();b=this.e.Ma;var d=2*Ca*a.zf;c=2*b*a.yf*d;b=b*d*d;this.jd=1/(c+a.Je*b);this.qe=a.Je*b/(c+
a.Je*b)}v(mc,fc);r=mc.prototype;r.Eb=ba("qc");r.Fb=function(){var a=x(this.e.d,this.bb);a.add(this.e.c);return a};
r.Hb=function(){var a=this.e,c;c=a.d;var b=c.a.x*this.bb.x+c.b.x*this.bb.y;c=c.a.y*this.bb.x+c.b.y*this.bb.y;var d=a.i,e=a.m;this.ra.a.x=d;this.ra.b.x=0;this.ra.a.y=0;this.ra.b.y=d;this.sa.a.x=e*c*c;this.sa.b.x=-e*b*c;this.sa.a.y=-e*b*c;this.sa.b.y=e*b*b;Na(this.Ja,this.ra);Oa(this.Ja,this.sa);this.Ja.a.x+=this.jd;this.Ja.b.y+=this.jd;Pa(this.Ja,this.Ab);this.dd.x=a.c.x+b-this.qc.x;this.dd.y=a.c.y+c-this.qc.y;a.l*=0.98;var f=this.U.x,g=this.U.y;a.f.x+=d*f;a.f.y+=d*g;a.l+=e*(b*g-c*f)};
r.ub=function(a){var c=this.e,b;b=c.d;var d=b.a.x*this.bb.x+b.b.x*this.bb.y,e=b.a.y*this.bb.x+b.b.y*this.bb.y,f=c.f.x+-c.l*e,g=c.f.y+c.l*d;b=this.Ab;f=f+this.qe*a.Fd*this.dd.x+this.jd*this.U.x;var h=g+this.qe*a.Fd*this.dd.y+this.jd*this.U.y;g=-(b.a.x*f+b.b.x*h);h=-(b.a.y*f+b.b.y*h);b=this.U.x;f=this.U.y;this.U.x+=g;this.U.y+=h;g=I(this.U);g>a.Pa*this.te&&this.U.scale(a.Pa*this.te/g);g=this.U.x-b;h=this.U.y-f;c.f.x+=c.i*g;c.f.y+=c.i*h;c.l+=c.m*(d*h-e*g)};r.kb=ca(m);function jc(){this.I=new y;this.J=new y}jc.prototype={ca:p,da:p,la:function(){this.I.la();this.ca=0;this.J.la();this.da=0},g:function(a,c,b,d){K(this.I,a);this.ca=c;K(this.J,b);this.da=d},Sc:function(a,c,b,d){return this.I.x*a.x+this.I.y*a.y+this.ca*c+(this.J.x*b.x+this.J.y*b.y)+this.da*d}};function nc(){gc.call(this,q);this.type=0;this.Z=this.V=this.B=p;this.type=2;this.ta=new y(0,0);this.axis=new y(0,0);this.Pc=this.De=this.sf=this.df=0;this.cc=this.Ad=q}v(nc,gc);function oc(a){this.o=new T;this.q=new T;this.Ba=a.type;this.p=this.G=p;this.h=a.V;this.e=a.Z;this.va=a.va;this.rb=q;this.db=a.B;this.j=new y;this.k=new y;this.wa=new y;this.ib=new y;this.H=new jc;this.w=new jc;var c,b,d;c=this.h.d;b=a.ta.x-this.h.c.x;d=a.ta.y-this.h.c.y;this.j.g(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);c=this.e.d;b=a.ta.x-this.e.c.x;d=a.ta.y-this.e.c.y;this.k.g(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);c=this.h.d;b=a.axis.x;d=a.axis.y;this.wa.g(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);this.ib.x=-this.wa.y;
this.ib.y=this.wa.x;this.lf=this.e.n-this.h.n;this.H.la();this.ed=this.Hd=this.yb=this.Kc=0;this.w.la();this.ea=this.r=this.fa=this.Na=0;this.Sd=a.df;this.Xd=a.sf;this.we=a.De;this.Td=a.Pc;this.ob=a.Ad;this.hc=a.cc}v(oc,fc);r=oc.prototype;r.Eb=function(){var a=this.h,c=new y;K(c,this.j);Ba(c,a.d);c.add(a.c);return c};r.Fb=function(){var a=this.e,c=new y;K(c,this.k);Ba(c,a.d);c.add(a.c);return c};
function lc(a){var c=a.h,b=a.e,d;d=c.d;var e=d.a.x*a.j.x+d.b.x*a.j.y,f=d.a.y*a.j.x+d.b.y*a.j.y;d=b.d;e=b.c.x+(d.a.x*a.k.x+d.b.x*a.k.y)-(c.c.x+e);b=b.c.y+(d.a.y*a.k.x+d.b.y*a.k.y)-(c.c.y+f);d=c.d;return(d.a.x*a.wa.x+d.b.x*a.wa.y)*e+(d.a.y*a.wa.x+d.b.y*a.wa.y)*b}
r.Hb=function(){var a=this.h,c=this.e,b;b=a.d;var d=b.a.x*this.j.x+b.b.x*this.j.y,e=b.a.y*this.j.x+b.b.y*this.j.y;b=c.d;var f=b.a.x*this.k.x+b.b.x*this.k.y,g=b.a.y*this.k.x+b.b.y*this.k.y,h=a.i,j=c.i,i=a.m,k=c.m;b=a.d;var n=b.a.x*this.ib.x+b.b.x*this.ib.y;b=b.a.y*this.ib.x+b.b.y*this.ib.y;var l=c.c.x+f-a.c.x,o=c.c.y+g-a.c.y;this.H.I.x=-n;this.H.I.y=-b;this.H.J.x=n;this.H.J.y=b;this.H.ca=-(l*b-o*n);this.H.da=f*b-g*n;this.Kc=h+i*this.H.ca*this.H.ca+j+k*this.H.da*this.H.da;this.Kc=1/this.Kc;this.Hd=
1/(i+k);if(this.ob||this.hc){b=a.d;n=b.a.x*this.wa.x+b.b.x*this.wa.y;b=b.a.y*this.wa.x+b.b.y*this.wa.y;this.w.I.x=-n;this.w.I.y=-b;this.w.J.x=n;this.w.J.y=b;this.w.ca=-(l*b-o*n);this.w.da=f*b-g*n;this.Na=h+i*this.w.ca*this.w.ca+j+k*this.w.da*this.w.da;this.Na=1/this.Na;if(this.ob){d=n*(l-d)+b*(o-e);if(A(this.Xd-this.Sd)<0.3)this.K=3;else if(d<=this.Sd){if(this.K!=1)this.r=0;this.K=1}else if(d>=this.Xd){if(this.K!=2)this.r=0;this.K=2}else this.r=this.K=0}}if(this.hc==q)this.fa=0;if(this.ob==q)this.r=
0;if(bc){d=this.yb*this.H.I.y+(this.fa+this.r)*this.w.I.y;e=this.yb*this.H.J.x+(this.fa+this.r)*this.w.J.x;f=this.yb*this.H.J.y+(this.fa+this.r)*this.w.J.y;g=this.yb*this.H.ca-this.ed+(this.fa+this.r)*this.w.ca;l=this.yb*this.H.da+this.ed+(this.fa+this.r)*this.w.da;a.f.x+=h*(this.yb*this.H.I.x+(this.fa+this.r)*this.w.I.x);a.f.y+=h*d;a.l+=i*g;c.f.x+=j*e;c.f.y+=j*f;c.l+=k*l}else this.fa=this.r=this.ed=this.yb=0;this.ea=0};
r.ub=function(a){var c=this.h,b=this.e,d=c.i,e=b.i,f=c.m,g=b.m,h=-this.Kc*this.H.Sc(c.f,c.l,b.f,b.l);this.yb+=h;c.f.x+=d*h*this.H.I.x;c.f.y+=d*h*this.H.I.y;c.l+=f*h*this.H.ca;b.f.x+=e*h*this.H.J.x;b.f.y+=e*h*this.H.J.y;b.l+=g*h*this.H.da;h=-this.Hd*(b.l-c.l);this.ed+=h;c.l-=f*h;b.l+=g*h;if(this.hc&&this.K!=3){h=-this.Na*(this.w.Sc(c.f,c.l,b.f,b.l)-this.Td);var j=this.fa;this.fa=G(this.fa+h,-a.Pa*this.we,a.Pa*this.we);h=this.fa-j;c.f.x+=d*h*this.w.I.x;c.f.y+=d*h*this.w.I.y;c.l+=f*h*this.w.ca;b.f.x+=
e*h*this.w.J.x;b.f.y+=e*h*this.w.J.y;b.l+=g*h*this.w.da}if(this.ob&&this.K!=0){h=-this.Na*this.w.Sc(c.f,c.l,b.f,b.l);if(this.K==3)this.r+=h;else if(this.K==1){a=this.r;this.r=B(this.r+h,0);h=this.r-a}else if(this.K==2){a=this.r;this.r=this.r+h<0?this.r+h:0;h=this.r-a}c.f.x+=d*h*this.w.I.x;c.f.y+=d*h*this.w.I.y;c.l+=f*h*this.w.ca;b.f.x+=e*h*this.w.J.x;b.f.y+=e*h*this.w.J.y;b.l+=g*h*this.w.da}};
r.kb=function(){var a,c,b=this.h,d=this.e,e=b.i,f=d.i,g=b.m,h=d.m;a=b.d;var j=a.a.x*this.j.x+a.b.x*this.j.y,i=a.a.y*this.j.x+a.b.y*this.j.y;a=d.d;var k=a.a.x*this.k.x+a.b.x*this.k.y;a=a.a.y*this.k.x+a.b.y*this.k.y;j=b.c.x+j;i=b.c.y+i;k=d.c.x+k;var n=d.c.y+a;a=b.d;var l=(a.a.x*this.ib.x+a.b.x*this.ib.y)*(k-j)+(a.a.y*this.ib.x+a.b.y*this.ib.y)*(n-i);l=G(l,-6,6);c=-this.Kc*l;b.c.x+=e*c*this.H.I.x;b.c.y+=e*c*this.H.I.y;b.n+=g*c*this.H.ca;d.c.x+=f*c*this.H.J.x;d.c.y+=f*c*this.H.J.y;d.n+=h*c*this.H.da;
l=A(l);c=d.n-b.n-this.lf;c=G(c,-Ea,Ea);var o=-this.Hd*c;b.n-=b.m*o;b.d.g(b.n);d.n+=d.m*o;d.d.g(d.n);o=A(c);if(this.ob&&this.K!=0){a=b.d;j=a.a.x*this.j.x+a.b.x*this.j.y;i=a.a.y*this.j.x+a.b.y*this.j.y;a=d.d;k=a.a.x*this.k.x+a.b.x*this.k.y;a=a.a.y*this.k.x+a.b.y*this.k.y;j=b.c.x+j;i=b.c.y+i;k=d.c.x+k;n=d.c.y+a;a=b.d;j=(a.a.x*this.wa.x+a.b.x*this.wa.y)*(k-j)+(a.a.y*this.wa.x+a.b.y*this.wa.y)*(n-i);a=0;if(this.K==3){a=G(j,-6,6);a=-this.Na*a;l=B(l,A(c))}else if(this.K==1){a=j-this.Sd;l=B(l,-a);a=G(a+0.15,
-6,0);a=-this.Na*a;c=this.ea;this.ea=B(this.ea+a,0);a=this.ea-c}else if(this.K==2){a=j-this.Xd;l=B(l,a);a=G(a-0.15,0,6);a=-this.Na*a;c=this.ea;this.ea=this.ea+a<0?this.ea+a:0;a=this.ea-c}b.c.x+=e*a*this.w.I.x;b.c.y+=e*a*this.w.I.y;b.n+=g*a*this.w.ca;b.d.g(b.n);d.c.x+=f*a*this.w.J.x;d.c.y+=f*a*this.w.J.y;d.n+=h*a*this.w.da;d.d.g(d.n)}return l<=0.15&&o<=Da};function pc(a){this.o=new T;this.q=new T;this.Ba=a.type;this.p=this.G=p;this.h=a.V;this.e=a.Z;this.va=a.va;this.rb=q;this.db=a.B;this.pb=new y;this.qb=new y;this.j=new y;this.k=new y;this.L=new y;this.M=new y;var c,b,d;this.Ua=this.h.Q.ic;this.pb.x=a.Cd.x-this.Ua.c.x;this.pb.y=a.Cd.y-this.Ua.c.y;this.qb.x=a.Dd.x-this.Ua.c.x;this.qb.y=a.Dd.y-this.Ua.c.y;c=this.h.d;b=a.Jb.x-this.h.c.x;d=a.Jb.y-this.h.c.y;this.j.x=b*c.a.x+d*c.a.y;this.j.y=b*c.b.x+d*c.b.y;c=this.e.d;b=a.Kb.x-this.e.c.x;d=a.Kb.y-this.e.c.y;
this.k.x=b*c.a.x+d*c.a.y;this.k.y=b*c.b.x+d*c.b.y;this.X=a.qf;b=a.Cd.x-a.Jb.x;d=a.Cd.y-a.Jb.y;c=Math.sqrt(b*b+d*d);b=a.Dd.x-a.Kb.x;d=a.Dd.y-a.Kb.y;c=B(0.5*qc,c);b=B(0.5*qc,Math.sqrt(b*b+d*d));this.Dc=c+this.X*b;this.ue=G(a.Ef,c,this.Dc-this.X*qc);this.ve=G(a.Ff,b,(this.Dc-qc)/this.X);this.Sb=this.Rb=this.Lc=0}v(pc,fc);r=pc.prototype;r.Eb=function(){var a=this.h.d;return new y(this.h.c.x+(a.a.x*this.j.x+a.b.x*this.j.y),this.h.c.y+(a.a.y*this.j.x+a.b.y*this.j.y))};
r.Fb=function(){var a=this.e.d;return new y(this.e.c.x+(a.a.x*this.k.x+a.b.x*this.k.y),this.e.c.y+(a.a.y*this.k.x+a.b.y*this.k.y))};
r.Hb=function(){var a=this.h,c=this.e,b;b=a.d;var d=b.a.x*this.j.x+b.b.x*this.j.y,e=b.a.y*this.j.x+b.b.y*this.j.y;b=c.d;var f=b.a.x*this.k.x+b.b.x*this.k.y;b=b.a.y*this.k.x+b.b.y*this.k.y;var g=c.c.x+f,h=c.c.y+b,j=this.Ua.c.x+this.qb.x,i=this.Ua.c.y+this.qb.y;this.L.g(a.c.x+d-(this.Ua.c.x+this.pb.x),a.c.y+e-(this.Ua.c.y+this.pb.y));this.M.g(g-j,h-i);g=I(this.L);h=I(this.M);g>0.15?this.L.scale(1/g):this.L.la();h>0.15?this.M.scale(1/h):this.M.la();if(g<this.ue)this.Rb=this.Pd=0;else{this.Pd=2;this.kd=
0}if(h<this.ve)this.Sb=this.Qd=0;else{this.Qd=2;this.ld=0}g=d*this.L.y-e*this.L.x;h=f*this.M.y-b*this.M.x;this.Ic=a.i+a.m*g*g;this.Jc=c.i+c.m*h*h;this.md=this.Ic+this.X*this.X*this.Jc;this.Ic=1/this.Ic;this.Jc=1/this.Jc;this.md=1/this.md;g=(-this.Lc-this.Rb)*this.L.x;h=(-this.Lc-this.Rb)*this.L.y;j=(-this.X*this.Lc-this.Sb)*this.M.x;i=(-this.X*this.Lc-this.Sb)*this.M.y;a.f.x+=a.i*g;a.f.y+=a.i*h;a.l+=a.m*(d*h-e*g);c.f.x+=c.i*j;c.f.y+=c.i*i;c.l+=c.m*(f*i-b*j)};
r.ub=function(){var a=this.h,c=this.e,b;b=a.d;var d=b.a.x*this.j.x+b.b.x*this.j.y,e=b.a.y*this.j.x+b.b.y*this.j.y;b=c.d;var f=b.a.x*this.k.x+b.b.x*this.k.y;b=b.a.y*this.k.x+b.b.y*this.k.y;var g,h,j,i;g=a.f.x+-a.l*e;h=a.f.y+a.l*d;j=c.f.x+-c.l*b;i=c.f.y+c.l*f;g=-(this.L.x*g+this.L.y*h)-this.X*(this.M.x*j+this.M.y*i);i=-this.md*g;this.Lc+=i;g=-i*this.L.x;h=-i*this.L.y;j=-this.X*i*this.M.x;i=-this.X*i*this.M.y;a.f.x+=a.i*g;a.f.y+=a.i*h;a.l+=a.m*(d*h-e*g);c.f.x+=c.i*j;c.f.y+=c.i*i;c.l+=c.m*(f*i-b*j);if(this.Pd==
2){g=a.f.x+-a.l*e;h=a.f.y+a.l*d;g=-(this.L.x*g+this.L.y*h);i=-this.Ic*g;g=this.Rb;this.Rb=B(0,this.Rb+i);i=this.Rb-g;g=-i*this.L.x;h=-i*this.L.y;a.f.x+=a.i*g;a.f.y+=a.i*h;a.l+=a.m*(d*h-e*g)}if(this.Qd==2){j=c.f.x+-c.l*b;i=c.f.y+c.l*f;g=-(this.M.x*j+this.M.y*i);i=-this.Jc*g;g=this.Sb;this.Sb=B(0,this.Sb+i);i=this.Sb-g;j=-i*this.M.x;i=-i*this.M.y;c.f.x+=c.i*j;c.f.y+=c.i*i;c.l+=c.m*(f*i-b*j)}};
r.kb=function(){var a=this.h,c=this.e,b,d=this.Ua.c.x+this.pb.x,e=this.Ua.c.y+this.pb.y,f=this.Ua.c.x+this.qb.x,g=this.Ua.c.y+this.qb.y,h,j,i,k,n,l,o,s=0;b=a.d;h=b.a.x*this.j.x+b.b.x*this.j.y;j=b.a.y*this.j.x+b.b.y*this.j.y;b=c.d;i=b.a.x*this.k.x+b.b.x*this.k.y;b=b.a.y*this.k.x+b.b.y*this.k.y;k=a.c.x+h;n=a.c.y+j;l=c.c.x+i;o=c.c.y+b;this.L.g(k-d,n-e);this.M.g(l-f,o-g);k=I(this.L);n=I(this.M);k>0.15?this.L.scale(1/k):this.L.la();n>0.15?this.M.scale(1/n):this.M.la();k=this.Dc-k-this.X*n;s=B(s,Math.abs(k));
k=G(k,-6,6);o=-this.md*k;k=-o*this.L.x;n=-o*this.L.y;l=-this.X*o*this.M.x;o=-this.X*o*this.M.y;a.c.x+=a.i*k;a.c.y+=a.i*n;a.n+=a.m*(h*n-j*k);c.c.x+=c.i*l;c.c.y+=c.i*o;c.n+=c.m*(i*o-b*l);a.d.g(a.n);c.d.g(c.n);if(this.Pd==2){b=a.d;h=b.a.x*this.j.x+b.b.x*this.j.y;j=b.a.y*this.j.x+b.b.y*this.j.y;k=a.c.x+h;n=a.c.y+j;this.L.g(k-d,n-e);k=I(this.L);if(k>0.15){this.L.x*=1/k;this.L.y*=1/k}else this.L.la();k=this.ue-k;s=B(s,-k);k=G(k+0.15,-6,0);o=-this.Ic*k;d=this.kd;this.kd=B(0,this.kd+o);o=this.kd-d;k=-o*this.L.x;
n=-o*this.L.y;a.c.x+=a.i*k;a.c.y+=a.i*n;a.n+=a.m*(h*n-j*k);a.d.g(a.n)}if(this.Qd==2){b=c.d;i=b.a.x*this.k.x+b.b.x*this.k.y;b=b.a.y*this.k.x+b.b.y*this.k.y;l=c.c.x+i;o=c.c.y+b;this.M.g(l-f,o-g);n=I(this.M);if(n>0.15){this.M.x*=1/n;this.M.y*=1/n}else this.M.la();k=this.ve-n;s=B(s,-k);k=G(k+0.15,-6,0);o=-this.Jc*k;d=this.ld;this.ld=B(0,this.ld+o);o=this.ld-d;l=-o*this.M.x;o=-o*this.M.y;c.c.x+=c.i*l;c.c.y+=c.i*o;c.n+=c.m*(i*o-b*l);c.d.g(c.n)}return s<0.15};var qc=30;function rc(){gc.call(this,q);this.type=0;this.Z=this.V=this.B=p;this.type=1;this.ta=new y(0,0);this.Pc=this.Ee=this.rf=this.cf=0;this.cc=this.Ad=q}v(rc,gc);function sc(a){this.o=new T;this.q=new T;this.Ba=a.type;this.p=this.G=p;this.h=a.V;this.e=a.Z;this.va=a.va;this.rb=q;this.db=a.B;this.Ja=new O;this.ra=new O;this.sa=new O;this.Za=new O;this.j=new y;this.k=new y;this.Wa=new y;this.Ab=new O;var c,b,d;c=this.h.d;b=a.ta.x-this.h.c.x;d=a.ta.y-this.h.c.y;this.j.x=b*c.a.x+d*c.a.y;this.j.y=b*c.b.x+d*c.b.y;c=this.e.d;b=a.ta.x-this.e.c.x;d=a.ta.y-this.e.c.y;this.k.x=b*c.a.x+d*c.a.y;this.k.y=b*c.b.x+d*c.b.y;this.re=this.e.n-this.h.n;this.Wa.g(0,0);this.ea=this.r=
this.fa=0;this.Rd=a.cf;this.Wd=a.rf;this.xe=a.Ee;this.Td=a.Pc;this.ob=a.Ad;this.hc=a.cc}v(sc,fc);sc.prototype.Eb=function(){var a=this.h.d;return new y(this.h.c.x+(a.a.x*this.j.x+a.b.x*this.j.y),this.h.c.y+(a.a.y*this.j.x+a.b.y*this.j.y))};sc.prototype.Fb=function(){var a=this.e.d;return new y(this.e.c.x+(a.a.x*this.k.x+a.b.x*this.k.y),this.e.c.y+(a.a.y*this.k.x+a.b.y*this.k.y))};function kc(a){return a.e.n-a.h.n}new O;r=sc.prototype;r.ra=new O;r.sa=new O;r.Za=new O;
r.Hb=function(){var a=this.h,c=this.e,b;b=a.d;var d=b.a.x*this.j.x+b.b.x*this.j.y,e=b.a.y*this.j.x+b.b.y*this.j.y;b=c.d;var f=b.a.x*this.k.x+b.b.x*this.k.y;b=b.a.y*this.k.x+b.b.y*this.k.y;var g=a.i,h=c.i,j=a.m,i=c.m;this.ra.a.x=g+h;this.ra.b.x=0;this.ra.a.y=0;this.ra.b.y=g+h;this.sa.a.x=j*e*e;this.sa.b.x=-j*d*e;this.sa.a.y=-j*d*e;this.sa.b.y=j*d*d;this.Za.a.x=i*b*b;this.Za.b.x=-i*f*b;this.Za.a.y=-i*f*b;this.Za.b.y=i*f*f;Na(this.Ja,this.ra);Oa(this.Ja,this.sa);Oa(this.Ja,this.Za);Pa(this.Ja,this.Ab);
this.Na=1/(j+i);if(this.hc==q)this.fa=0;if(this.ob){var k=c.n-a.n-this.re;if(A(this.Wd-this.Rd)<2*Da)this.K=3;else if(k<=this.Rd){if(this.K!=1)this.r=0;this.K=1}else if(k>=this.Wd){if(this.K!=2)this.r=0;this.K=2}else this.r=this.K=0}else this.r=0;if(bc){a.f.x-=g*this.Wa.x;a.f.y-=g*this.Wa.y;a.l-=j*(d*this.Wa.y-e*this.Wa.x+this.fa+this.r);c.f.x+=h*this.Wa.x;c.f.y+=h*this.Wa.y;c.l+=i*(f*this.Wa.y-b*this.Wa.x+this.fa+this.r)}else{this.Wa.la();this.r=this.fa=0}this.ea=0};
r.ub=function(a){var c=this.h,b=this.e,d;d=c.d;var e=d.a.x*this.j.x+d.b.x*this.j.y,f=d.a.y*this.j.x+d.b.y*this.j.y;d=b.d;var g=d.a.x*this.k.x+d.b.x*this.k.y;d=d.a.y*this.k.x+d.b.y*this.k.y;var h=b.f.x+-b.l*d-c.f.x- -c.l*f,j=b.f.y+b.l*g-c.f.y-c.l*e,i=-(this.Ab.a.x*h+this.Ab.b.x*j);h=-(this.Ab.a.y*h+this.Ab.b.y*j);this.Wa.x+=i;this.Wa.y+=h;c.f.x-=c.i*i;c.f.y-=c.i*h;c.l-=c.m*(e*h-f*i);b.f.x+=b.i*i;b.f.y+=b.i*h;b.l+=b.m*(g*h-d*i);if(this.hc&&this.K!=3){e=-this.Na*(b.l-c.l-this.Td);f=this.fa;this.fa=G(this.fa+
e,-a.Pa*this.xe,a.Pa*this.xe);e=this.fa-f;c.l-=c.m*e;b.l+=b.m*e}if(this.ob&&this.K!=0){e=-this.Na*(b.l-c.l);if(this.K==3)this.r+=e;else if(this.K==1){a=this.r;this.r=B(this.r+e,0);e=this.r-a}else if(this.K==2){a=this.r;this.r=this.r+e<0?this.r+e:0;e=this.r-a}c.l-=c.m*e;b.l+=b.m*e}};
r.kb=function(){var a,c=this.h,b=this.e,d=0;d=c.d;var e=d.a.x*this.j.x+d.b.x*this.j.y,f=d.a.y*this.j.x+d.b.y*this.j.y;d=b.d;a=d.a.x*this.k.x+d.b.x*this.k.y;var g=d.a.y*this.k.x+d.b.y*this.k.y,h=b.c.x+a-(c.c.x+e),j=b.c.y+g-(c.c.y+f);d=Math.sqrt(h*h+j*j);var i=c.i,k=b.i,n=c.m,l=b.m;this.ra.a.x=i+k;this.ra.b.x=0;this.ra.a.y=0;this.ra.b.y=i+k;this.sa.a.x=n*f*f;this.sa.b.x=-n*e*f;this.sa.a.y=-n*e*f;this.sa.b.y=n*e*e;this.Za.a.x=l*g*g;this.Za.b.x=-l*a*g;this.Za.a.y=-l*a*g;this.Za.b.y=l*a*a;Na(this.Ja,this.ra);
Oa(this.Ja,this.sa);Oa(this.Ja,this.Za);this.Ja.wd(tc,-h,-j);h=tc.x;j=tc.y;c.c.x-=c.i*h;c.c.y-=c.i*j;c.n-=c.m*(e*j-f*h);c.d.g(c.n);b.c.x+=b.i*h;b.c.y+=b.i*j;b.n+=b.m*(a*j-g*h);b.d.g(b.n);e=0;if(this.ob&&this.K!=0){a=b.n-c.n-this.re;f=0;if(this.K==3){a=G(a,-Ea,Ea);f=-this.Na*a;e=A(a)}else if(this.K==1){a=a-this.Rd;e=B(0,-a);a=G(a+Da,-Ea,0);f=-this.Na*a;a=this.ea;this.ea=B(this.ea+f,0);f=this.ea-a}else if(this.K==2){a=a-this.Wd;e=B(0,a);a=G(a-Da,0,Ea);f=-this.Na*a;a=this.ea;this.ea=this.ea+f<0?this.ea+
f:0;f=this.ea-a}c.n-=c.m*f;c.d.g(c.n);b.n+=b.m*f;b.d.g(b.n)}return d<=0.15&&e<=Da};var tc=new y;function uc(a){switch(a.type){case 3:return new hc(a);case 5:return new mc(a);case 2:return new oc(a);case 1:return new sc(a);case 4:return new pc(a);case 6:return new ic(a);default:throw"def not supported";}};function vc(){this.Fd=this.Pa=p;this.Gd=0};function wc(a,c,b){this.nd=new vc;this.gc=new Xb(this);this.se=p;this.xf=Ab;this.W=this.$=this.nb=p;this.hb=this.Ob=this.Ka=0;this.fd=p;this.ef=b;this.hf=c;this.gc.Q=this;this.Qa=new ub(a,this.gc);this.ic=W(this,new Ga);this.$e=[];this.Rc=q}function W(a,c){var b=new cb(c,a);b.G=p;if(b.p=a.nb)a.nb.G=b;a.nb=b;++a.Ka;return b}
function xc(a,c){var b=uc(c);b.G=p;if(b.p=a.W)a.W.G=b;a.W=b;++a.hb;b.o.Nb=b;b.o.pa=b.e;b.o.prev=p;if(b.o.next=b.h.W)b.h.W.prev=b.o;b.h.W=b.o;b.q.Nb=b;b.q.pa=b.h;b.q.prev=p;if(b.q.next=b.e.W)b.e.W.prev=b.q;b.e.W=b.q;if(c.va==q)for(var d=(c.V.Wb<c.Z.Wb?c.V:c.Z).Cb;d;d=d.p)d.Uc(a.Qa);return b}
wc.prototype.yc=function(a,c,b){var d=[],e=this.Qa,f=[],g=[];wb(e,f,g,a);a=[0];var h=[0];e.yc(a,h,f[0],g[0],e.ab[0],2*e.Tb,0);e.yc(a,h,f[1],g[1],e.ab[1],2*e.Tb,1);for(g=f=0;g<e.Bb&&f<b;++g,++f)d[g]=e.Ca[e.Mc[g]].B;e.Bb=0;vb(e);b=f;for(e=0;e<b;++e)c[e]=d[e];return b};var dc=1,bc=1;function yc(a){var c;for(c=1;c<=4;c++){var b=a,d=150+3*Math.random(),e=40*c,f=[[-30,0],[30,0],[0,15]],g=new zc;g.uc=f.length;var h=void 0;for(h=0;h<f.length;h++)g.Db[h].g(f[h][0],f[h][1]);g.wb=0.3524*Math.PI;var j=new O(g.wb);g.ya=x(j,new y(30,0));g.ua=1;j=new zc;j.uc=f.length;for(h=0;h<f.length;h++)j.Db[h].g(f[h][0],f[h][1]);j.wb=-0.3524*Math.PI;f=new O(j.wb);j.ya=x(f,new y(-30,0));f=new Ga;M(f,g);M(f,j);f.position.g(d,e);W(b,f)}for(c=1;c<=4;c++){b=a;d=350+3*Math.random();e=45*c;g=new Sa;g.ua=1;
g.sb=20;g.Sa=0.2;g.ya.g(-20,0);j=new Sa;j.ua=1;j.sb=20;j.Sa=0.2;j.ya.g(20,0);f=new Ga;M(f,g);M(f,j);f.position.g(d,e);W(b,f)}};function Ac(a){var c=a.ic,b=new La;b.R.g(5,25);b.ua=1;var d=new Ga;M(d,b);var e=new rc,f=c;d.position.g(250,210);var g=W(a,d);e.ta.g(250,235);e.V=f;e.Z=g;e.Pc=-1*Math.PI;e.Ee=5E8;e.cc=m;xc(a,e);f=g;b.R.g(5,45);d.position.g(250,140);g=W(a,d);e.ta.g(250,185);e.V=f;e.Z=g;e.cc=q;xc(a,e);f=g;b.R.g(20,20);d.position.g(250,95);g=W(a,d);e.ta.g(250,95);e.V=f;e.Z=g;xc(a,e);e=new nc;e.ta.g(250,95);e.V=c;e.Z=g;e.axis.g(0,1);e.Pc=0;e.De=1E5;e.cc=m;xc(a,e);b.ua=2;d.position.g(250,10);W(a,d)};function Bc(a){var c,b=a.ic,d=new rc;for(c=0;c<4;c++){d.ta.g(250+40*c,50);d.V=b;d.Z=Cc(a,250+40*c,200);xc(a,d)}d.ta.g(210,50);d.V=b;d.Z=Cc(a,60,50);xc(a,d)};function Dc(a){var c=new La,b=new Ga;M(b,c);c.ua=1;c.$a=0.5;c.R.g(10,10);for(c=0;c<8;c++){b.position.g(250-Math.random()*2-1,245-c*22);W(a,b)}for(c=0;c<8;c++){b.position.g(150-Math.random()*5+c,245-c*22);W(a,b)}for(c=0;c<8;c++){b.position.g(350+Math.random()*5-c,245-c*22);W(a,b)}};function zc(){this.type=Ia;this.B=p;this.ya=new y(0,0);this.wb=0;this.$a=0.2;this.ua=this.Sa=0;this.Ta=1;this.Xa=65535;this.Mb=0;this.Db=Array(8);this.type=Ka;for(var a=this.uc=0;a<8;a++)this.Db[a]=new y}v(zc,Ha);function Ec(a){var c=new Sa;c.sb=50;c.Sa=0.2;var b=new Ga;M(b,c);b.position.g(350,100);W(a,b);Fc(a,100,100,[[0,0],[10,30],[-10,30]],m);Fc(a,150,150,[[0,0],[10,30],[-10,30]],m);b=Gc(a,150,100,20,20,q);c=new rc;c.V=b;c.Z=a.ic;c.ta=b.c;xc(a,c);b=Fc(a,300,200,[[0,0],[100,30],[-100,30]]);c.V=b;c.ta=b.c;xc(a,c)}function Fc(a,c,b,d,e){var f=new zc;if(!e)f.ua=1;f.uc=d.length;for(e=0;e<d.length;e++)f.Db[e].g(d[e][0],d[e][1]);d=new Ga;M(d,f);d.position.g(c,b);return W(a,d)};var Hc,Ic,Jc,Kc;function Lc(){return t.navigator?t.navigator.userAgent:p}Kc=Jc=Ic=Hc=q;var Mc;if(Mc=Lc()){var Nc=t.navigator;Hc=Mc.indexOf("Opera")==0;Ic=!Hc&&Mc.indexOf("MSIE")!=-1;Jc=!Hc&&Mc.indexOf("WebKit")!=-1;Kc=!Hc&&!Jc&&Nc.product=="Gecko"}var Oc=Ic,Pc=Kc,Qc=Jc,Rc=t.navigator,Sc=(Rc&&Rc.platform||"").indexOf("Mac")!=-1,Tc;
a:{var Uc="",Vc;if(Hc&&t.opera){var Wc=t.opera.version;Uc=typeof Wc=="function"?Wc():Wc}else{if(Pc)Vc=/rv\:([^\);]+)(\)|;)/;else if(Oc)Vc=/MSIE\s+([^\);]+)(\)|;)/;else if(Qc)Vc=/WebKit\/(\S+)/;if(Vc){var Xc=Vc.exec(Lc());Uc=Xc?Xc[1]:""}}if(Oc){var Yc,Zc=t.document;Yc=Zc?Zc.documentMode:undefined;if(Yc>parseFloat(Uc)){Tc=String(Yc);break a}}Tc=Uc}var $c={};var ad;!Oc||$c["9"]||($c["9"]=ta(Tc,"9")>=0);Oc&&($c["8"]||($c["8"]=ta(Tc,"8")>=0));function bd(){}bd.prototype.ne=q;bd.prototype.Vc=function(){if(!this.ne){this.ne=m;this.vb()}};bd.prototype.vb=aa();function X(a,c){this.type=a;this.currentTarget=this.target=c}v(X,bd);X.prototype.vb=function(){delete this.type;delete this.target;delete this.currentTarget};X.prototype.rc=q;X.prototype.pd=m;function cd(a,c){a&&this.Wc(a,c)}v(cd,X);r=cd.prototype;r.target=p;r.relatedTarget=p;r.offsetX=0;r.offsetY=0;r.clientX=0;r.clientY=0;r.screenX=0;r.screenY=0;r.button=0;r.keyCode=0;r.charCode=0;r.ctrlKey=q;r.altKey=q;r.shiftKey=q;r.metaKey=q;r.of=q;r.oe=p;
r.Wc=function(a,c){var b=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(Pc)try{d=d.nodeName&&d}catch(e){d=p}}else if(b=="mouseover")d=a.fromElement;else if(b=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||0;
this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(b=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.of=Sc?a.metaKey:a.ctrlKey;this.oe=a;delete this.pd;delete this.rc};r.vb=function(){cd.ae.vb.call(this);this.relatedTarget=this.currentTarget=this.target=this.oe=p};function dd(){}var ed=0;r=dd.prototype;r.key=0;r.sc=q;r.ie=q;r.Wc=function(a,c,b,d,e,f){if(ea(a)=="function")this.pe=m;else if(a&&a.handleEvent&&ea(a.handleEvent)=="function")this.pe=q;else throw Error("Invalid listener argument");this.Bc=a;this.Ge=c;this.src=b;this.type=d;this.capture=!!e;this.Ed=f;this.ie=q;this.key=++ed;this.sc=q};r.handleEvent=function(a){if(this.pe)return this.Bc.call(this.Ed||this.src,a);return this.Bc.handleEvent.call(this.Bc,a)};function Y(a,c){this.Ce=c;this.Lb=[];if(a>this.Ce)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var b=0;b<a;b++)this.Lb.push(this.lb?this.lb():{})}v(Y,bd);Y.prototype.lb=p;Y.prototype.me=p;function fd(a){if(a.Lb.length)return a.Lb.pop();return a.lb?a.lb():{}}function gd(a,c){a.Lb.length<a.Ce?a.Lb.push(c):hd(a,c)}
function hd(a,c){if(a.me)a.me(c);else{var b=ea(c);if(b=="object"||b=="array"||b=="function")if(ea(c.Vc)=="function")c.Vc();else for(var d in c)delete c[d]}}Y.prototype.vb=function(){Y.ae.vb.call(this);for(var a=this.Lb;a.length;)hd(this,a.pop());delete this.Lb};var id;var jd=(id="ScriptEngine"in t&&t.ScriptEngine()=="JScript")?t.ScriptEngineMajorVersion()+"."+t.ScriptEngineMinorVersion()+"."+t.ScriptEngineBuildVersion():"0";var kd,ld,md,nd,od,pd,qd,rd,sd,td,ud;
(function(){function a(){return{gb:0,eb:0}}function c(){return[]}function b(){function l(o){return g.call(l.src,l.key,o)}return l}function d(){return new dd}function e(){return new cd}var f=id&&!(ta(jd,"5.7")>=0),g;pd=function(l){g=l};if(f){kd=function(){return fd(h)};ld=function(l){gd(h,l)};md=function(){return fd(j)};nd=function(l){gd(j,l)};od=function(){return fd(i)};qd=function(){gd(i,b())};rd=function(){return fd(k)};sd=function(l){gd(k,l)};td=function(){return fd(n)};ud=function(l){gd(n,l)};
var h=new Y(0,600);h.lb=a;var j=new Y(0,600);j.lb=c;var i=new Y(0,600);i.lb=b;var k=new Y(0,600);k.lb=d;var n=new Y(0,600);n.lb=e}else{kd=a;ld=da;md=c;nd=da;od=b;qd=da;rd=d;sd=da;td=e;ud=da}})();function vd(a,c,b){for(var d in a)c.call(b,a[d],d,a)}var wd=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];function xd(a){for(var c,b,d=1;d<arguments.length;d++){b=arguments[d];for(c in b)a[c]=b[c];for(var e=0;e<wd.length;e++){c=wd[e];if(Object.prototype.hasOwnProperty.call(b,c))a[c]=b[c]}}};var yd={},Z={},zd={},Ad={};
function Bd(a,c,b,d,e){if(c)if(ea(c)=="array"){for(var f=0;f<c.length;f++)Bd(a,c[f],b,d,e);return p}else{d=!!d;var g=Z;c in g||(g[c]=kd());g=g[c];if(!(d in g)){g[d]=kd();g.gb++}g=g[d];var h=fa(a),j;g.eb++;if(g[h]){j=g[h];for(f=0;f<j.length;f++){g=j[f];if(g.Bc==b&&g.Ed==e){if(g.sc)break;return j[f].key}}}else{j=g[h]=md();g.gb++}f=od();f.src=a;g=rd();g.Wc(b,f,a,c,d,e);b=g.key;f.key=b;j.push(g);yd[b]=g;zd[h]||(zd[h]=md());zd[h].push(g);if(a.addEventListener){if(a==t||!a.ke)a.addEventListener(c,f,d)}else a.attachEvent(Cd(c),
f);return b}else throw Error("Invalid event type");}function Dd(a,c,b,d,e){if(ea(c)=="array"){for(var f=0;f<c.length;f++)Dd(a,c[f],b,d,e);return p}d=!!d;a:{f=Z;if(c in f){f=f[c];if(d in f){f=f[d];a=fa(a);if(f[a]){a=f[a];break a}}}a=p}if(!a)return q;for(f=0;f<a.length;f++)if(a[f].Bc==b&&a[f].capture==d&&a[f].Ed==e)return Ed(a[f].key);return q}
function Ed(a){if(!yd[a])return q;var c=yd[a];if(c.sc)return q;var b=c.src,d=c.type,e=c.Ge,f=c.capture;if(b.removeEventListener){if(b==t||!b.ke)b.removeEventListener(d,e,f)}else b.detachEvent&&b.detachEvent(Cd(d),e);b=fa(b);e=Z[d][f][b];if(zd[b]){var g=zd[b],h=ya(g,c);if(h>=0){wa(g.length!=p);xa.splice.call(g,h,1)}g.length==0&&delete zd[b]}c.sc=m;e.Fe=m;Fd(d,f,b,e);delete yd[a];return m}
function Fd(a,c,b,d){if(!d.ad)if(d.Fe){for(var e=0,f=0;e<d.length;e++)if(d[e].sc){var g=d[e].Ge;g.src=p;qd(g);sd(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.Fe=q;if(f==0){nd(d);delete Z[a][c][b];Z[a][c].gb--;if(Z[a][c].gb==0){ld(Z[a][c]);delete Z[a][c];Z[a].gb--}if(Z[a].gb==0){ld(Z[a]);delete Z[a]}}}}
function Gd(a,c,b){var d=0,e=c==p,f=b==p;b=!!b;if(a==p)vd(zd,function(j){for(var i=j.length-1;i>=0;i--){var k=j[i];if((e||c==k.type)&&(f||b==k.capture)){Ed(k.key);d++}}});else{a=fa(a);if(zd[a]){a=zd[a];for(var g=a.length-1;g>=0;g--){var h=a[g];if((e||c==h.type)&&(f||b==h.capture)){Ed(h.key);d++}}}}return d}function Cd(a){if(a in Ad)return Ad[a];return Ad[a]="on"+a}
function Hd(a,c,b,d,e){var f=1;c=fa(c);if(a[c]){a.eb--;a=a[c];if(a.ad)a.ad++;else a.ad=1;try{for(var g=a.length,h=0;h<g;h++){var j=a[h];if(j&&!j.sc)f&=Id(j,e)!==q}}finally{a.ad--;Fd(b,d,c,a)}}return Boolean(f)}function Id(a,c){var b=a.handleEvent(c);a.ie&&Ed(a.key);return b}
pd(function(a,c){if(!yd[a])return m;var b=yd[a],d=b.type,e=Z;if(!(d in e))return m;e=e[d];var f,g;if(ad===undefined)ad=Oc&&!t.addEventListener;if(ad){var h;if(!(h=c))a:{h="window.event".split(".");for(var j=t;f=h.shift();)if(j[f])j=j[f];else{h=p;break a}h=j}f=h;h=m in e;j=q in e;if(h){if(f.keyCode<0||f.returnValue!=undefined)return m;a:{var i=q;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(k){i=m}if(i||f.returnValue==undefined)f.returnValue=m}}i=td();i.Wc(f,this);f=m;try{if(h){for(var n=md(),l=i.currentTarget;l;l=
l.parentNode)n.push(l);g=e[m];g.eb=g.gb;for(var o=n.length-1;!i.rc&&o>=0&&g.eb;o--){i.currentTarget=n[o];f&=Hd(g,n[o],d,m,i)}if(j){g=e[q];g.eb=g.gb;for(o=0;!i.rc&&o<n.length&&g.eb;o++){i.currentTarget=n[o];f&=Hd(g,n[o],d,q,i)}}}else f=Id(b,i)}finally{if(n){n.length=0;nd(n)}i.Vc();ud(i)}return f}d=new cd(c,this);try{f=Id(b,d)}finally{d.Vc()}return f});function Jd(){}v(Jd,bd);r=Jd.prototype;r.ke=m;r.Zd=p;r.addEventListener=function(a,c,b,d){Bd(this,a,c,b,d)};r.removeEventListener=function(a,c,b,d){Dd(this,a,c,b,d)};
r.dispatchEvent=function(a){a=a;if(typeof a=="string")a=new X(a,this);else if(a instanceof X)a.target=a.target||this;else{var c=a;a=new X(a.type,this);xd(a,c)}c=1;var b,d=a.type,e=Z;if(d in e){e=e[d];d=m in e;var f;if(d){b=[];for(f=this;f;f=f.Zd)b.push(f);f=e[m];f.eb=f.gb;for(var g=b.length-1;!a.rc&&g>=0&&f.eb;g--){a.currentTarget=b[g];c&=Hd(f,b[g],a.type,m,a)&&a.pd!=q}}if(q in e){f=e[q];f.eb=f.gb;if(d)for(g=0;!a.rc&&g<b.length&&f.eb;g++){a.currentTarget=b[g];c&=Hd(f,b[g],a.type,q,a)&&a.pd!=q}else for(b=
this;!a.rc&&b&&f.eb;b=b.Zd){a.currentTarget=b;c&=Hd(f,b,a.type,q,a)&&a.pd!=q}}a=Boolean(c)}else a=m;return a};r.vb=function(){Jd.ae.vb.call(this);Gd(this);this.Zd=p};function Kd(){this.Ld=0;this.Xb=[];this.zc=this.Nc=0}function Ld(a){var c=la();if(a.Nd>0){var b=c-a.Nd;b/=1E3;a.Ld++;if(a.Xb.length<Md){a.Xb.push(b);a.Nc+=b;a.zc=a.Ld/a.Nc}else{var d=a.Ld%a.Xb.length;a.Nc-=a.Xb[d];a.Xb[d]=b;a.Nc+=a.Xb[d];a.zc=a.Xb.length/a.Nc}}a.Nd=c;return a.zc}Kd.prototype.Nd=0;var Md=100;function Nd(a){this.Jd=a;this.Jd.fillStyle=this.Jd.strokeStyle="#666";this.Ec=[yc,Ac,Dc,Bc,Ec];Od(this);this.gf=new Kd;this.Od=m;this.he();$(a.canvas).click(ia(function(c){c=new Aa(c.pageX-a.canvas.offsetLeft,c.pageY-a.canvas.offsetTop);Math.random()<0.5?Cc(this.Q,c.x,c.y,10):Gc(this.Q,c.x,c.y,10,10,q)},this))}v(Nd,Jd);
function Od(a,c){if(a.Ec.length==0)throw"No demos to load";else if(c===undefined)a.Gc=Math.floor(Math.random()*a.Ec.length);else{for(a.Gc+=c;a.Gc<0;)a.Gc+=a.Ec.length;a.Gc%=a.Ec.length}var b=new L;b.C.g(-1E3,-1E3);b.A.g(1E3,1E3);b=new wc(b,new y(0,300),m);Gc(b,250,305,250,5,m,m);Gc(b,5,185,5,125,m,m);Gc(b,495,185,5,125,m,m);a.Q=b;a.Ec[a.Gc](a.Q)}function Pd(a,c){if(c!==undefined)a.Od=!!c;return a.Od}
Nd.prototype.he=function(){var a=this.Od?1E3/60:1;t.setTimeout(ia(this.he,this),a);a=this.Q;var c=Qd,b,d;a.nd.Pa=c;a.nd.Gd=1;a.nd.Fd=c>0?1/c:0;a.ye=0;for(var e=a.gc,f=e.Q.$;f!=p;){var g=f;f=f.p;g.v&2&&Yb(e,g)}a.gc.Md=m;for(e=a.fd;e;){f=e;e=e.p;for(g=f.W;g;){var h=g;g=g.next;b=a;h=h.Nb;d=h.va;if(h.G)h.G.p=h.p;if(h.p)h.p.G=h.G;if(h==b.W)b.W=h.p;var j=h.h,i=h.e;fb(j);fb(i);if(h.o.prev)h.o.prev.next=h.o.next;if(h.o.next)h.o.next.prev=h.o.prev;if(h.o==j.W)j.W=h.o.next;h.o.prev=p;h.o.next=p;if(h.q.prev)h.q.prev.next=
h.q.next;if(h.q.next)h.q.next.prev=h.q.prev;if(h.q==i.W)i.W=h.q.next;h.q.prev=p;h.q.next=p;--b.hb;if(d==q)for(h=(j.Wb<i.Wb?j:i).Cb;h;h=h.p)h.Uc(b.Qa)}f.Tc()}a.fd=p;a.gc.Md=q;for(e=a.gc.Q.$;e!=p;e=e.p)if(!((e.N.z.v&Q)==Q&&(e.O.z.v&Q)==Q)){f=e.La;e.wc();g=e.La;if(f==0&&g>0){f=e.N.z;g=e.O.z;b=e.o;h=e.q;b.Ea=e;b.pa=g;b.prev=p;b.next=f.$;if(b.next!=p)b.next.prev=e.o;f.$=e.o;h.Ea=e;h.pa=f;h.prev=p;h.next=g.$;if(h.next!=p)h.next.prev=h;g.$=h}else if(f>0&&g==0){f=e.N.z;g=e.O.z;b=e.o;h=e.q;if(b.prev)b.prev.next=
b.next;if(b.next)b.next.prev=b.prev;if(b==f.$)f.$=b.next;b.prev=p;b.next=p;if(h.prev)h.prev.next=h.next;if(h.next)h.next.prev=h.prev;if(h==g.$)g.$=h.next;h.prev=p;h.next=p}}e=new cc(a.Ka,a.Ob,a.hb);for(b=a.nb;b!=p;b=b.p)b.v&=-5;for(f=a.$;f!=p;f=f.p)f.v&=-2;for(f=a.W;f!=p;f=f.p)f.rb=q;f=Array(a.Ka);for(g=0;g<a.Ka;g++)f[g]=p;for(g=a.nb;g!=p;g=g.p)if(!(g.v&(db|4|Q|gb))){b=e;b.Ka=0;b.Ob=0;h=b.hb=0;f[h++]=g;for(g.v|=4;h>0;){d=b=f[--h];e.mb[e.Ka++]=d;b.v&=~Q;if(!(b.v&db)){for(j=b.$;j!=p;j=j.next)if(!(j.Ea.v&
1)){d=j.Ea;e.Kd[e.Ob++]=d;j.Ea.v|=1;d=j.pa;if(!(d.v&4)){f[h++]=d;d.v|=4}}for(b=b.W;b!=p;b=b.next)if(b.Nb.rb!=m){d=b.Nb;e.Hc[e.hb++]=d;b.Nb.rb=m;d=b.pa;if(!(d.v&4)){f[h++]=d;d.v|=4}}}}e.wd(a.nd,a.hf);a.ye=B(a.ye,ec);if(a.ef){b=a;h=e;d=c;j=0;i=void 0;var k=Number.MAX_VALUE,n=Fa*Fa;for(j=0;j<h.Ka;++j){i=h.mb[j];if(i.i!=0){if((i.v&eb)==0)k=i.pc=0;if((i.v&eb)==0||i.l*i.l>n||ma(i.f,i.f)>0.09)k=i.pc=0;else{i.pc+=d;k=k<i.pc?k:i.pc}}}if(k>=0.5){for(j=0;j<h.Ka;++j){i=h.mb[j];i.v|=Q}h=m}else h=q;b.Rc=h}for(h=
0;h<e.Ka;++h){b=e.mb[h];if(b.v&db)b.v&=-5;if((b.v&gb)==gb&&a.se)if(a.se.tf(b)==1){d=a;b=b;if(!(b.v&32)){if(b.G)b.G.p=b.p;if(b.p)b.p.G=b.G;if(b==d.nb)d.nb=b.p;b.v|=32;--d.Ka;b.G=p;b.p=d.fd;d.fd=b}e.mb[h]=p}}}a.$e=a.Qa.vc();if(!this.Q.Rc){c=this.Q;a=this.Jd;a.clearRect(0,0,a.canvas.width,a.canvas.height);for(e=c.W;e;e=e.p){f=c;g=e;b=a;h=g.h;d=g.e;j=h.c;i=d.c;k=g.Eb();n=g.Fb();b.beginPath();switch(g.Ba){case 3:b.moveTo(k.x,k.y);b.lineTo(n.x,n.y);break;case 4:break;default:if(h==f.ic){b.moveTo(k.x,k.y);
b.lineTo(i.x,i.y)}else if(d==f.ic){b.moveTo(k.x,k.y);b.lineTo(j.x,j.y)}else{b.moveTo(j.x,j.y);b.lineTo(k.x,k.y);b.lineTo(i.x,i.y);b.lineTo(n.x,n.y)}}b.stroke()}for(c=c.nb;c;c=c.p)for(e=c.Cb;e!=p;e=e.bc()){f=e;g=a;g.beginPath();switch(f.Ba){case Ja:b=f.c;h=f.ha;g.arc(f.c.x,f.c.y,f.ha,0,2*Math.PI,q);g.moveTo(b.x,b.y);d=f.d.a;b=new y(b.x+h*d.x,b.y+h*d.y);g.lineTo(b.x,b.y);break;case Ka:b=na(f.c,x(f.d,f.t[0]));g.moveTo(b.x,b.y);for(h=0;h<f.Oa;h++){d=na(f.c,x(f.d,f.t[h]));g.lineTo(d.x,d.y)}g.lineTo(b.x,
b.y)}g.stroke();f.db=="filled"&&g.fill()}}a=Math.round(Ld(this.gf));this.dispatchEvent(new Rd(a,this.Q.Rc))};function Cc(a,c,b,d){var e=new Sa;e.ua=1;e.sb=d||20;e.Sa=0.8;e.$a=0.9;d=new Ga;M(d,e);d.position.g(c,b);return W(a,d)}function Gc(a,c,b,d,e,f,g){if(typeof f=="undefined")f=m;if(typeof g=="undefined")g=q;var h=new La;if(!f)h.ua=1;if(g)h.B="filled";h.R.g(d,e);d=new Ga;M(d,h);d.position.g(c,b);return W(a,d)}var Qd=1/60;function Rd(a,c){X.call(this,Sd);this.zc=a;this.Rc=c}v(Rd,X);var Sd="Demo.FrameEventType";$(document).ready(function(){var a=new Nd($("canvas")[0].getContext("2d"));$("#fps_limit").click(function(){Pd(a,$("#fps_limit").attr("checked"))});$("#fps_limit").attr("checked",Pd(a));$("#previous").click(function(){Od(a,-1)});$("#reload").click(function(){Od(a,0)});$("#next").click(function(){Od(a,1)});var c=0;Bd(a,Sd,function(b){if(c==0){$("#fps").html(b.zc+"fps");b.Rc?$("#fps").addClass("sleeping"):$("#fps").removeClass("sleeping")}c++;c%=30})});
