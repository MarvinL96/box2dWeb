var m=true,p=null,q=false;function aa(){return function(){}}function ba(a){return function(){return this[a]}}function ca(a){return function(){return a}}var r,t=this;function da(){}
function ea(a){var c=typeof a;if(c=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(c=="function"&&typeof a.call=="undefined")return"object";return c}function fa(a){return a[ga]||(a[ga]=++ha)}var ga="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ha=0;function ka(a,c){var b=c||t;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}else return function(){return a.apply(b,arguments)}}var la=Date.now||function(){return+new Date};
function w(a,c){function b(){}b.prototype=c.prototype;a.he=c.prototype;a.prototype=new b};function oa(a,c){return a.x*c.x+a.y*c.y}function A(a,c){return new C(a.a.x*c.x+a.b.x*c.y,a.a.y*c.x+a.b.y*c.y)}function pa(a,c){return new C(a.x+c.x,a.y+c.y)}function qa(a,c){return new C(a.x-c.x,a.y-c.y)}function E(a){return a>0?a:-a}function F(a,c){return a>c?a:c}function H(a,c,b){return F(c,a<b?a:b)};function ra(a){this.stack=Error().stack||"";if(a)this.message=String(a)}w(ra,Error);function sa(a){for(var c=1;c<arguments.length;c++){var b=String(arguments[c]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,b)}return a}
function ta(a,c){for(var b=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(c).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;b==0&&g<f;g++){var h=d[g]||"",i=e[g]||"",j=RegExp("(\\d*)(\\D*)","g"),k=RegExp("(\\d*)(\\D*)","g");do{var n=j.exec(h)||["","",""],l=k.exec(i)||["","",""];if(n[0].length==0&&l[0].length==0)break;b=ua(n[1].length==0?0:parseInt(n[1],10),l[1].length==0?0:parseInt(l[1],10))||ua(n[2].length==0,l[2].length==0)||ua(n[2],l[2])}while(b==
0)}return b}function ua(a,c){if(a<c)return-1;else if(a>c)return 1;return 0};function va(a,c){c.unshift(a);ra.call(this,sa.apply(p,c));c.shift();this.Vf=a}w(va,ra);function wa(a,c){if(!a){var b=Array.prototype.slice.call(arguments,2),d="Assertion failed";if(c){d+=": "+c;var e=b}throw new va(""+d,e||[]);}return a};var xa=Array.prototype,ya=xa.indexOf?function(a,c,b){wa(a.length!=p);return xa.indexOf.call(a,c,b)}:function(a,c,b){b=b==p?0:b<0?Math.max(0,a.length+b):b;if(typeof a=="string"){if(typeof c!="string"||c.length!=1)return-1;return a.indexOf(c,b)}for(b=b;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1};function za(a,c){this.x=a!==undefined?a:0;this.y=c!==undefined?c:0}za.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function Aa(a,c){this.x=Number(a)||0;this.y=Number(c)||0}w(Aa,za);function Ba(a){return Math.sqrt(a.x*a.x+a.y*a.y)}Aa.prototype.scale=function(a){this.x*=a;this.y*=a;return this};Aa.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};function Ca(a,c){a.x-=c.x;a.y-=c.y;return a};function C(a,c){if(a===undefined)a=0;this.x=a;if(c===undefined)c=0;this.y=c}w(C,Aa);r=C.prototype;r.ma=function(){this.y=this.x=0};r.g=function(a,c){this.x=a;this.y=c};function I(a,c){a.x=c.x;a.y=c.y}r.zd=function(){return new C(this.x,this.y)};function Da(a,c){var b=a.x;a.x=c.a.x*b+c.b.x*a.y;a.y=c.a.y*b+c.b.y*a.y}r.dc=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};r.Ec=function(){return isFinite(this.x)&&isFinite(this.y)};function M(){this.D=new C;this.B=new C}M.prototype.Ec=function(){var a=this.B.x,c=this.B.y;a=this.B.x;c=this.B.y;a-=this.D.x;c-=this.D.y;return a=a>=0&&c>=0&&this.D.Ec()&&this.B.Ec()};var Ea=Math.PI,Fa=2/180*Ea,Ga=8/180*Ea,Ha=2/180/1;function N(){this.Ac=[];this.C=p;for(var a=0;a<64;a++)this.Ac[a]=p;this.position=new C(0,0);this.rotation=0;this.mf=new C(0,0);this.hf=this.lf=this.Fd=0;this.gf=m;this.Af=this.jf=q}function O(a,c){for(var b=0;b<64;++b)if(a.Ac[b]==p){a.Ac[b]=c;break}};function Ia(){this.type=Ja;this.C=p;this.Aa=new C(0,0);this.zb=0;this.$a=0.2;this.za=this.Sa=0;this.Ta=1;this.Ya=65535;this.Pb=0}Ia.prototype.Ta=0;Ia.prototype.Ya=0;Ia.prototype.Pb=0;function La(){this.type=Ja;this.C=p;this.Aa=new C(0,0);this.zb=0;this.$a=0.2;this.za=this.Sa=0;this.Ta=1;this.Ya=65535;this.Pb=0;this.type=Ma;this.S=new C(1,1)}w(La,Ia);function P(a,c,b){if(a==p)a=0;this.a=new C;this.b=new C;if(c!=p&&b!=p){I(this.a,c);I(this.b,b)}else{c=Math.cos(a);a=Math.sin(a);this.a.x=c;this.b.x=-a;this.a.y=a;this.b.y=c}}r=P.prototype;r.g=function(a){var c=Math.cos(a);a=Math.sin(a);this.a.x=c;this.b.x=-a;this.a.y=a;this.b.y=c};r.zd=function(){return new P(0,this.a,this.b)};function Na(a,c){I(a.a,c.a);I(a.b,c.b)}function Oa(a,c){a.a.x+=c.a.x;a.a.y+=c.a.y;a.b.x+=c.b.x;a.b.y+=c.b.y}r.ma=function(){this.a.x=0;this.b.x=0;this.a.y=0;this.b.y=0};
function Pa(a,c){var b=a.a.x,d=a.b.x,e=a.a.y,f=a.b.y,g;g=1/(b*f-d*e);c.a.x=g*f;c.b.x=-g*d;c.a.y=-g*e;c.b.y=g*b;return c}r.Dd=function(a,c,b){var d=this.a.x,e=this.b.x,f=this.a.y,g=this.b.y,h;h=1/(d*g-e*f);a.x=h*(g*c-e*b);a.y=h*(d*b-f*c);return a};r.dc=function(){this.a.dc();this.b.dc()};function Qa(a,c){this.d=new P;this.c=new C;this.db=a.C;this.na=a.$a;this.pa=a.Sa;this.w=c;this.ba=Q;this.qc=0;this.Ta=a.Ta;this.Ya=a.Ya;this.oc=a.Pb}Qa.prototype.Xc=aa();Qa.prototype.gc=ba("p");Qa.prototype.ec=function(){if(this.ba!=Q){this.w.Q.Qa.ec(this.ba);this.ba=Q}};Qa.prototype.Ed=aa();var Ja=-1,Ma=1;function Ra(){this.type=Ja;this.C=p;this.Aa=new C(0,0);this.zb=0;this.$a=0.2;this.za=this.Sa=0;this.Ta=1;this.Ya=65535;this.type=this.Pb=0;this.vb=1}w(Ra,Ia);function Sa(){this.eb=this.hc=0;this.ia=new C(0,0)};function Ta(a,c,b){this.d=new P;this.c=new C;this.db=a.C;this.na=a.$a;this.pa=a.Sa;this.w=c;this.ba=Q;this.qc=0;this.Ta=a.Ta;this.Ya=a.Ya;this.oc=a.Pb;this.Ra=new C;this.Ra.g(a.Aa.x-b.x,a.Aa.y-b.y);this.qa=0;this.ja=a.vb;Na(this.d,this.w.d);a=this.d.a.x*this.Ra.x+this.d.b.x*this.Ra.y;c=this.d.a.y*this.Ra.x+this.d.b.y*this.Ra.y;this.c.x=this.w.c.x+a;this.c.y=this.w.c.y+c;this.qc=Math.sqrt(a*a+c*c)+this.ja;a=new M;a.D.g(this.c.x-this.ja,this.c.y-this.ja);a.B.g(this.c.x+this.ja,this.c.y+this.ja);c=this.w.Q.Qa;
this.ba=c.ic(a)?Ua(c,a,this):Q;this.ba==Q&&Va(this.w)}w(Ta,Qa);Ta.prototype.Ed=function(a,c,b,d){Na(this.d,d);this.c.x=d.a.x*this.Ra.x+d.b.x*this.Ra.y+b.x;this.c.y=d.a.y*this.Ra.x+d.b.y*this.Ra.y+b.y;if(this.ba!=Q){b=a.x+(c.a.x*this.Ra.x+c.b.x*this.Ra.y);c=a.y+(c.a.y*this.Ra.x+c.b.y*this.Ra.y);d=Math.max(b,this.c.x);var e=Math.max(c,this.c.y);a=new M;a.D.g(Math.min(b,this.c.x)-this.ja,Math.min(c,this.c.y)-this.ja);a.B.g(d+this.ja,e+this.ja);b=this.w.Q.Qa;b.ic(a)?b.le(this.ba,a):Va(this.w)}};
Ta.prototype.Xc=function(a){if(this.ba!=Q){a.ec(this.ba);var c=new M;c.D.g(this.c.x-this.ja,this.c.y-this.ja);c.B.g(this.c.x+this.ja,this.c.y+this.ja);this.ba=a.ic(c)?Ua(a,c,this):Q;this.ba==Q&&Va(this.w)}};function Wa(){this.Da=new P;this.ia=new C;this.S=new C};function Xa(a,c,b){this.d=new P;this.c=new C;this.db=a.C;this.na=a.$a;this.pa=a.Sa;this.w=c;this.ba=Q;this.qc=0;this.Ta=a.Ta;this.Ya=a.Ya;this.oc=a.Pb;this.Ia=new M;this.la=new P;this.Ca=new C;this.t=new Wa;var d=0,e;c=new M;this.u=Array(8);this.Ub=Array(8);this.bb=Array(8);this.qa=2;var f=new P(a.zb);if(a.type==Ma){this.Ca.x=a.Aa.x-b.x;this.Ca.y=a.Aa.y-b.y;this.Oa=4;b=a.S.x;e=a.S.y;d=Math.max(0,b-0.3);var g=Math.max(0,e-0.3);a=this.u[0]=new C;a.x=f.a.x*b+f.b.x*e;a.y=f.a.y*b+f.b.y*e;a=this.u[1]=new C;
a.x=f.a.x*-b+f.b.x*e;a.y=f.a.y*-b+f.b.y*e;a=this.u[2]=new C;a.x=f.a.x*-b+f.b.x*-e;a.y=f.a.y*-b+f.b.y*-e;a=this.u[3]=new C;a.x=f.a.x*b+f.b.x*-e;a.y=f.a.y*b+f.b.y*-e;a=this.Ub[0]=new C;a.x=f.a.x*d+f.b.x*g;a.y=f.a.y*d+f.b.y*g;a=this.Ub[1]=new C;a.x=f.a.x*-d+f.b.x*g;a.y=f.a.y*-d+f.b.y*g;a=this.Ub[2]=new C;a.x=f.a.x*-d+f.b.x*-g;a.y=f.a.y*-d+f.b.y*-g;a=this.Ub[3]=new C;a.x=f.a.x*d+f.b.x*-g;a.y=f.a.y*d+f.b.y*-g}else{this.Oa=a.Bc;d=a.Hb;e=a.Bc;for(var h=g=0,i=0,j=1/3,k=0;k<e;++k){var n=d[k].x,l=d[k].y,o=
k+1<e?d[k+1].x:d[0].x,s=k+1<e?d[k+1].y:d[0].y,v=0.5*((n-0)*(s-0)-(l-0)*(o-0));i+=v;g+=v*j*(0+n+o);h+=v*j*(0+l+s)}g*=1/i;h*=1/i;Ya.g(g,h);g=Ya.x;h=Ya.y;this.Ca.x=a.Aa.x+(f.a.x*g+f.b.x*h)-b.x;this.Ca.y=a.Aa.y+(f.a.y*g+f.b.y*h)-b.y;for(d=0;d<this.Oa;++d){this.u[d]=new C;this.Ub[d]=new C;b=a.Hb[d].x-g;e=a.Hb[d].y-h;this.u[d].x=f.a.x*b+f.b.x*e;this.u[d].y=f.a.y*b+f.b.y*e;b=this.u[d].x;e=this.u[d].y;i=Math.sqrt(b*b+e*e);if(i>Number.MIN_VALUE){b*=1/i;e*=1/i}this.Ub[d].x=this.u[d].x-0.3*b;this.Ub[d].y=this.u[d].y-
0.3*e}}a=f=Number.MAX_VALUE;b=-Number.MAX_VALUE;e=-Number.MAX_VALUE;for(d=this.qc=0;d<this.Oa;++d){g=this.u[d];f=Math.min(f,g.x);a=Math.min(a,g.y);b=Math.max(b,g.x);e=Math.max(e,g.y);this.qc=Math.max(this.qc,Ba(g))}d=this.t.Da;d.a.x=1;d.b.x=0;d.a.y=0;d.b.y=1;this.t.ia.g((f+b)*0.5,(a+e)*0.5);this.t.S.g((b-f)*0.5,(e-a)*0.5);for(d=a=f=0;d<this.Oa;++d){this.bb[d]=new C;f=d;a=d+1<this.Oa?d+1:0;this.bb[d].x=this.u[a].y-this.u[f].y;this.bb[d].y=-(this.u[a].x-this.u[f].x);f=this.bb[d];a=Ba(f);if(!(a<Number.MIN_VALUE)){a=
1/a;f.x*=a;f.y*=a}}for(d=0;d<this.Oa;++d);Na(this.d,this.w.d);this.c.x=this.w.c.x+(this.d.a.x*this.Ca.x+this.d.b.x*this.Ca.y);this.c.y=this.w.c.y+(this.d.a.y*this.Ca.x+this.d.b.y*this.Ca.y);Za.a.x=this.d.a.x*this.t.Da.a.x+this.d.b.x*this.t.Da.a.y;Za.a.y=this.d.a.y*this.t.Da.a.x+this.d.b.y*this.t.Da.a.y;Za.b.x=this.d.a.x*this.t.Da.b.x+this.d.b.x*this.t.Da.b.y;Za.b.y=this.d.a.y*this.t.Da.b.x+this.d.b.y*this.t.Da.b.y;Za.dc();b=Za.a.x*this.t.S.x+Za.b.x*this.t.S.y;e=Za.a.y*this.t.S.x+Za.b.y*this.t.S.y;
f=this.c.x+(this.d.a.x*this.t.ia.x+this.d.b.x*this.t.ia.y);a=this.c.y+(this.d.a.y*this.t.ia.x+this.d.b.y*this.t.ia.y);c.D.x=f-b;c.D.y=a-e;c.B.x=f+b;c.B.y=a+e;f=this.w.Q.Qa;this.ba=f.ic(c)?Ua(f,c,this):Q;this.ba==Q&&Va(this.w)}w(Xa,Qa);Xa.prototype.Ia=new M;Xa.prototype.la=new P;
Xa.prototype.Ed=function(a,c,b,d){Na(this.d,d);this.c.x=this.w.c.x+(d.a.x*this.Ca.x+d.b.x*this.Ca.y);this.c.y=this.w.c.y+(d.a.y*this.Ca.x+d.b.y*this.Ca.y);if(this.ba!=Q){var e,f;e=c.a;f=c.b;var g=this.t.Da.a,h=this.t.Da.b;this.la.a.x=e.x*g.x+f.x*g.y;this.la.a.y=e.y*g.x+f.y*g.y;this.la.b.x=e.x*h.x+f.x*h.y;this.la.b.y=e.y*h.x+f.y*h.y;this.la.dc();e=this.Ca.x+this.t.ia.x;f=this.Ca.y+this.t.ia.y;g=a.x+(c.a.x*e+c.b.x*f);a=a.y+(c.a.y*e+c.b.y*f);e=this.la.a.x*this.t.S.x+this.la.b.x*this.t.S.y;f=this.la.a.y*
this.t.S.x+this.la.b.y*this.t.S.y;this.Ia.D.x=g-e;this.Ia.D.y=a-f;this.Ia.B.x=g+e;this.Ia.B.y=a+f;e=d.a;f=d.b;g=this.t.Da.a;h=this.t.Da.b;this.la.a.x=e.x*g.x+f.x*g.y;this.la.a.y=e.y*g.x+f.y*g.y;this.la.b.x=e.x*h.x+f.x*h.y;this.la.b.y=e.y*h.x+f.y*h.y;this.la.dc();e=this.Ca.x+this.t.ia.x;f=this.Ca.y+this.t.ia.y;g=b.x+(d.a.x*e+d.b.x*f);a=b.y+(d.a.y*e+d.b.y*f);e=this.la.a.x*this.t.S.x+this.la.b.x*this.t.S.y;f=this.la.a.y*this.t.S.x+this.la.b.y*this.t.S.y;this.Ia.D.x=Math.min(this.Ia.D.x,g-e);this.Ia.D.y=
Math.min(this.Ia.D.y,a-f);this.Ia.B.x=Math.max(this.Ia.B.x,g+e);this.Ia.B.y=Math.max(this.Ia.B.y,a+f);b=this.w.Q.Qa;b.ic(this.Ia)?b.le(this.ba,this.Ia):Va(this.w)}};Xa.prototype.Xc=function(a){if(this.ba!=Q){a.ec(this.ba);var c=new P(0,A(this.d,this.t.Da.a),A(this.d,this.t.Da.b));c=new P(0,new C(E(c.a.x),E(c.a.y)),new C(E(c.b.x),E(c.b.y)));c=A(c,this.t.S);var b=A(this.d,this.t.ia);b.add(this.c);var d=new M;I(d.D,b);Ca(d.D,c);I(d.B,b);d.B.add(c);this.ba=a.ic(d)?Ua(a,d,this):Q;this.ba==Q&&Va(this.w)}};
var Ya=new C,Za=new P;function $a(a,c){this.Qe=new P;this.c=new C;I(this.c,a.position);this.be=new C;I(this.be,this.c);var b=0,d,e;this.z=0;this.n=a.rotation;this.d=new P(0);this.d.g(this.n);this.Ie=this.n;this.Q=c;this.yf=H(1-a.lf,0,1);this.qf=H(1-a.hf,0,1);this.Lc=new C(0,0);this.Ma=this.Je=0;var f=Array(64);for(b=0;b<64;b++)f[b]=new Sa;this.ac=0;this.Ab=new C(0,0);for(b=0;b<64;++b){d=a.Ac[b];if(d==p)break;e=f[b];var g=d,h=e;h.ia=new C(0,0);if(g.za==0){h.eb=0;h.ia.g(0,0);h.hc=0}switch(g.type){case 0:h.eb=g.za*Ea*g.vb*
g.vb;h.ia.g(0,0);h.hc=0.5*h.eb*g.vb*g.vb;break;case Ma:h.eb=4*g.za*g.S.x*g.S.y;h.ia.g(0,0);h.hc=h.eb/3*oa(g.S,g.S);break;case 2:h=h;var i=g.Hb,j=g.Bc;g=g.za;var k=new C;k.ma();for(var n=0,l=0,o=new C(0,0),s=1/3,v=0;v<j;++v){var u=o,B=i[v],y=v+1<j?i[v+1]:i[0],x=qa(B,u),z=qa(y,u),J=x.x*z.y-x.y*z.x,D=0.5*J;n+=D;var K=new C;I(K,u);K.add(B);K.add(y);K.scale(s*D);k.add(K);B=u.x;u=u.y;y=x.x;x=x.y;D=z.x;z=z.y;l+=J*(s*(0.25*(y*y+D*y+D*D)+(B*y+B*D))+0.5*B*B+(s*(0.25*(x*x+z*x+z*z)+(u*x+u*z))+0.5*u*u))}h.eb=
g*n;k.scale(1/n);h.ia=k;l=g*(l-n*oa(k,k));h.hc=l;break;default:h.eb=0;h.ia.g(0,0);h.hc=0}this.Ma+=e.eb;this.Ab.x+=e.eb*(d.Aa.x+e.ia.x);this.Ab.y+=e.eb*(d.Aa.y+e.ia.y);++this.ac}if(this.Ma>0){this.Ab.scale(1/this.Ma);this.c.add(A(this.d,this.Ab))}else this.z|=ab;for(b=this.Jc=0;b<this.ac;++b){d=a.Ac[b];e=f[b];this.Jc+=e.hc;d=qa(pa(d.Aa,e.ia),this.Ab);this.Jc+=e.eb*oa(d,d)}this.i=this.Ma>0?1/this.Ma:0;if(this.Jc>0&&a.Af==q)this.m=1/this.Jc;else this.m=this.Jc=0;this.f=pa(a.mf,new C(-a.Fd*this.Ab.y,
a.Fd*this.Ab.x));this.l=a.Fd;this.Gb=this.p=this.H=this.aa=this.X=p;for(b=0;b<this.ac;++b){d=a.Ac[b];a:{e=d;f=this.Ab;switch(e.type){case 0:e=new Ta(e,this,f);break a;case Ma:case 2:e=new Xa(e,this,f);break a}e=p}e.p=this.Gb;this.Gb=e}this.vc=0;if(a.gf)this.z|=bb;if(a.jf)this.z|=R;if(this.z&R||this.i==0){this.f.g(0,0);this.l=0}this.db=a.C}function cb(a){a.z&=~R;a.vc=0}$a.prototype.gc=ba("p");function Va(a){a.z|=db;a.f.ma();a.l=0;for(a=a.Gb;a!=p;a=a.p)a.ec()}var ab=1,db=2,R=8,bb=16;function eb(){this.v=this.G=this.value=0}function fb(a,c){var b=a.value,d=a.G,e=a.v;a.value=c.value;a.G=c.G;a.v=c.v;c.value=b;c.G=d;c.v=e};function gb(){this.fd=[0,0];this.vd=[0,0]};function hb(){this.Ha=this.Ga=0};function ib(){}ib.prototype={oe:function(){this.status|=jb},Ue:function(){this.status&=~jb},je:function(){return(this.status&jb)==jb},cf:function(){this.status|=kb},Ve:function(){this.status&=~kb},Xe:function(){return(this.status&kb)==kb},bf:function(){this.status|=lb},ke:function(){return(this.status&lb)==lb},Ga:0,Ha:0,next:0,status:0};ib.prototype.re=p;var Q=65535,jb=1,kb=2,lb=4;function mb(){var a=0;this.Vb=Array(8192);for(a=0;a<8192;++a)this.Vb[a]=65535;this.oa=Array(8192);for(a=0;a<8192;++a)this.oa[a]=new ib;this.Wa=Array(8192);for(a=0;a<8192;++a)this.Wa[a]=new hb;for(a=0;a<8192;++a){this.oa[a].Ga=Q;this.oa[a].Ha=Q;this.oa[a].C=p;this.oa[a].status=0;this.oa[a].next=a+1}this.oa[8191].next=65535;this.ae=0}
mb.prototype={We:function(a,c){this.Qa=a;this.Rd=c},xd:function(a,c){var b=this.Te(a,c);if(b.je()==q){b.oe();this.Wa[this.Db].Ga=b.Ga;this.Wa[this.Db].Ha=b.Ha;++this.Db}b.Ve()},Bd:function(a,c){var b=nb(this,a,c);if(b!=p){if(b.je()==q){b.oe();this.Wa[this.Db].Ga=b.Ga;this.Wa[this.Db].Ha=b.Ha;++this.Db}b.cf()}},Te:function(a,c){if(a>c){var b=a;a=c;c=b}b=ob(a,c)&8191;var d=pb(this,a,c,b);if(d!=p)return d;var e=this.md;d=this.oa[e];this.md=d.next;d.Ga=a;d.Ha=c;d.status=0;d.C=p;d.next=this.Vb[b];this.Vb[b]=
e;++this.ae;return d},af:function(a,c){if(a>c){var b=a;a=c;c=b}for(var d=ob(a,c)&8191,e=this.Vb[d],f=p;e!=65535;)if(this.oa[e].Ga==a&&this.oa[e].Ha==c){b=e;if(f)f.next=this.oa[e].next;else this.Vb[d]=this.oa[e].next;d=this.oa[b];e=d.C;d.next=this.md;d.Ga=Q;d.Ha=Q;d.C=p;d.status=0;this.md=b;--this.ae;return e}else{f=this.oa[e];e=f.next}return p},Qa:p,Rd:p,md:0,ae:0,Wa:p,Db:0,Vb:p};function nb(a,c,b){if(c>b){var d=c;c=b;b=d}return pb(a,c,b,ob(c,b)&8191)}
function pb(a,c,b,d){for(d=a.Vb[d];d!=65535&&(a.oa[d].Ga==c&&a.oa[d].Ha==b)==q;)d=a.oa[d].next;if(d==65535)return p;return a.oa[d]}
mb.prototype.Cc=function(){var a=0,c=0,b=this.Qa.ya,d=[];for(a=0;a<this.Db;++a){var e=nb(this,this.Wa[a].Ga,this.Wa[a].Ha);e.Ue();var f=b[e.Ga],g=b[e.Ha];if(e.Xe()){e.ke()==m&&this.Rd.ne(f.C,g.C,e.C);this.Wa[c].Ga=e.Ga;this.Wa[c].Ha=e.Ha;++c}else if(e.ke()==q){e.re=this.Rd.me(f.C,g.C);d.push(e.re);e.bf()}}for(a=0;a<c;++a)this.af(this.Wa[a].Ga,this.Wa[a].Ha);this.Db=0;return d};
function ob(a,c){var b=c<<16&4294901760|a;b=~b+(b<<15&4294934528);b^=b>>12&1048575;b+=b<<2&4294967292;b^=b>>4&268435455;b*=2057;b^=b>>16&65535;return b};function qb(){this.Ba=[0,0];this.Ja=[0,0];this.timeStamp=this.cc=0;this.C=p}qb.prototype={gc:function(){return this.Ba[0]},Cd:function(a){this.Ba[0]=a},Ec:function(){return this.cc!=65535}};function rb(a,c){this.cb=new mb;this.ya=Array(8192);this.Ua=Array(2048);this.uc=Array(1024);this.Yb=new C;var b=0;this.cb.We(this,c);this.ha=a;for(b=this.Eb=0;b<1024;b++)this.uc[b]=0;this.Ua=Array(2);for(b=0;b<2;b++){this.Ua[b]=Array(2048);for(var d=0;d<2048;d++)this.Ua[b][d]=new eb}b=a.B.x;d=a.B.y;b-=a.D.x;d-=a.D.y;this.Yb.x=65535/b;this.Yb.y=65535/d;for(b=0;b<1023;++b){d=new qb;this.ya[b]=d;d.Cd(b+1);d.timeStamp=0;d.cc=65535;d.C=p}d=new qb;this.ya[1023]=d;d.Cd(Q);d.timeStamp=0;d.cc=65535;d.C=p;
this.nd=0;this.xc=1;this.ub=0}
rb.prototype={ic:function(a){var c,b,d,e;c=a.D.x;b=a.D.y;c-=this.ha.B.x;b-=this.ha.B.y;d=this.ha.D.x;e=this.ha.D.y;d-=a.B.x;e-=a.B.y;c=F(c,d);b=F(b,e);return F(c,b)<0},ec:function(a){for(var c=this.ya[a],b=2*this.Eb,d=0;d<2;++d){var e=this.Ua[d],f=c.Ba[d],g=c.Ja[d],h=e[f].value,i=e[g].value,j=[],k=0,n=g-f-1,l,o;for(k=0;k<n;k++){j[k]=new eb;l=j[k];o=e[f+1+k];l.value=o.value;l.G=o.G;l.v=o.v}n=j.length;var s=f;for(k=0;k<n;k++){o=j[k];l=e[s+k];l.value=o.value;l.G=o.G;l.v=o.v}j=[];n=b-g-1;for(k=0;k<n;k++){j[k]=
new eb;l=j[k];o=e[g+1+k];l.value=o.value;l.G=o.G;l.v=o.v}n=j.length;s=g-1;for(k=0;k<n;k++){o=j[k];l=e[s+k];l.value=o.value;l.G=o.G;l.v=o.v}n=b-2;for(j=f;j<n;++j){k=this.ya[e[j].G];if((e[j].value&1)==0)k.Ba[d]=j;else k.Ja[d]=j}n=g-1;for(f=f;f<n;++f)e[f].v--;this.Fc([0],[0],h,i,e,b-2,d)}for(b=0;b<this.ub;++b)this.cb.Bd(a,this.uc[b]);this.cb.Cc();this.ub=0;this.Ad();c.C=p;c.cc=65535;c.Ba[0]=65535;c.Ba[1]=65535;c.Ja[0]=65535;c.Ja[1]=65535;c.Cd(this.nd);this.nd=a;--this.Eb},le:function(a,c){var b=0,d=
0,e,f,g=0,h;if(!(a==Q||1024<=a))if(c.Ec()!=q){var i=2*this.Eb,j=this.ya[a],k=new gb;this.yd(k.fd,k.vd,c);var n=new gb;for(b=0;b<2;++b){n.fd[b]=this.Ua[b][j.Ba[b]].value;n.vd[b]=this.Ua[b][j.Ja[b]].value}for(b=0;b<2;++b){var l=this.Ua[b],o=j.Ba[b],s=j.Ja[b],v=k.fd[b],u=k.vd[b],B=v-l[o].value,y=u-l[s].value;l[o].value=v;l[s].value=u;if(B<0)for(d=o;d>0&&v<l[d-1].value;){e=l[d];f=l[d-1];g=f.G;h=this.ya[f.G];f.v++;if((f.value&1)==1==m){this.Yc(k,h)&&this.cb.xd(a,g);h.Ja[b]++;e.v++}else{h.Ba[b]++;e.v--}j.Ba[b]--;
fb(e,f);--d}if(y>0)for(d=s;d<i-1&&l[d+1].value<=u;){e=l[d];f=l[d+1];g=f.G;h=this.ya[g];f.v++;if((f.value&1)==0==m){this.Yc(k,h)&&this.cb.xd(a,g);h.Ba[b]--;e.v++}else{h.Ja[b]--;e.v--}j.Ja[b]++;fb(e,f);d++}if(B>0)for(d=o;d<i-1&&l[d+1].value<=v;){e=l[d];f=l[d+1];g=f.G;h=this.ya[g];f.v--;if((f.value&1)==1){this.Yc(n,h)&&this.cb.Bd(a,g);h.Ja[b]--;e.v--}else{h.Ba[b]--;e.v++}j.Ba[b]++;fb(e,f);d++}if(y<0)for(d=s;d>0&&u<l[d-1].value;){e=l[d];f=l[d-1];g=f.G;h=this.ya[g];f.v--;if((f.value&1)==0==m){this.Yc(n,
h)&&this.cb.Bd(a,g);h.Ba[b]++;e.v--}else{h.Ja[b]++;e.v++}j.Ja[b]--;fb(e,f);d--}}}},$e:function(a,c,b){var d=[],e=[];this.yd(d,e,a);a=[0];var f=[0];this.Fc(a,f,d[0],e[0],this.Ua[0],2*this.Eb,0);this.Fc(a,f,d[1],e[1],this.Ua[1],2*this.Eb,1);for(e=d=0;e<this.ub&&d<b;++e,++d)c[e]=this.ya[this.uc[e]].C;this.ub=0;this.Ad();return d},yd:function(a,c,b){var d=b.D.x,e=b.D.y;d=d<this.ha.B.x?d:this.ha.B.x;e=e<this.ha.B.y?e:this.ha.B.y;d=F(d,this.ha.D.x);e=F(e,this.ha.D.y);var f=b.B.x;b=b.B.y;f=f<this.ha.B.x?
f:this.ha.B.x;b=b<this.ha.B.y?b:this.ha.B.y;f=F(f,this.ha.D.x);b=F(b,this.ha.D.y);a[0]=this.Yb.x*(d-this.ha.D.x)&65534;c[0]=this.Yb.x*(f-this.ha.D.x)&65535|1;a[1]=this.Yb.y*(e-this.ha.D.y)&65534;c[1]=this.Yb.y*(b-this.ha.D.y)&65535|1},Yc:function(a,c){for(var b=0;b<2;++b){var d=this.Ua[b];if(a.fd[b]>d[c.Ja[b]].value)return q;if(a.vd[b]<d[c.Ba[b]].value)return q}return m},Fc:function(a,c,b,d,e,f,g){b=sb(e,f,b);d=sb(e,f,d);for(f=b;f<d;++f)(e[f].value&1)==0&&this.ie(e[f].G);if(b>0){f=b-1;for(var h=e[f].v;h;){if((e[f].value&
1)==0)if(b<=this.ya[e[f].G].Ja[g]){this.ie(e[f].G);--h}--f}}a[0]=b;c[0]=d},ie:function(a){var c=this.ya[a];if(c.timeStamp<this.xc){c.timeStamp=this.xc;c.cc=1}else{c.cc=2;this.uc[this.ub]=a;++this.ub}},Ad:function(){if(this.xc==65535){for(var a=0;a<1024;++a)this.ya[a].timeStamp=0;this.xc=1}else++this.xc},cb:new mb,ya:Array(8192),Ua:Array(2048),uc:Array(1024),ub:0,ha:p,Yb:new C,Eb:0,xc:0};rb.prototype.Cc=function(){return this.cb.Cc()};
function Ua(a,c,b){var d=0,e,f=a.nd;e=a.ya[f];a.nd=e.gc();e.cc=0;e.C=b;b=2*a.Eb;e=[];var g=[];a.yd(e,g,c);for(c=0;c<2;++c){var h=a.Ua[c],i=0,j=0;i=[i];j=[j];a.Fc(i,j,e[c],g[c],h,b,c);i=i[0];j=j[0];d=[];var k=0,n=b-j,l,o;for(k=0;k<n;k++){d[k]=new eb;l=d[k];o=h[j+k];l.value=o.value;l.G=o.G;l.v=o.v}n=d.length;var s=j+2;for(k=0;k<n;k++){o=d[k];l=h[s+k];l.value=o.value;l.G=o.G;l.v=o.v}d=[];n=j-i;for(k=0;k<n;k++){d[k]=new eb;l=d[k];o=h[i+k];l.value=o.value;l.G=o.G;l.v=o.v}n=d.length;s=i+1;for(k=0;k<n;k++){o=
d[k];l=h[s+k];l.value=o.value;l.G=o.G;l.v=o.v}++j;h[i].value=e[c];h[i].G=f;h[j].value=g[c];h[j].G=f;h[i].v=i==0?0:h[i-1].v;h[j].v=h[j-1].v;for(d=i;d<j;++d)h[d].v++;for(d=i;d<b+2;++d){i=a.ya[h[d].G];if((h[d].value&1)==0)i.Ba[c]=d;else i.Ja[c]=d}}++a.Eb;for(b=0;b<a.ub;++b)a.cb.xd(f,a.uc[b]);a.cb.Cc();a.ub=0;a.Ad();return f}function sb(a,c,b){var d=0;for(c=c-1;d<=c;){var e=Math.floor((d+c)/2);if(a[e].value>b)c=e-1;else if(a[e].value<b)d=e+1;else return e}return d};var tb=new (aa());function S(){this.next=this.r=this.Ea=this.ra=p};function ub(){this.ge=this.Hd=this.Gd=p};function vb(a,c){this.o=new S;this.q=new S;this.z=0;if(!a||!c)this.K=this.J=p;else{this.J=a;this.K=c;this.Fa=0;this.na=Math.sqrt(this.J.na*this.K.na);this.pa=F(this.J.pa,this.K.pa);this.p=this.H=p;this.o.Ea=p;this.o.r=p;this.o.next=p;this.o.ra=p;this.q.Ea=p;this.q.r=p;this.q.next=p;this.q.ra=p}}vb.prototype={fc:ca(p),gc:ba("p"),Dc:aa()};function wb(a){this.Jf=a;this.df=this.ff=this.ef=this.Hf=0};function xb(){this.Lb=0;this.T=new wb(this)}xb.prototype.g=function(a){yb(this,a.Lb)};xb.prototype.zd=function(){var a=new xb;yb(a,this.Lb);return a};function yb(a,c){a.Lb=c;a.T.ff=a.Lb&255;a.T.If=(a.Lb&65280)>>8&255;a.T.ef=(a.Lb&16711680)>>16&255;a.T.df=(a.Lb&4278190080)>>24&255};function zb(){this.wb=new C;this.id=new xb};function Ab(a,c,b,d){var e=0,f=c[0].wb,g=c[1].wb,h=oa(b,c[0].wb)-d;b=oa(b,c[1].wb)-d;if(h<=0)a[e++]=c[0];if(b<=0)a[e++]=c[1];if(h*b<0){b=h/(h-b);d=a[e].wb;d.x=f.x+b*(g.x-f.x);d.y=f.y+b*(g.y-f.y);a[e].id=h>0?c[0].id:c[1].id;++e}return e}
function Bb(a,c,b){var d=a.u,e=b.Oa,f=b.u,g=a.bb[c].x,h=a.bb[c].y,i=g,j=a.d;g=j.a.x*i+j.b.x*h;h=j.a.y*i+j.b.y*h;var k=g,n=h;j=b.d;i=k*j.a.x+n*j.a.y;n=k*j.b.x+n*j.b.y;k=i;i=0;j=Number.MAX_VALUE;for(var l=0;l<e;++l){var o=f[l];o=o.x*k+o.y*n;if(o<j){j=o;i=l}}j=a.d;e=a.c.x+(j.a.x*d[c].x+j.b.x*d[c].y);a=a.c.y+(j.a.y*d[c].x+j.b.y*d[c].y);j=b.d;c=b.c.x+(j.a.x*f[i].x+j.b.x*f[i].y);b=b.c.y+(j.a.y*f[i].x+j.b.y*f[i].y);c-=e;b-=a;return c*g+b*h}
function Cb(a,c,b,d){var e=c.Oa,f=b.c.x-c.c.x,g=b.c.y-c.c.y,h=f*c.d.a.x+g*c.d.a.y;g=f*c.d.b.x+g*c.d.b.y;f=0;for(var i=-Number.MAX_VALUE,j=0;j<e;++j){var k=c.bb[j].x*h+c.bb[j].y*g;if(k>i){i=k;f=j}}h=Bb(c,f,b);if(h>0&&d==q)return h;j=f-1>=0?f-1:e-1;k=Bb(c,j,b);if(k>0&&d==q)return k;var n=f+1<e?f+1:0,l=Bb(c,n,b);if(l>0&&d==q)return l;i=g=0;if(k>h&&k>l){i=-1;g=j;j=k}else if(l>h){i=1;g=n;j=l}else{a[0]=f;return h}for(;;){f=i==-1?g-1>=0?g-1:e-1:g+1<e?g+1:0;h=Bb(c,f,b);if(h>0&&d==q)return h;if(h>j){g=f;j=
h}else break}a[0]=g;return j}var Db=new C;function Eb(){this.position=new C;this.id=new xb;this.sa=this.ka=this.gb=p};function Fb(){this.R=0;this.Z=Array(2);for(var a=0;a<2;a++)this.Z[a]=new Eb;this.F=new C};function Gb(a,c){this.o=new S;this.q=new S;this.z=0;if(!a||!c)this.K=this.J=p;else{this.J=a;this.K=c;this.Fa=0;this.na=Math.sqrt(this.J.na*this.K.na);this.pa=F(this.J.pa,this.K.pa);this.p=this.H=p;this.o.Ea=p;this.o.r=p;this.o.next=p;this.o.ra=p;this.q.Ea=p;this.q.r=p;this.q.next=p;this.q.ra=p;this.xa=[new Fb];this.xa[0].R=0;this.xa[0].Z[0].ka=0;this.xa[0].Z[0].sa=0}}w(Gb,vb);
Gb.prototype.Dc=function(){var a=this.xa[0],c=this.J,b=this.K;a.R=0;var d=b.c.x-c.c.x,e=b.c.y-c.c.y,f=d*d+e*e;c=c.ja+b.ja;if(!(f>c*c)){if(f<Number.MIN_VALUE){f=-c;a.F.g(0,1)}else{var g=Math.sqrt(f);f=g-c;c=1/g;a.F.x=c*d;a.F.y=c*e}a.R=1;d=a.Z[0];yb(d.id,0);d.gb=f;d.position.x=b.c.x-b.ja*a.F.x;d.position.y=b.c.y-b.ja*a.F.y}this.Fa=this.xa[0].R>0?1:0};Gb.prototype.fc=ba("xa");function Hb(a,c){return new Gb(a,c)}function Ib(){};function Jb(a,c){this.o=new S;this.q=new S;this.z=0;if(!a||!c)this.K=this.J=p;else{this.J=a;this.K=c;this.Fa=0;this.na=Math.sqrt(this.J.na*this.K.na);this.pa=F(this.J.pa,this.K.pa);this.p=this.H=p;this.o.Ea=p;this.o.r=p;this.o.next=p;this.o.ra=p;this.q.Ea=p;this.q.r=p;this.q.next=p;this.q.ra=p;this.xa=[new Fb];if(this.J.qa!=2)throw"Assert Failed!";if(this.K.qa!=0)throw"Assert Failed!";this.xa[0].R=0;this.xa[0].Z[0].ka=0;this.xa[0].Z[0].sa=0}}w(Jb,vb);
Jb.prototype.Dc=function(){a:{var a=this.xa[0],c=this.J,b=this.K;a.R=0;var d,e,f;e=b.c.x-c.c.x;f=b.c.y-c.c.y;var g=c.d,h=e*g.a.x+f*g.a.y;f=e*g.b.x+f*g.b.y;e=h;var i=0,j=-Number.MAX_VALUE;h=b.ja;for(d=0;d<c.Oa;++d){var k=c.bb[d].x*(e-c.u[d].x)+c.bb[d].y*(f-c.u[d].y);if(k>h)break a;if(k>j){j=k;i=d}}if(j<Number.MIN_VALUE){a.R=1;f=c.bb[i];a.F.x=g.a.x*f.x+g.b.x*f.y;a.F.y=g.a.y*f.x+g.b.y*f.y;d=a.Z[0];d.id.T.Hc=i;d.id.T.kc=255;d.id.T.td=255;d.id.T.Jd=0;d.position.x=b.c.x-h*a.F.x;d.position.y=b.c.y-h*a.F.y;
d.gb=j-h}else{i=i;j=i+1<c.Oa?i+1:0;var n=c.u[j].x-c.u[i].x;k=c.u[j].y-c.u[i].y;var l=Math.sqrt(n*n+k*k);n/=l;k/=l;if(l<Number.MIN_VALUE){e=e-c.u[i].x;f=f-c.u[i].y;c=Math.sqrt(e*e+f*f);e/=c;f/=c;if(!(c>h)){a.R=1;a.F.g(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f);d=a.Z[0];d.id.T.Hc=255;d.id.T.kc=i;d.id.T.td=255;d.id.T.Jd=0;d.position.x=b.c.x-h*a.F.x;d.position.y=b.c.y-h*a.F.y;d.gb=c-h}}else{var o=(e-c.u[i].x)*n+(f-c.u[i].y)*k;d=a.Z[0];d.id.T.Hc=255;d.id.T.kc=255;d.id.T.td=255;d.id.T.Jd=0;if(o<=0){n=c.u[i].x;c=
c.u[i].y;d.id.T.kc=i}else if(o>=l){n=c.u[j].x;c=c.u[j].y;d.id.T.kc=j}else{n=n*o+c.u[i].x;c=k*o+c.u[i].y;d.id.T.Hc=i}e=e-n;f=f-c;c=Math.sqrt(e*e+f*f);e/=c;f/=c;if(!(c>h)){a.R=1;a.F.g(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f);d.position.x=b.c.x-h*a.F.x;d.position.y=b.c.y-h*a.F.y;d.gb=c-h}}}}this.Fa=this.xa[0].R>0?1:0};Jb.prototype.fc=ba("xa");function Kb(a,c){return new Jb(a,c)}function Lb(){};function Mb(a,c){this.o=new S;this.q=new S;this.z=0;if(!a||!c)this.K=this.J=p;else{this.J=a;this.K=c;this.Fa=0;this.na=Math.sqrt(this.J.na*this.K.na);this.pa=F(this.J.pa,this.K.pa);this.p=this.H=p;this.o.Ea=p;this.o.r=p;this.o.next=p;this.o.ra=p;this.q.Ea=p;this.q.r=p;this.q.next=p;this.q.ra=p;this.gd=new Fb;this.xa=[new Fb];this.xa[0].R=0}}w(Mb,vb);
Mb.prototype.Dc=function(){for(var a=this.xa[0],c=this.gd.Z,b=0;b<a.R;b++){var d=c[b],e=a.Z[b];d.ka=e.ka;d.sa=e.sa;d.id=e.id.zd()}this.gd.R=a.R;b=this.J;var f=this.K;a.R=0;var g;c=[0];d=Cb(c,b,f,q);g=c[0];if(!(d>0)){var h;c=[0];var i=Cb(c,f,b,q);h=c[0];if(!(i>0)){c=e=0;if(i>0.98*d+0.0010){d=f;i=b;e=h;c=1}else{d=b;i=f;e=g;c=0}b=[new zb,new zb];f=e;g=i;var j=d.u;i=g.Oa;h=g.u;var k=j[f+1==d.Oa?0:f+1],n=k.x,l=k.y;k=j[f];n-=k.x;l-=k.y;k=n;n=l;l=-k;k=1/Math.sqrt(n*n+l*l);n*=k;l*=k;l=l;k=n;j=d.d;n=j.a.x*
k+j.b.x*l;l=j.a.y*k+j.b.y*l;n=n;l=l;j=g.d;k=n*j.a.x+l*j.a.y;l=n*j.b.x+l*j.b.y;n=k;for(var o=j=0,s=Number.MAX_VALUE,v=0;v<i;++v){var u=v,B=v+1<i?v+1:0;k=h[B];var y=k.x,x=k.y;k=h[u];y-=k.x;x-=k.y;k=y;y=x;x=-k;k=1/Math.sqrt(y*y+x*x);y*=k;x*=k;k=y*n+x*l;if(k<s){s=k;j=u;o=B}}i=b[0];k=i.wb;I(k,h[j]);Da(k,g.d);k.add(g.c);i.id.T.td=f;i.id.T.Hc=j;i.id.T.kc=j;i=b[1];k=i.wb;I(k,h[o]);Da(k,g.d);k.add(g.c);i.id.T.td=f;i.id.T.Hc=j;i.id.T.kc=o;f=d.u;k=f[e];n=e+1<d.Oa?f[e+1]:f[0];g=n.x-k.x;h=n.y-k.y;l=g;j=d.d;g=
j.a.x*l+j.b.x*h;h=j.a.y*l+j.b.y*h;e=1/Math.sqrt(g*g+h*h);g*=e;h*=e;l=g;e=h;f=-l;i=k.x;o=k.y;l=i;j=d.d;i=j.a.x*l+j.b.x*o;o=j.a.y*l+j.b.y*o;i+=d.c.x;o+=d.c.y;k=n.x;n=n.y;l=k;j=d.d;k=j.a.x*l+j.b.x*n;n=j.a.y*l+j.b.y*n;k+=d.c.x;n+=d.c.y;d=e*i+f*o;l=-(g*i+h*o);k=g*k+h*n;n=[new zb,new zb];i=[new zb,new zb];j=0;Db.g(-g,-h);j=Ab(n,b,Db,l);if(!(j<2)){Db.g(g,h);j=Ab(i,n,Db,k);if(!(j<2)){c?a.F.g(-e,-f):a.F.g(e,f);for(g=b=0;g<2;++g){h=i[g].wb;h=e*h.x+f*h.y-d;if(h<=0){k=a.Z[b];k.gb=h;I(k.position,i[g].wb);k.id.g(i[g].id);
k.id.T.Jd=c;++b}}a.R=b}}}}if(a.R>0){c=[q,q];for(b=0;b<a.R;++b){d=a.Z[b];d.ka=0;d.sa=0;e=d.id.key;for(f=0;f<this.gd.R;++f)if(c[f]!=m){g=this.gd.Z[f];if(g.id.key==e){c[f]=m;d.ka=g.ka;d.sa=g.sa;break}}}this.Fa=1}else this.Fa=0};Mb.prototype.fc=ba("xa");function Nb(a,c){return new Mb(a,c)}function Ob(){};function Pb(a,c,b,d){T[b][d].Gd=a;T[b][d].Hd=c;T[b][d].ge=m;if(b!=d){T[d][b].Gd=a;T[d][b].Hd=c;T[d][b].ge=q}}var T=p,Qb=q;function Rb(a,c){this.o=new S;this.q=new S;this.z=0;if(!a||!c)this.K=this.J=p;else{this.J=a;this.K=c;this.Fa=0;this.na=Math.sqrt(this.J.na*this.K.na);this.pa=F(this.J.pa,this.K.pa);this.p=this.H=p;this.o.Ea=p;this.o.r=p;this.o.next=p;this.o.ra=p;this.q.Ea=p;this.q.r=p;this.q.next=p;this.q.ra=p}}w(Rb,vb);Rb.prototype.Dc=aa();Rb.prototype.fc=ca(p);function Sb(){}Sb.prototype.me=ca(p);Sb.prototype.ne=aa();function Tb(a){this.rc=new Rb;this.Q=a;this.Ud=q}w(Tb,Sb);
Tb.prototype.me=function(a,c){var b=a,d=c,e=b.w,f=d.w;if((e.z&ab)==ab&&(f.z&ab)==ab)return this.rc;if(b.w==d.w)return this.rc;a:{for(var g=f.X;g!=p;g=g.next)if(g.ra==e){e=g.Qb.Bb==q;break a}e=q}if(e)return this.rc;e=b.oc==d.oc&&b.oc!=0?b.oc>0:(b.Ya&d.Ta)!=0&&(b.Ta&d.Ya)!=0;if(e==q)return this.rc;if(f.i==0){f=b;b=d;d=f}b=b;d=d;f=this.Q.rf;if(Qb==q){T=Array(4);for(e=0;e<4;e++){T[e]=Array(4);for(g=0;g<4;g++)T[e][g]=new ub}Pb(Hb,Ib,0,0);Pb(Kb,Lb,2,0);Pb(Nb,Ob,2,2);Qb=m}e=b.qa;g=d.qa;var h=T[e][g].Gd;
if(h)if(T[e][g].ge)d=h(b,d,f);else{d=h(d,b,f);for(b=0;b<d.Fa;++b){f=d.fc()[b];f.F=new C(-f.F.x,-f.F.y)}d=d}else d=p;if(d==p)return this.rc;else{d.H=p;d.p=this.Q.aa;if(this.Q.aa!=p)this.Q.aa.H=d;this.Q.aa=d;this.Q.Tb++}return d};Tb.prototype.ne=function(a,c,b){if(b!=p)if(b!=this.rc)if(this.Ud==m)Ub(this,b);else b.z|=2};
function Ub(a,c){if(c.H)c.H.p=c.p;if(c.p)c.p.H=c.H;if(c==a.Q.aa)a.Q.aa=c.p;if(c.Fa>0){var b=c.J.w,d=c.K.w,e=c.o,f=c.q;cb(b);cb(d);if(e.r)e.r.next=e.next;if(e.next)e.next.r=e.r;if(e==b.aa)b.aa=e.next;e.r=p;e.next=p;if(f.r)f.r.next=f.next;if(f.next)f.next.r=f.r;if(f==d.aa)d.aa=f.next;f.r=p;f.next=p}b=a.Q.rf;if(c.Fa>0){cb(c.J.w);cb(c.K.w)}d=T[c.J.qa][c.K.qa].Hd;d(c,b);--a.Q.Tb};function Vb(){this.cd=new C;this.dd=new C;this.wd=this.gb=this.Re=this.ee=this.Uc=this.sa=this.ka=p};function Wb(){this.Sa=this.$a=this.$=this.W=this.Ke=p;this.R=0;this.F=new C;this.Z=Array(2);for(var a=0;a<2;a++)this.Z[a]=new Vb};function Xb(a,c,b){this.Sb=[];this.Pd=b;b=0;var d,e;for(b=this.Rb=0;b<c;++b)this.Rb+=a[b].Fa;for(b=0;b<this.Rb;b++)this.Sb[b]=new Wb;var f=0;for(b=0;b<c;++b){var g=a[b],h=g.J.w,i=g.K.w,j=g.Fa,k=g.fc(),n=g.na;g=g.pa;for(var l=h.f.x,o=h.f.y,s=i.f.x,v=i.f.y,u=h.l,B=i.l,y=0;y<j;++y){var x=k[y],z=x.F.x,J=x.F.y,D=this.Sb[f];D.W=h;D.$=i;D.Ke=x;D.F.x=z;D.F.y=J;D.R=x.R;D.$a=n;D.Sa=g;for(var K=0;K<D.R;++K){var G=x.Z[K],L=D.Z[K];L.ka=G.ka;L.sa=G.sa;L.gb=G.gb;var V=G.position.x-h.c.x,ma=G.position.y-h.c.y,na=
G.position.x-i.c.x;G=G.position.y-i.c.y;d=L.cd;e=h.d;d.x=V*e.a.x+ma*e.a.y;d.y=V*e.b.x+ma*e.b.y;d=L.dd;e=i.d;d.x=na*e.a.x+G*e.a.y;d.y=na*e.b.x+G*e.b.y;d=V*V+ma*ma;e=na*na+G*G;var Ka=V*z+ma*J,ia=na*z+G*J,ja=h.i+i.i;ja+=h.m*(d-Ka*Ka)+i.m*(e-ia*ia);L.ee=1/ja;ia=J;ja=-z;Ka=V*ia+ma*ja;ia=na*ia+G*ja;ja=h.i+i.i;ja+=h.m*(d-Ka*Ka)+i.m*(e-ia*ia);L.Re=1/ja;L.wd=0;if(L.gb>0)L.wd=-60*L.gb;V=D.F.x*(s+-B*G-l- -u*ma)+D.F.y*(v+B*na-o-u*V);if(V<-30)L.wd+=-D.Sa*V}++f}}}
Xb.prototype={Ze:function(){for(var a,c,b=0;b<this.Rb;++b){var d=this.Sb[b],e=d.W,f=d.$,g=e.i,h=e.m,i=f.i,j=f.m,k=d.F.x,n=d.F.y,l=n,o=-k,s=0,v=0;if(Yb){v=d.R;for(s=0;s<v;++s){var u=d.Z[s],B=u.ka*k+u.sa*l,y=u.ka*n+u.sa*o;c=e.d;a=u.cd;var x=c.a.x*a.x+c.b.x*a.y,z=c.a.y*a.x+c.b.y*a.y;c=f.d;a=u.dd;var J=c.a.x*a.x+c.b.x*a.y;a=c.a.y*a.x+c.b.y*a.y;e.l-=h*(x*y-z*B);e.f.x-=g*B;e.f.y-=g*y;f.l+=j*(J*y-a*B);f.f.x+=i*B;f.f.y+=i*y;u.Uc=0}}else{v=d.R;for(s=0;s<v;++s){e=d.Z[s];e.ka=0;e.sa=0;e.Uc=0}}}},xb:function(){for(var a=
0,c,b,d,e,f,g,h,i,j=0;j<this.Rb;++j){var k=this.Sb[j],n=k.W,l=k.$,o=n.l,s=n.f,v=l.l,u=l.f,B=n.i,y=n.m,x=l.i,z=l.m,J=k.F.x,D=k.F.y,K=D,G=-J,L=k.R;for(a=0;a<L;++a){c=k.Z[a];f=n.d;g=c.cd;b=f.a.x*g.x+f.b.x*g.y;d=f.a.y*g.x+f.b.y*g.y;f=l.d;g=c.dd;e=f.a.x*g.x+f.b.x*g.y;f=f.a.y*g.x+f.b.y*g.y;g=u.x+-v*f-s.x- -o*d;h=u.y+v*e-s.y-o*b;g=-c.ee*(g*J+h*D-c.wd);h=F(c.ka+g,0);g=h-c.ka;i=g*J;g=g*D;s.x-=B*i;s.y-=B*g;o-=y*(b*g-d*i);u.x+=x*i;u.y+=x*g;v+=z*(e*g-f*i);c.ka=h;g=u.x+-v*f-s.x- -o*d;h=u.y+v*e-s.y-o*b;g=c.Re*
-(g*K+h*G);h=k.$a*c.ka;h=H(c.sa+g,-h,h);g=h-c.sa;i=g*K;g=g*G;s.x-=B*i;s.y-=B*g;o-=y*(b*g-d*i);u.x+=x*i;u.y+=x*g;v+=z*(e*g-f*i);c.sa=h}n.l=o;l.l=v}},mb:function(a){for(var c=0,b,d,e=0;e<this.Rb;++e){for(var f=this.Sb[e],g=f.W,h=f.$,i=g.c,j=g.n,k=h.c,n=h.n,l=g.i,o=g.m,s=h.i,v=h.m,u=f.F.x,B=f.F.y,y=f.R,x=0;x<y;++x){var z=f.Z[x];b=g.d;d=z.cd;var J=b.a.x*d.x+b.b.x*d.y,D=b.a.y*d.x+b.b.y*d.y;b=h.d;d=z.dd;var K=b.a.x*d.x+b.b.x*d.y;b=b.a.y*d.x+b.b.y*d.y;d=(k.x+K-(i.x+J))*u+(k.y+b-(i.y+D))*B+z.gb;c=c<d?c:d;
d=-z.ee*a*H(d+0.15,-6,0);var G=z.Uc;z.Uc=F(G+d,0);d=z.Uc-G;z=d*u;d=d*B;i.x-=l*z;i.y-=l*d;j-=o*(J*d-D*z);g.d.g(j);k.x+=s*z;k.y+=s*d;n+=v*(K*d-b*z);h.d.g(n)}g.n=j;h.n=n}return c>=-0.15},Ye:function(){for(var a=0;a<this.Rb;++a)for(var c=this.Sb[a],b=c.Ke,d=0;d<c.R;++d){var e=b.Z[d],f=c.Z[d];e.ka=f.ka;e.sa=f.sa}},Pd:p,Sb:[],Rb:0};function Zb(a,c,b,d){var e=0;this.Nf=a;this.Of=c;this.Qf=b;this.kb=this.Tb=this.La=0;this.ob=Array(a);for(e=0;e<a;e++)this.ob[e]=p;this.Sd=Array(c);for(e=0;e<c;e++)this.Sd[e]=p;this.Mc=Array(b);for(e=0;e<b;e++)this.Mc[e]=p;this.Pd=d}
Zb.prototype.Dd=function(a,c){var b=0,d;for(b=0;b<this.La;++b){d=this.ob[b];if(d.i!=0){d.f.add(new C(a.Pa*pa(c,new C(d.i*d.Lc.x,d.i*d.Lc.y)).x,a.Pa*pa(c,new C(d.i*d.Lc.x,d.i*d.Lc.y)).y));d.l+=a.Pa*d.m*d.Je;d.f.scale(d.yf);d.l*=d.qf;I(d.be,d.c);d.Ie=d.n}}var e=new Xb(this.Sd,this.Tb,this.Pd);e.Ze();for(b=0;b<this.kb;++b)this.Mc[b].Kb();for(b=0;b<a.Od;++b){e.xb();for(d=0;d<this.kb;++d)this.Mc[d].xb(a)}for(b=0;b<this.La;++b){d=this.ob[b];if(d.i!=0){d.c.x+=a.Pa*d.f.x;d.c.y+=a.Pa*d.f.y;d.n+=a.Pa*d.l;d.d.g(d.n)}}for(b=
0;b<this.kb;++b);if($b)for(ac=0;ac<a.Od;++ac){d=e.mb(0.2);var f=m;for(b=0;b<this.kb;++b){var g=this.Mc[b].mb();f=f&&g}if(d&&f)break}e.Ye();for(b=0;b<this.La;++b){d=this.ob[b];if(d.i!=0){d.d.g(d.n);e=d;e.Qe.g(e.Ie);for(f=e.Gb;f!=p;f=f.p)f.Ed(e.be,e.Qe,e.c,e.d);d.Lc.g(0,0);d.Je=0}}};var ac=0;function U(){this.next=this.r=this.Qb=this.ra=p};function bc(a){this.o=new U;this.q=new U;this.qa=a.type;this.p=this.H=p;this.h=a.W;this.e=a.$;this.Bb=a.hb;this.tb=q;this.db=a.C}r=bc.prototype;r.Ib=ca(p);r.Jb=ca(p);r.gc=ba("p");r.Kb=aa();r.mb=ca(q);function cc(a){this.o=new U;this.q=new U;this.qa=a.type;this.p=this.H=p;this.h=a.W;this.e=a.$;this.Bb=a.hb;this.tb=q;this.db=a.C;this.j=new C;this.k=new C;this.ga=new C;var c,b,d;c=this.h.d;b=a.Mb.x-this.h.c.x;d=a.Mb.y-this.h.c.y;this.j.x=b*c.a.x+d*c.a.y;this.j.y=b*c.b.x+d*c.b.y;c=this.e.d;b=a.Nb.x-this.e.c.x;d=a.Nb.y-this.e.c.y;this.k.x=b*c.a.x+d*c.a.y;this.k.y=b*c.b.x+d*c.b.y;b=a.Nb.x-a.Mb.x;d=a.Nb.y-a.Mb.y;this.xf=Math.sqrt(b*b+d*d);this.V=0}w(cc,bc);r=cc.prototype;
r.Kb=function(){var a;a=this.h.d;var c=a.a.x*this.j.x+a.b.x*this.j.y,b=a.a.y*this.j.x+a.b.y*this.j.y;a=this.e.d;var d=a.a.x*this.k.x+a.b.x*this.k.y;a=a.a.y*this.k.x+a.b.y*this.k.y;this.ga.x=this.e.c.x+d-this.h.c.x-c;this.ga.y=this.e.c.y+a-this.h.c.y-b;var e=Math.sqrt(this.ga.x*this.ga.x+this.ga.y*this.ga.y);e>0.15?this.ga.scale(1/e):this.ga.ma();e=c*this.ga.y-b*this.ga.x;var f=d*this.ga.y-a*this.ga.x;this.Ma=this.h.i+this.h.m*e*e+this.e.i+this.e.m*f*f;this.Ma=1/this.Ma;if(Yb){e=this.V*this.ga.x;f=
this.V*this.ga.y;this.h.f.x-=this.h.i*e;this.h.f.y-=this.h.i*f;this.h.l-=this.h.m*(c*f-b*e);this.e.f.x+=this.e.i*e;this.e.f.y+=this.e.i*f;this.e.l+=this.e.m*(d*f-a*e)}else this.V=0};
r.xb=function(){var a;a=this.h.d;var c=a.a.x*this.j.x+a.b.x*this.j.y,b=a.a.y*this.j.x+a.b.y*this.j.y;a=this.e.d;var d=a.a.x*this.k.x+a.b.x*this.k.y;a=a.a.y*this.k.x+a.b.y*this.k.y;var e=-this.Ma*(this.ga.x*(this.e.f.x+-this.e.l*a-(this.h.f.x+-this.h.l*b))+this.ga.y*(this.e.f.y+this.e.l*d-(this.h.f.y+this.h.l*c)));this.V+=e;var f=e*this.ga.x;e=e*this.ga.y;this.h.f.x-=this.h.i*f;this.h.f.y-=this.h.i*e;this.h.l-=this.h.m*(c*e-b*f);this.e.f.x+=this.e.i*f;this.e.f.y+=this.e.i*e;this.e.l+=this.e.m*(d*e-
a*f)};
r.mb=function(){var a;a=this.h.d;var c=a.a.x*this.j.x+a.b.x*this.j.y,b=a.a.y*this.j.x+a.b.y*this.j.y;a=this.e.d;var d=a.a.x*this.k.x+a.b.x*this.k.y;a=a.a.y*this.k.x+a.b.y*this.k.y;var e=this.e.c.x+d-this.h.c.x-c,f=this.e.c.y+a-this.h.c.y-b,g=Math.sqrt(e*e+f*f);e/=g;f/=g;g=g-this.xf;g=H(g,-6,6);var h=-this.Ma*g;this.ga.g(e,f);e=h*this.ga.x;f=h*this.ga.y;this.h.c.x-=this.h.i*e;this.h.c.y-=this.h.i*f;this.h.n-=this.h.m*(c*f-b*e);this.e.c.x+=this.e.i*e;this.e.c.y+=this.e.i*f;this.e.n+=this.e.m*(d*f-a*
e);this.h.d.g(this.h.n);this.e.d.g(this.e.n);return E(g)<0.15};r.Ib=function(){return pa(this.h.c,A(this.h.d,this.j))};r.Jb=function(){return pa(this.e.c,A(this.e.d,this.k))};function dc(a){this.o=new U;this.q=new U;this.qa=a.type;this.p=this.H=p;this.h=a.W;this.e=a.$;this.Bb=a.hb;this.tb=q;this.db=a.C;this.rb=new C;this.sb=new C;this.j=new C;this.k=new C;this.U=new ec;this.tc=this.$b=this.sc=this.Zb=p;var c,b;this.uf=a.ad.h;this.h=a.ad.e;if(a.ad.qa==1){this.Zb=a.ad;I(this.rb,this.Zb.j);I(this.j,this.Zb.k);c=fc(this.Zb)}else{this.sc=a.ad;I(this.rb,this.sc.j);I(this.j,this.sc.k);c=gc(this.sc)}this.vf=a.bd.h;this.e=a.bd.e;if(a.bd.qa==1){this.$b=a.bd;I(this.sb,this.$b.j);
I(this.k,this.$b.k);b=fc(this.$b)}else{this.tc=a.bd;I(this.sb,this.tc.j);I(this.k,this.tc.k);b=gc(this.tc)}this.Y=a.Bf;this.Kc=c+this.Y*b;this.V=0}w(dc,bc);r=dc.prototype;r.Ib=function(){var a=this.h.d;return new C(this.h.c.x+(a.a.x*this.j.x+a.b.x*this.j.y),this.h.c.y+(a.a.y*this.j.x+a.b.y*this.j.y))};r.Jb=function(){var a=this.e.d;return new C(this.e.c.x+(a.a.x*this.k.x+a.b.x*this.k.y),this.e.c.y+(a.a.y*this.k.x+a.b.y*this.k.y))};
r.Kb=function(){var a=this.uf,c=this.vf,b=this.h,d=this.e,e,f,g,h=0;this.U.ma();if(this.Zb){this.U.ca=-1;h+=b.m}else{g=a.d;e=this.sc.wa;a=g.a.x*e.x+g.b.x*e.y;e=g.a.y*e.x+g.b.y*e.y;g=b.d;f=g.a.x*this.j.x+g.b.x*this.j.y;g=g.a.y*this.j.x+g.b.y*this.j.y;f=f*e-g*a;this.U.L.g(-a,-e);this.U.ca=-f;h+=b.i+b.m*f*f}if(this.$b){this.U.da=-this.Y;h+=this.Y*this.Y*d.m}else{g=c.d;e=this.tc.wa;a=g.a.x*e.x+g.b.x*e.y;e=g.a.y*e.x+g.b.y*e.y;g=d.d;f=g.a.x*this.k.x+g.b.x*this.k.y;g=g.a.y*this.k.x+g.b.y*this.k.y;f=f*e-
g*a;this.U.M.g(-this.Y*a,-this.Y*e);this.U.da=-this.Y*f;h+=this.Y*this.Y*(d.i+d.m*f*f)}this.Ma=1/h;b.f.x+=b.i*this.V*this.U.L.x;b.f.y+=b.i*this.V*this.U.L.y;b.l+=b.m*this.V*this.U.ca;d.f.x+=d.i*this.V*this.U.M.x;d.f.y+=d.i*this.V*this.U.M.y;d.l+=d.m*this.V*this.U.da};r.xb=function(){var a=this.h,c=this.e,b=-this.Ma*this.U.Wc(a.f,a.l,c.f,c.l);this.V+=b;a.f.x+=a.i*b*this.U.L.x;a.f.y+=a.i*b*this.U.L.y;a.l+=a.m*b*this.U.ca;c.f.x+=c.i*b*this.U.M.x;c.f.y+=c.i*b*this.U.M.y;c.l+=c.m*b*this.U.da};
r.mb=function(){var a=this.h,c=this.e,b=-this.Ma*(this.Kc-((this.Zb?fc(this.Zb):gc(this.sc))+this.Y*(this.$b?fc(this.$b):gc(this.tc))));a.c.x+=a.i*b*this.U.L.x;a.c.y+=a.i*b*this.U.L.y;a.n+=a.m*b*this.U.ca;c.c.x+=c.i*b*this.U.M.x;c.c.y+=c.i*b*this.U.M.y;c.n+=c.m*b*this.U.da;a.d.g(a.n);c.d.g(c.n);return m};function hc(a){this.o=new U;this.q=new U;this.qa=a.type;this.p=this.H=p;this.h=a.W;this.e=a.$;this.Bb=a.hb;this.tb=q;this.db=a.C;this.Ka=new P;this.ta=new P;this.ua=new P;this.ab=new C;this.wc=new C;this.V=new C;this.Fb=new P;this.hd=new C;I(this.wc,a.target);var c=this.wc.x-this.e.c.x,b=this.wc.y-this.e.c.y;this.ab.x=c*this.e.d.a.x+b*this.e.d.a.y;this.ab.y=c*this.e.d.b.x+b*this.e.d.b.y;this.Ce=a.Sf;this.V.ma();b=this.e.Ma;var d=2*Ea*a.Mf;c=2*b*a.Lf*d;b=b*d*d;this.od=1/(c+a.Se*b);this.xe=a.Se*b/(c+
a.Se*b)}w(hc,bc);r=hc.prototype;r.Ib=ba("wc");r.Jb=function(){var a=A(this.e.d,this.ab);a.add(this.e.c);return a};
r.Kb=function(){var a=this.e,c;c=a.d;var b=c.a.x*this.ab.x+c.b.x*this.ab.y;c=c.a.y*this.ab.x+c.b.y*this.ab.y;var d=a.i,e=a.m;this.ta.a.x=d;this.ta.b.x=0;this.ta.a.y=0;this.ta.b.y=d;this.ua.a.x=e*c*c;this.ua.b.x=-e*b*c;this.ua.a.y=-e*b*c;this.ua.b.y=e*b*b;Na(this.Ka,this.ta);Oa(this.Ka,this.ua);this.Ka.a.x+=this.od;this.Ka.b.y+=this.od;Pa(this.Ka,this.Fb);this.hd.x=a.c.x+b-this.wc.x;this.hd.y=a.c.y+c-this.wc.y;a.l*=0.98;var f=this.V.x,g=this.V.y;a.f.x+=d*f;a.f.y+=d*g;a.l+=e*(b*g-c*f)};
r.xb=function(a){var c=this.e,b;b=c.d;var d=b.a.x*this.ab.x+b.b.x*this.ab.y,e=b.a.y*this.ab.x+b.b.y*this.ab.y,f=c.f.x+-c.l*e,g=c.f.y+c.l*d;b=this.Fb;f=f+this.xe*a.Nd*this.hd.x+this.od*this.V.x;var h=g+this.xe*a.Nd*this.hd.y+this.od*this.V.y;g=-(b.a.x*f+b.b.x*h);h=-(b.a.y*f+b.b.y*h);b=this.V.x;f=this.V.y;this.V.x+=g;this.V.y+=h;g=this.V.Ef();g>a.Pa*this.Ce&&this.V.Ff(a.Pa*this.Ce/g);g=this.V.x-b;h=this.V.y-f;c.f.x+=c.i*g;c.f.y+=c.i*h;c.l+=c.m*(d*h-e*g)};r.mb=ca(m);function ec(){this.L=new C;this.M=new C}ec.prototype={ca:p,da:p,ma:function(){this.L.ma();this.ca=0;this.M.ma();this.da=0},g:function(a,c,b,d){I(this.L,a);this.ca=c;I(this.M,b);this.da=d},Wc:function(a,c,b,d){return this.L.x*a.x+this.L.y*a.y+this.ca*c+(this.M.x*b.x+this.M.y*b.y)+this.da*d}};function ic(a){this.o=new U;this.q=new U;this.qa=a.type;this.p=this.H=p;this.h=a.W;this.e=a.$;this.Bb=a.hb;this.tb=q;this.db=a.C;this.j=new C;this.k=new C;this.wa=new C;this.lb=new C;this.I=new ec;this.A=new ec;var c,b,d;c=this.h.d;b=a.va.x-this.h.c.x;d=a.va.y-this.h.c.y;this.j.g(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);c=this.e.d;b=a.va.x-this.e.c.x;d=a.va.y-this.e.c.y;this.k.g(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);c=this.h.d;b=a.axis.x;d=a.axis.y;this.wa.g(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);this.lb.x=-this.wa.y;
this.lb.y=this.wa.x;this.wf=this.e.n-this.h.n;this.I.ma();this.jd=this.Qd=this.Cb=this.Pc=0;this.A.ma();this.ea=this.s=this.fa=this.Na=0;this.Zd=a.of;this.de=a.Df;this.Fe=a.Me;this.$d=a.Tc;this.qb=a.Id;this.mc=a.jc}w(ic,bc);r=ic.prototype;r.Ib=function(){var a=this.h,c=new C;I(c,this.j);Da(c,a.d);c.add(a.c);return c};r.Jb=function(){var a=this.e,c=new C;I(c,this.k);Da(c,a.d);c.add(a.c);return c};
function gc(a){var c=a.h,b=a.e,d;d=c.d;var e=d.a.x*a.j.x+d.b.x*a.j.y,f=d.a.y*a.j.x+d.b.y*a.j.y;d=b.d;e=b.c.x+(d.a.x*a.k.x+d.b.x*a.k.y)-(c.c.x+e);b=b.c.y+(d.a.y*a.k.x+d.b.y*a.k.y)-(c.c.y+f);d=c.d;return(d.a.x*a.wa.x+d.b.x*a.wa.y)*e+(d.a.y*a.wa.x+d.b.y*a.wa.y)*b}
r.Kb=function(){var a=this.h,c=this.e,b;b=a.d;var d=b.a.x*this.j.x+b.b.x*this.j.y,e=b.a.y*this.j.x+b.b.y*this.j.y;b=c.d;var f=b.a.x*this.k.x+b.b.x*this.k.y,g=b.a.y*this.k.x+b.b.y*this.k.y,h=a.i,i=c.i,j=a.m,k=c.m;b=a.d;var n=b.a.x*this.lb.x+b.b.x*this.lb.y;b=b.a.y*this.lb.x+b.b.y*this.lb.y;var l=c.c.x+f-a.c.x,o=c.c.y+g-a.c.y;this.I.L.x=-n;this.I.L.y=-b;this.I.M.x=n;this.I.M.y=b;this.I.ca=-(l*b-o*n);this.I.da=f*b-g*n;this.Pc=h+j*this.I.ca*this.I.ca+i+k*this.I.da*this.I.da;this.Pc=1/this.Pc;this.Qd=
1/(j+k);if(this.qb||this.mc){b=a.d;n=b.a.x*this.wa.x+b.b.x*this.wa.y;b=b.a.y*this.wa.x+b.b.y*this.wa.y;this.A.L.x=-n;this.A.L.y=-b;this.A.M.x=n;this.A.M.y=b;this.A.ca=-(l*b-o*n);this.A.da=f*b-g*n;this.Na=h+j*this.A.ca*this.A.ca+i+k*this.A.da*this.A.da;this.Na=1/this.Na;if(this.qb){d=n*(l-d)+b*(o-e);if(E(this.de-this.Zd)<0.3)this.N=3;else if(d<=this.Zd){if(this.N!=1)this.s=0;this.N=1}else if(d>=this.de){if(this.N!=2)this.s=0;this.N=2}else this.s=this.N=0}}if(this.mc==q)this.fa=0;if(this.qb==q)this.s=
0;if(Yb){d=this.Cb*this.I.L.y+(this.fa+this.s)*this.A.L.y;e=this.Cb*this.I.M.x+(this.fa+this.s)*this.A.M.x;f=this.Cb*this.I.M.y+(this.fa+this.s)*this.A.M.y;g=this.Cb*this.I.ca-this.jd+(this.fa+this.s)*this.A.ca;l=this.Cb*this.I.da+this.jd+(this.fa+this.s)*this.A.da;a.f.x+=h*(this.Cb*this.I.L.x+(this.fa+this.s)*this.A.L.x);a.f.y+=h*d;a.l+=j*g;c.f.x+=i*e;c.f.y+=i*f;c.l+=k*l}else this.fa=this.s=this.jd=this.Cb=0;this.ea=0};
r.xb=function(a){var c=this.h,b=this.e,d=c.i,e=b.i,f=c.m,g=b.m,h=-this.Pc*this.I.Wc(c.f,c.l,b.f,b.l);this.Cb+=h;c.f.x+=d*h*this.I.L.x;c.f.y+=d*h*this.I.L.y;c.l+=f*h*this.I.ca;b.f.x+=e*h*this.I.M.x;b.f.y+=e*h*this.I.M.y;b.l+=g*h*this.I.da;h=-this.Qd*(b.l-c.l);this.jd+=h;c.l-=f*h;b.l+=g*h;if(this.mc&&this.N!=3){h=-this.Na*(this.A.Wc(c.f,c.l,b.f,b.l)-this.$d);var i=this.fa;this.fa=H(this.fa+h,-a.Pa*this.Fe,a.Pa*this.Fe);h=this.fa-i;c.f.x+=d*h*this.A.L.x;c.f.y+=d*h*this.A.L.y;c.l+=f*h*this.A.ca;b.f.x+=
e*h*this.A.M.x;b.f.y+=e*h*this.A.M.y;b.l+=g*h*this.A.da}if(this.qb&&this.N!=0){h=-this.Na*this.A.Wc(c.f,c.l,b.f,b.l);if(this.N==3)this.s+=h;else if(this.N==1){a=this.s;this.s=F(this.s+h,0);h=this.s-a}else if(this.N==2){a=this.s;this.s=this.s+h<0?this.s+h:0;h=this.s-a}c.f.x+=d*h*this.A.L.x;c.f.y+=d*h*this.A.L.y;c.l+=f*h*this.A.ca;b.f.x+=e*h*this.A.M.x;b.f.y+=e*h*this.A.M.y;b.l+=g*h*this.A.da}};
r.mb=function(){var a,c,b=this.h,d=this.e,e=b.i,f=d.i,g=b.m,h=d.m;a=b.d;var i=a.a.x*this.j.x+a.b.x*this.j.y,j=a.a.y*this.j.x+a.b.y*this.j.y;a=d.d;var k=a.a.x*this.k.x+a.b.x*this.k.y;a=a.a.y*this.k.x+a.b.y*this.k.y;i=b.c.x+i;j=b.c.y+j;k=d.c.x+k;var n=d.c.y+a;a=b.d;var l=(a.a.x*this.lb.x+a.b.x*this.lb.y)*(k-i)+(a.a.y*this.lb.x+a.b.y*this.lb.y)*(n-j);l=H(l,-6,6);c=-this.Pc*l;b.c.x+=e*c*this.I.L.x;b.c.y+=e*c*this.I.L.y;b.n+=g*c*this.I.ca;d.c.x+=f*c*this.I.M.x;d.c.y+=f*c*this.I.M.y;d.n+=h*c*this.I.da;
l=E(l);c=d.n-b.n-this.wf;c=H(c,-Ga,Ga);var o=-this.Qd*c;b.n-=b.m*o;b.d.g(b.n);d.n+=d.m*o;d.d.g(d.n);o=E(c);if(this.qb&&this.N!=0){a=b.d;i=a.a.x*this.j.x+a.b.x*this.j.y;j=a.a.y*this.j.x+a.b.y*this.j.y;a=d.d;k=a.a.x*this.k.x+a.b.x*this.k.y;a=a.a.y*this.k.x+a.b.y*this.k.y;i=b.c.x+i;j=b.c.y+j;k=d.c.x+k;n=d.c.y+a;a=b.d;i=(a.a.x*this.wa.x+a.b.x*this.wa.y)*(k-i)+(a.a.y*this.wa.x+a.b.y*this.wa.y)*(n-j);a=0;if(this.N==3){a=H(i,-6,6);a=-this.Na*a;l=F(l,E(c))}else if(this.N==1){a=i-this.Zd;l=F(l,-a);a=H(a+0.15,
-6,0);a=-this.Na*a;c=this.ea;this.ea=F(this.ea+a,0);a=this.ea-c}else if(this.N==2){a=i-this.de;l=F(l,a);a=H(a-0.15,0,6);a=-this.Na*a;c=this.ea;this.ea=this.ea+a<0?this.ea+a:0;a=this.ea-c}b.c.x+=e*a*this.A.L.x;b.c.y+=e*a*this.A.L.y;b.n+=g*a*this.A.ca;b.d.g(b.n);d.c.x+=f*a*this.A.M.x;d.c.y+=f*a*this.A.M.y;d.n+=h*a*this.A.da;d.d.g(d.n)}return l<=0.15&&o<=Fa};function jc(a){this.o=new U;this.q=new U;this.qa=a.type;this.p=this.H=p;this.h=a.W;this.e=a.$;this.Bb=a.hb;this.tb=q;this.db=a.C;this.rb=new C;this.sb=new C;this.j=new C;this.k=new C;this.O=new C;this.P=new C;var c,b,d;this.Va=this.h.Q.nc;this.rb.x=a.Kd.x-this.Va.c.x;this.rb.y=a.Kd.y-this.Va.c.y;this.sb.x=a.Ld.x-this.Va.c.x;this.sb.y=a.Ld.y-this.Va.c.y;c=this.h.d;b=a.Mb.x-this.h.c.x;d=a.Mb.y-this.h.c.y;this.j.x=b*c.a.x+d*c.a.y;this.j.y=b*c.b.x+d*c.b.y;c=this.e.d;b=a.Nb.x-this.e.c.x;d=a.Nb.y-this.e.c.y;
this.k.x=b*c.a.x+d*c.a.y;this.k.y=b*c.b.x+d*c.b.y;this.Y=a.Bf;b=a.Kd.x-a.Mb.x;d=a.Kd.y-a.Mb.y;c=Math.sqrt(b*b+d*d);b=a.Ld.x-a.Nb.x;d=a.Ld.y-a.Nb.y;c=F(0.5*kc,c);b=F(0.5*kc,Math.sqrt(b*b+d*d));this.Kc=c+this.Y*b;this.De=H(a.Tf,c,this.Kc-this.Y*kc);this.Ee=H(a.Uf,b,(this.Kc-kc)/this.Y);this.Xb=this.Wb=this.Qc=0}w(jc,bc);r=jc.prototype;r.Ib=function(){var a=this.h.d;return new C(this.h.c.x+(a.a.x*this.j.x+a.b.x*this.j.y),this.h.c.y+(a.a.y*this.j.x+a.b.y*this.j.y))};
r.Jb=function(){var a=this.e.d;return new C(this.e.c.x+(a.a.x*this.k.x+a.b.x*this.k.y),this.e.c.y+(a.a.y*this.k.x+a.b.y*this.k.y))};
r.Kb=function(){var a=this.h,c=this.e,b;b=a.d;var d=b.a.x*this.j.x+b.b.x*this.j.y,e=b.a.y*this.j.x+b.b.y*this.j.y;b=c.d;var f=b.a.x*this.k.x+b.b.x*this.k.y;b=b.a.y*this.k.x+b.b.y*this.k.y;var g=c.c.x+f,h=c.c.y+b,i=this.Va.c.x+this.sb.x,j=this.Va.c.y+this.sb.y;this.O.g(a.c.x+d-(this.Va.c.x+this.rb.x),a.c.y+e-(this.Va.c.y+this.rb.y));this.P.g(g-i,h-j);g=Ba(this.O);h=Ba(this.P);g>0.15?this.O.scale(1/g):this.O.ma();h>0.15?this.P.scale(1/h):this.P.ma();if(g<this.De)this.Wb=this.Wd=0;else{this.Wd=2;this.pd=
0}if(h<this.Ee)this.Xb=this.Xd=0;else{this.Xd=2;this.qd=0}g=d*this.O.y-e*this.O.x;h=f*this.P.y-b*this.P.x;this.Nc=a.i+a.m*g*g;this.Oc=c.i+c.m*h*h;this.rd=this.Nc+this.Y*this.Y*this.Oc;this.Nc=1/this.Nc;this.Oc=1/this.Oc;this.rd=1/this.rd;g=(-this.Qc-this.Wb)*this.O.x;h=(-this.Qc-this.Wb)*this.O.y;i=(-this.Y*this.Qc-this.Xb)*this.P.x;j=(-this.Y*this.Qc-this.Xb)*this.P.y;a.f.x+=a.i*g;a.f.y+=a.i*h;a.l+=a.m*(d*h-e*g);c.f.x+=c.i*i;c.f.y+=c.i*j;c.l+=c.m*(f*j-b*i)};
r.xb=function(){var a=this.h,c=this.e,b;b=a.d;var d=b.a.x*this.j.x+b.b.x*this.j.y,e=b.a.y*this.j.x+b.b.y*this.j.y;b=c.d;var f=b.a.x*this.k.x+b.b.x*this.k.y;b=b.a.y*this.k.x+b.b.y*this.k.y;var g,h,i,j;g=a.f.x+-a.l*e;h=a.f.y+a.l*d;i=c.f.x+-c.l*b;j=c.f.y+c.l*f;g=-(this.O.x*g+this.O.y*h)-this.Y*(this.P.x*i+this.P.y*j);j=-this.rd*g;this.Qc+=j;g=-j*this.O.x;h=-j*this.O.y;i=-this.Y*j*this.P.x;j=-this.Y*j*this.P.y;a.f.x+=a.i*g;a.f.y+=a.i*h;a.l+=a.m*(d*h-e*g);c.f.x+=c.i*i;c.f.y+=c.i*j;c.l+=c.m*(f*j-b*i);if(this.Wd==
2){g=a.f.x+-a.l*e;h=a.f.y+a.l*d;g=-(this.O.x*g+this.O.y*h);j=-this.Nc*g;g=this.Wb;this.Wb=F(0,this.Wb+j);j=this.Wb-g;g=-j*this.O.x;h=-j*this.O.y;a.f.x+=a.i*g;a.f.y+=a.i*h;a.l+=a.m*(d*h-e*g)}if(this.Xd==2){i=c.f.x+-c.l*b;j=c.f.y+c.l*f;g=-(this.P.x*i+this.P.y*j);j=-this.Oc*g;g=this.Xb;this.Xb=F(0,this.Xb+j);j=this.Xb-g;i=-j*this.P.x;j=-j*this.P.y;c.f.x+=c.i*i;c.f.y+=c.i*j;c.l+=c.m*(f*j-b*i)}};
r.mb=function(){var a=this.h,c=this.e,b,d=this.Va.c.x+this.rb.x,e=this.Va.c.y+this.rb.y,f=this.Va.c.x+this.sb.x,g=this.Va.c.y+this.sb.y,h,i,j,k,n,l,o,s=0;b=a.d;h=b.a.x*this.j.x+b.b.x*this.j.y;i=b.a.y*this.j.x+b.b.y*this.j.y;b=c.d;j=b.a.x*this.k.x+b.b.x*this.k.y;b=b.a.y*this.k.x+b.b.y*this.k.y;k=a.c.x+h;n=a.c.y+i;l=c.c.x+j;o=c.c.y+b;this.O.g(k-d,n-e);this.P.g(l-f,o-g);k=Ba(this.O);n=Ba(this.P);k>0.15?this.O.scale(1/k):this.O.ma();n>0.15?this.P.scale(1/n):this.P.ma();k=this.Kc-k-this.Y*n;s=F(s,Math.abs(k));
k=H(k,-6,6);o=-this.rd*k;k=-o*this.O.x;n=-o*this.O.y;l=-this.Y*o*this.P.x;o=-this.Y*o*this.P.y;a.c.x+=a.i*k;a.c.y+=a.i*n;a.n+=a.m*(h*n-i*k);c.c.x+=c.i*l;c.c.y+=c.i*o;c.n+=c.m*(j*o-b*l);a.d.g(a.n);c.d.g(c.n);if(this.Wd==2){b=a.d;h=b.a.x*this.j.x+b.b.x*this.j.y;i=b.a.y*this.j.x+b.b.y*this.j.y;k=a.c.x+h;n=a.c.y+i;this.O.g(k-d,n-e);k=Ba(this.O);if(k>0.15){this.O.x*=1/k;this.O.y*=1/k}else this.O.ma();k=this.De-k;s=F(s,-k);k=H(k+0.15,-6,0);o=-this.Nc*k;d=this.pd;this.pd=F(0,this.pd+o);o=this.pd-d;k=-o*
this.O.x;n=-o*this.O.y;a.c.x+=a.i*k;a.c.y+=a.i*n;a.n+=a.m*(h*n-i*k);a.d.g(a.n)}if(this.Xd==2){b=c.d;j=b.a.x*this.k.x+b.b.x*this.k.y;b=b.a.y*this.k.x+b.b.y*this.k.y;l=c.c.x+j;o=c.c.y+b;this.P.g(l-f,o-g);n=Ba(this.P);if(n>0.15){this.P.x*=1/n;this.P.y*=1/n}else this.P.ma();k=this.Ee-n;s=F(s,-k);k=H(k+0.15,-6,0);o=-this.Oc*k;d=this.qd;this.qd=F(0,this.qd+o);o=this.qd-d;l=-o*this.P.x;o=-o*this.P.y;c.c.x+=c.i*l;c.c.y+=c.i*o;c.n+=c.m*(j*o-b*l);c.d.g(c.n)}return s<0.15};var kc=30;function lc(a){this.o=new U;this.q=new U;this.qa=a.type;this.p=this.H=p;this.h=a.W;this.e=a.$;this.Bb=a.hb;this.tb=q;this.db=a.C;this.Ka=new P;this.ta=new P;this.ua=new P;this.Za=new P;this.j=new C;this.k=new C;this.Xa=new C;this.Fb=new P;var c,b,d;c=this.h.d;b=a.va.x-this.h.c.x;d=a.va.y-this.h.c.y;this.j.x=b*c.a.x+d*c.a.y;this.j.y=b*c.b.x+d*c.b.y;c=this.e.d;b=a.va.x-this.e.c.x;d=a.va.y-this.e.c.y;this.k.x=b*c.a.x+d*c.a.y;this.k.y=b*c.b.x+d*c.b.y;this.Ae=this.e.n-this.h.n;this.Xa.g(0,0);this.ea=this.s=
this.fa=0;this.Yd=a.nf;this.ce=a.Cf;this.Ge=a.Ne;this.$d=a.Tc;this.qb=a.Id;this.mc=a.jc}w(lc,bc);lc.prototype.Ib=function(){var a=this.h.d;return new C(this.h.c.x+(a.a.x*this.j.x+a.b.x*this.j.y),this.h.c.y+(a.a.y*this.j.x+a.b.y*this.j.y))};lc.prototype.Jb=function(){var a=this.e.d;return new C(this.e.c.x+(a.a.x*this.k.x+a.b.x*this.k.y),this.e.c.y+(a.a.y*this.k.x+a.b.y*this.k.y))};function fc(a){return a.e.n-a.h.n}new P;r=lc.prototype;r.ta=new P;r.ua=new P;r.Za=new P;
r.Kb=function(){var a=this.h,c=this.e,b;b=a.d;var d=b.a.x*this.j.x+b.b.x*this.j.y,e=b.a.y*this.j.x+b.b.y*this.j.y;b=c.d;var f=b.a.x*this.k.x+b.b.x*this.k.y;b=b.a.y*this.k.x+b.b.y*this.k.y;var g=a.i,h=c.i,i=a.m,j=c.m;this.ta.a.x=g+h;this.ta.b.x=0;this.ta.a.y=0;this.ta.b.y=g+h;this.ua.a.x=i*e*e;this.ua.b.x=-i*d*e;this.ua.a.y=-i*d*e;this.ua.b.y=i*d*d;this.Za.a.x=j*b*b;this.Za.b.x=-j*f*b;this.Za.a.y=-j*f*b;this.Za.b.y=j*f*f;Na(this.Ka,this.ta);Oa(this.Ka,this.ua);Oa(this.Ka,this.Za);Pa(this.Ka,this.Fb);
this.Na=1/(i+j);if(this.mc==q)this.fa=0;if(this.qb){var k=c.n-a.n-this.Ae;if(E(this.ce-this.Yd)<2*Fa)this.N=3;else if(k<=this.Yd){if(this.N!=1)this.s=0;this.N=1}else if(k>=this.ce){if(this.N!=2)this.s=0;this.N=2}else this.s=this.N=0}else this.s=0;if(Yb){a.f.x-=g*this.Xa.x;a.f.y-=g*this.Xa.y;a.l-=i*(d*this.Xa.y-e*this.Xa.x+this.fa+this.s);c.f.x+=h*this.Xa.x;c.f.y+=h*this.Xa.y;c.l+=j*(f*this.Xa.y-b*this.Xa.x+this.fa+this.s)}else{this.Xa.ma();this.s=this.fa=0}this.ea=0};
r.xb=function(a){var c=this.h,b=this.e,d;d=c.d;var e=d.a.x*this.j.x+d.b.x*this.j.y,f=d.a.y*this.j.x+d.b.y*this.j.y;d=b.d;var g=d.a.x*this.k.x+d.b.x*this.k.y;d=d.a.y*this.k.x+d.b.y*this.k.y;var h=b.f.x+-b.l*d-c.f.x- -c.l*f,i=b.f.y+b.l*g-c.f.y-c.l*e,j=-(this.Fb.a.x*h+this.Fb.b.x*i);h=-(this.Fb.a.y*h+this.Fb.b.y*i);this.Xa.x+=j;this.Xa.y+=h;c.f.x-=c.i*j;c.f.y-=c.i*h;c.l-=c.m*(e*h-f*j);b.f.x+=b.i*j;b.f.y+=b.i*h;b.l+=b.m*(g*h-d*j);if(this.mc&&this.N!=3){e=-this.Na*(b.l-c.l-this.$d);f=this.fa;this.fa=H(this.fa+
e,-a.Pa*this.Ge,a.Pa*this.Ge);e=this.fa-f;c.l-=c.m*e;b.l+=b.m*e}if(this.qb&&this.N!=0){e=-this.Na*(b.l-c.l);if(this.N==3)this.s+=e;else if(this.N==1){a=this.s;this.s=F(this.s+e,0);e=this.s-a}else if(this.N==2){a=this.s;this.s=this.s+e<0?this.s+e:0;e=this.s-a}c.l-=c.m*e;b.l+=b.m*e}};
r.mb=function(){var a,c=this.h,b=this.e,d=0;d=c.d;var e=d.a.x*this.j.x+d.b.x*this.j.y,f=d.a.y*this.j.x+d.b.y*this.j.y;d=b.d;a=d.a.x*this.k.x+d.b.x*this.k.y;var g=d.a.y*this.k.x+d.b.y*this.k.y,h=b.c.x+a-(c.c.x+e),i=b.c.y+g-(c.c.y+f);d=Math.sqrt(h*h+i*i);var j=c.i,k=b.i,n=c.m,l=b.m;this.ta.a.x=j+k;this.ta.b.x=0;this.ta.a.y=0;this.ta.b.y=j+k;this.ua.a.x=n*f*f;this.ua.b.x=-n*e*f;this.ua.a.y=-n*e*f;this.ua.b.y=n*e*e;this.Za.a.x=l*g*g;this.Za.b.x=-l*a*g;this.Za.a.y=-l*a*g;this.Za.b.y=l*a*a;Na(this.Ka,this.ta);
Oa(this.Ka,this.ua);Oa(this.Ka,this.Za);this.Ka.Dd(mc,-h,-i);h=mc.x;i=mc.y;c.c.x-=c.i*h;c.c.y-=c.i*i;c.n-=c.m*(e*i-f*h);c.d.g(c.n);b.c.x+=b.i*h;b.c.y+=b.i*i;b.n+=b.m*(a*i-g*h);b.d.g(b.n);e=0;if(this.qb&&this.N!=0){a=b.n-c.n-this.Ae;f=0;if(this.N==3){a=H(a,-Ga,Ga);f=-this.Na*a;e=E(a)}else if(this.N==1){a=a-this.Yd;e=F(0,-a);a=H(a+Fa,-Ga,0);f=-this.Na*a;a=this.ea;this.ea=F(this.ea+f,0);f=this.ea-a}else if(this.N==2){a=a-this.ce;e=F(0,a);a=H(a-Fa,0,Ga);f=-this.Na*a;a=this.ea;this.ea=this.ea+f<0?this.ea+
f:0;f=this.ea-a}c.n-=c.m*f;c.d.g(c.n);b.n+=b.m*f;b.d.g(b.n)}return d<=0.15&&e<=Fa};var mc=new C;function nc(){this.Nd=this.Pa=p;this.Od=0};function oc(a,c,b){this.sd=new nc;this.lc=new Tb(this);this.Be=p;this.Kf=tb;this.X=this.aa=this.pb=p;this.kb=this.Tb=this.La=0;this.kd=p;this.pf=b;this.tf=c;this.lc.Q=this;this.Qa=new rb(a,this.lc);this.nc=W(this,new N);this.kf=[];this.Vc=q}function W(a,c){var b=new $a(c,a);b.H=p;if(b.p=a.pb)a.pb.H=b;a.pb=b;++a.La;return b}
function pc(a,c){var b;b=p;switch(c.type){case 3:b=new cc(c);break;case 5:b=new hc(c);break;case 2:b=new ic(c);break;case 1:b=new lc(c);break;case 4:b=new jc(c);break;case 6:b=new dc(c)}b=b;b.H=p;if(b.p=a.X)a.X.H=b;a.X=b;++a.kb;b.o.Qb=b;b.o.ra=b.e;b.o.r=p;if(b.o.next=b.h.X)b.h.X.r=b.o;b.h.X=b.o;b.q.Qb=b;b.q.ra=b.h;b.q.r=p;if(b.q.next=b.e.X)b.e.X.r=b.q;b.e.X=b.q;if(c.hb==q)for(var d=(c.W.ac<c.$.ac?c.W:c.$).Gb;d;d=d.p)d.Xc(a.Qa);return b}
oc.prototype.Fc=function(a,c,b){var d=[];a=this.Qa.$e(a,d,b);for(b=0;b<a;++b)c[b]=d[b];return a};var $b=1,Yb=1;function qc(a){var c;for(c=1;c<=4;c++){var b=a,d=150+3*Math.random(),e=40*c,f=[[-30,0],[30,0],[0,15]],g=new rc;g.Bc=f.length;var h=void 0;for(h=0;h<f.length;h++)g.Hb[h].g(f[h][0],f[h][1]);g.zb=0.3524*Math.PI;var i=new P(g.zb);g.Aa=A(i,new C(30,0));g.za=1;i=new rc;i.Bc=f.length;for(h=0;h<f.length;h++)i.Hb[h].g(f[h][0],f[h][1]);i.zb=-0.3524*Math.PI;f=new P(i.zb);i.Aa=A(f,new C(-30,0));f=new N;O(f,g);O(f,i);f.position.g(d,e);W(b,f)}for(c=1;c<=4;c++){b=a;d=350+3*Math.random();e=45*c;g=new Ra;g.za=1;g.vb=
20;g.Sa=0.2;g.Aa.g(-20,0);i=new Ra;i.za=1;i.vb=20;i.Sa=0.2;i.Aa.g(20,0);f=new N;O(f,g);O(f,i);f.position.g(d,e);W(b,f)}};function sc(){this.type=0;this.$=this.W=this.C=p;this.hb=q};function tc(){this.type=0;this.$=this.W=this.C=p;this.hb=q;this.type=2;this.va=new C(0,0);this.axis=new C(0,0);this.Tc=this.Me=this.Df=this.of=0;this.jc=this.Id=q}w(tc,sc);function uc(){this.type=0;this.$=this.W=this.C=p;this.hb=q;this.type=1;this.va=new C(0,0);this.Tc=this.Ne=this.Cf=this.nf=0;this.jc=this.Id=q}w(uc,sc);function vc(a){var c=a.nc,b=new La;b.S.g(5,25);b.za=1;var d=new N;O(d,b);var e=new uc,f=c;d.position.g(250,210);var g=W(a,d);e.va.g(250,235);e.W=f;e.$=g;e.Tc=-1*Math.PI;e.Ne=5E8;e.jc=m;pc(a,e);f=g;b.S.g(5,45);d.position.g(250,140);g=W(a,d);e.va.g(250,185);e.W=f;e.$=g;e.jc=q;pc(a,e);f=g;b.S.g(20,20);d.position.g(250,95);g=W(a,d);e.va.g(250,95);e.W=f;e.$=g;pc(a,e);e=new tc;e.va.g(250,95);e.W=c;e.$=g;e.axis.g(0,1);e.Tc=0;e.Me=1E5;e.jc=m;pc(a,e);b.za=2;d.position.g(250,10);W(a,d)};function wc(a){var c,b=a.nc,d=new uc;for(c=0;c<4;c++){d.va.g(250+40*c,50);d.W=b;d.$=xc(a,250+40*c,200);pc(a,d)}d.va.g(210,50);d.W=b;d.$=xc(a,60,50);pc(a,d)};function yc(a){var c=new La,b=new N;O(b,c);c.za=1;c.$a=0.5;c.S.g(10,10);for(c=0;c<8;c++){b.position.g(250-Math.random()*2-1,245-c*22);W(a,b)}for(c=0;c<8;c++){b.position.g(150-Math.random()*5+c,245-c*22);W(a,b)}for(c=0;c<8;c++){b.position.g(350+Math.random()*5-c,245-c*22);W(a,b)}};function rc(){this.type=Ja;this.C=p;this.Aa=new C(0,0);this.zb=0;this.$a=0.2;this.za=this.Sa=0;this.Ta=1;this.Ya=65535;this.Pb=0;this.Hb=Array(8);this.type=2;for(var a=this.Bc=0;a<8;a++)this.Hb[a]=new C}w(rc,Ia);function zc(a){var c=new Ra;c.vb=50;c.Sa=0.2;var b=new N;O(b,c);b.position.g(350,100);W(a,b);Ac(a,100,100,[[0,0],[10,30],[-10,30]],m);Ac(a,150,150,[[0,0],[10,30],[-10,30]],m);b=Bc(a,150,100,20,20,q);c=new uc;c.W=b;c.$=a.nc;c.va=b.c;pc(a,c);b=Ac(a,300,200,[[0,0],[100,30],[-100,30]]);c.W=b;c.va=b.c;pc(a,c)}function Ac(a,c,b,d,e){var f=new rc;if(!e)f.za=1;f.Bc=d.length;for(e=0;e<d.length;e++)f.Hb[e].g(d[e][0],d[e][1]);d=new N;O(d,f);d.position.g(c,b);return W(a,d)};var Cc,Dc,Ec,Fc;function Gc(){return t.navigator?t.navigator.userAgent:p}Fc=Ec=Dc=Cc=q;var Hc;if(Hc=Gc()){var Ic=t.navigator;Cc=Hc.indexOf("Opera")==0;Dc=!Cc&&Hc.indexOf("MSIE")!=-1;Ec=!Cc&&Hc.indexOf("WebKit")!=-1;Fc=!Cc&&!Ec&&Ic.product=="Gecko"}var Jc=Dc,Kc=Fc,Lc=Ec,Mc=t.navigator,Nc=(Mc&&Mc.platform||"").indexOf("Mac")!=-1,Oc;
a:{var Pc="",Qc;if(Cc&&t.opera){var Rc=t.opera.version;Pc=typeof Rc=="function"?Rc():Rc}else{if(Kc)Qc=/rv\:([^\);]+)(\)|;)/;else if(Jc)Qc=/MSIE\s+([^\);]+)(\)|;)/;else if(Lc)Qc=/WebKit\/(\S+)/;if(Qc){var Sc=Qc.exec(Gc());Pc=Sc?Sc[1]:""}}if(Jc){var Tc,Uc=t.document;Tc=Uc?Uc.documentMode:undefined;if(Tc>parseFloat(Pc)){Oc=String(Tc);break a}}Oc=Pc}var Vc={};var Wc;!Jc||Vc["9"]||(Vc["9"]=ta(Oc,"9")>=0);Jc&&(Vc["8"]||(Vc["8"]=ta(Oc,"8")>=0));function Xc(){}Xc.prototype.ue=q;Xc.prototype.Zc=function(){if(!this.ue){this.ue=m;this.yb()}};Xc.prototype.yb=aa();function X(a,c){this.type=a;this.currentTarget=this.target=c}w(X,Xc);X.prototype.yb=function(){delete this.type;delete this.target;delete this.currentTarget};X.prototype.yc=q;X.prototype.ud=m;function Yc(a,c){a&&this.$c(a,c)}w(Yc,X);r=Yc.prototype;r.target=p;r.relatedTarget=p;r.offsetX=0;r.offsetY=0;r.clientX=0;r.clientY=0;r.screenX=0;r.screenY=0;r.button=0;r.keyCode=0;r.charCode=0;r.ctrlKey=q;r.altKey=q;r.shiftKey=q;r.metaKey=q;r.zf=q;r.ve=p;
r.$c=function(a,c){var b=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(Kc)try{d=d.nodeName&&d}catch(e){d=p}}else if(b=="mouseover")d=a.fromElement;else if(b=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||0;
this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(b=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.zf=Nc?a.metaKey:a.ctrlKey;this.ve=a;delete this.ud;delete this.yc};r.yb=function(){Yc.he.yb.call(this);this.relatedTarget=this.currentTarget=this.target=this.ve=p};function Zc(){}var $c=0;r=Zc.prototype;r.key=0;r.zc=q;r.qe=q;r.$c=function(a,c,b,d,e,f){if(ea(a)=="function")this.we=m;else if(a&&a.handleEvent&&ea(a.handleEvent)=="function")this.we=q;else throw Error("Invalid listener argument");this.Ic=a;this.Pe=c;this.src=b;this.type=d;this.capture=!!e;this.Md=f;this.qe=q;this.key=++$c;this.zc=q};r.handleEvent=function(a){if(this.we)return this.Ic.call(this.Md||this.src,a);return this.Ic.handleEvent.call(this.Ic,a)};function Y(a,c){this.Le=c;this.Ob=[];if(a>this.Le)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var b=0;b<a;b++)this.Ob.push(this.nb?this.nb():{})}w(Y,Xc);Y.prototype.nb=p;Y.prototype.te=p;function ad(a){if(a.Ob.length)return a.Ob.pop();return a.nb?a.nb():{}}function bd(a,c){a.Ob.length<a.Le?a.Ob.push(c):cd(a,c)}
function cd(a,c){if(a.te)a.te(c);else{var b=ea(c);if(b=="object"||b=="array"||b=="function")if(ea(c.Zc)=="function")c.Zc();else for(var d in c)delete c[d]}}Y.prototype.yb=function(){Y.he.yb.call(this);for(var a=this.Ob;a.length;)cd(this,a.pop());delete this.Ob};var dd;var ed=(dd="ScriptEngine"in t&&t.ScriptEngine()=="JScript")?t.ScriptEngineMajorVersion()+"."+t.ScriptEngineMinorVersion()+"."+t.ScriptEngineBuildVersion():"0";var fd,gd,hd,id,jd,kd,ld,md,nd,od,pd;
(function(){function a(){return{ib:0,fb:0}}function c(){return[]}function b(){function l(o){return g.call(l.src,l.key,o)}return l}function d(){return new Zc}function e(){return new Yc}var f=dd&&!(ta(ed,"5.7")>=0),g;kd=function(l){g=l};if(f){fd=function(){return ad(h)};gd=function(l){bd(h,l)};hd=function(){return ad(i)};id=function(l){bd(i,l)};jd=function(){return ad(j)};ld=function(){bd(j,b())};md=function(){return ad(k)};nd=function(l){bd(k,l)};od=function(){return ad(n)};pd=function(l){bd(n,l)};
var h=new Y(0,600);h.nb=a;var i=new Y(0,600);i.nb=c;var j=new Y(0,600);j.nb=b;var k=new Y(0,600);k.nb=d;var n=new Y(0,600);n.nb=e}else{fd=a;gd=da;hd=c;id=da;jd=b;ld=da;md=d;nd=da;od=e;pd=da}})();function qd(a,c,b){for(var d in a)c.call(b,a[d],d,a)}var rd=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];function sd(a){for(var c,b,d=1;d<arguments.length;d++){b=arguments[d];for(c in b)a[c]=b[c];for(var e=0;e<rd.length;e++){c=rd[e];if(Object.prototype.hasOwnProperty.call(b,c))a[c]=b[c]}}};var td={},Z={},ud={},vd={};
function wd(a,c,b,d,e){if(c)if(ea(c)=="array"){for(var f=0;f<c.length;f++)wd(a,c[f],b,d,e);return p}else{d=!!d;var g=Z;c in g||(g[c]=fd());g=g[c];if(!(d in g)){g[d]=fd();g.ib++}g=g[d];var h=fa(a),i;g.fb++;if(g[h]){i=g[h];for(f=0;f<i.length;f++){g=i[f];if(g.Ic==b&&g.Md==e){if(g.zc)break;return i[f].key}}}else{i=g[h]=hd();g.ib++}f=jd();f.src=a;g=md();g.$c(b,f,a,c,d,e);b=g.key;f.key=b;i.push(g);td[b]=g;ud[h]||(ud[h]=hd());ud[h].push(g);if(a.addEventListener){if(a==t||!a.se)a.addEventListener(c,f,d)}else a.attachEvent(xd(c),
f);return b}else throw Error("Invalid event type");}function yd(a,c,b,d,e){if(ea(c)=="array"){for(var f=0;f<c.length;f++)yd(a,c[f],b,d,e);return p}d=!!d;a:{f=Z;if(c in f){f=f[c];if(d in f){f=f[d];a=fa(a);if(f[a]){a=f[a];break a}}}a=p}if(!a)return q;for(f=0;f<a.length;f++)if(a[f].Ic==b&&a[f].capture==d&&a[f].Md==e)return zd(a[f].key);return q}
function zd(a){if(!td[a])return q;var c=td[a];if(c.zc)return q;var b=c.src,d=c.type,e=c.Pe,f=c.capture;if(b.removeEventListener){if(b==t||!b.se)b.removeEventListener(d,e,f)}else b.detachEvent&&b.detachEvent(xd(d),e);b=fa(b);e=Z[d][f][b];if(ud[b]){var g=ud[b],h=ya(g,c);if(h>=0){wa(g.length!=p);xa.splice.call(g,h,1)}g.length==0&&delete ud[b]}c.zc=m;e.Oe=m;Ad(d,f,b,e);delete td[a];return m}
function Ad(a,c,b,d){if(!d.ed)if(d.Oe){for(var e=0,f=0;e<d.length;e++)if(d[e].zc){var g=d[e].Pe;g.src=p;ld(g);nd(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.Oe=q;if(f==0){id(d);delete Z[a][c][b];Z[a][c].ib--;if(Z[a][c].ib==0){gd(Z[a][c]);delete Z[a][c];Z[a].ib--}if(Z[a].ib==0){gd(Z[a]);delete Z[a]}}}}
function Bd(a,c,b){var d=0,e=c==p,f=b==p;b=!!b;if(a==p)qd(ud,function(i){for(var j=i.length-1;j>=0;j--){var k=i[j];if((e||c==k.type)&&(f||b==k.capture)){zd(k.key);d++}}});else{a=fa(a);if(ud[a]){a=ud[a];for(var g=a.length-1;g>=0;g--){var h=a[g];if((e||c==h.type)&&(f||b==h.capture)){zd(h.key);d++}}}}return d}function xd(a){if(a in vd)return vd[a];return vd[a]="on"+a}
function Cd(a,c,b,d,e){var f=1;c=fa(c);if(a[c]){a.fb--;a=a[c];if(a.ed)a.ed++;else a.ed=1;try{for(var g=a.length,h=0;h<g;h++){var i=a[h];if(i&&!i.zc)f&=Dd(i,e)!==q}}finally{a.ed--;Ad(b,d,c,a)}}return Boolean(f)}function Dd(a,c){var b=a.handleEvent(c);a.qe&&zd(a.key);return b}
kd(function(a,c){if(!td[a])return m;var b=td[a],d=b.type,e=Z;if(!(d in e))return m;e=e[d];var f,g;if(Wc===undefined)Wc=Jc&&!t.addEventListener;if(Wc){var h;if(!(h=c))a:{h="window.event".split(".");for(var i=t;f=h.shift();)if(i[f])i=i[f];else{h=p;break a}h=i}f=h;h=m in e;i=q in e;if(h){if(f.keyCode<0||f.returnValue!=undefined)return m;a:{var j=q;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(k){j=m}if(j||f.returnValue==undefined)f.returnValue=m}}j=od();j.$c(f,this);f=m;try{if(h){for(var n=hd(),l=j.currentTarget;l;l=
l.parentNode)n.push(l);g=e[m];g.fb=g.ib;for(var o=n.length-1;!j.yc&&o>=0&&g.fb;o--){j.currentTarget=n[o];f&=Cd(g,n[o],d,m,j)}if(i){g=e[q];g.fb=g.ib;for(o=0;!j.yc&&o<n.length&&g.fb;o++){j.currentTarget=n[o];f&=Cd(g,n[o],d,q,j)}}}else f=Dd(b,j)}finally{if(n){n.length=0;id(n)}j.Zc();pd(j)}return f}d=new Yc(c,this);try{f=Dd(b,d)}finally{d.Zc()}return f});function Ed(){}w(Ed,Xc);r=Ed.prototype;r.se=m;r.fe=p;r.addEventListener=function(a,c,b,d){wd(this,a,c,b,d)};r.removeEventListener=function(a,c,b,d){yd(this,a,c,b,d)};
r.dispatchEvent=function(a){a=a;if(typeof a=="string")a=new X(a,this);else if(a instanceof X)a.target=a.target||this;else{var c=a;a=new X(a.type,this);sd(a,c)}c=1;var b,d=a.type,e=Z;if(d in e){e=e[d];d=m in e;var f;if(d){b=[];for(f=this;f;f=f.fe)b.push(f);f=e[m];f.fb=f.ib;for(var g=b.length-1;!a.yc&&g>=0&&f.fb;g--){a.currentTarget=b[g];c&=Cd(f,b[g],a.type,m,a)&&a.ud!=q}}if(q in e){f=e[q];f.fb=f.ib;if(d)for(g=0;!a.yc&&g<b.length&&f.fb;g++){a.currentTarget=b[g];c&=Cd(f,b[g],a.type,q,a)&&a.ud!=q}else for(b=
this;!a.yc&&b&&f.fb;b=b.fe){a.currentTarget=b;c&=Cd(f,b,a.type,q,a)&&a.ud!=q}}a=Boolean(c)}else a=m;return a};r.yb=function(){Ed.he.yb.call(this);Bd(this);this.fe=p};function Fd(){this.Td=0;this.bc=[];this.Gc=this.Rc=0}function Gd(a){var c=la();if(a.Vd>0){var b=c-a.Vd;b/=1E3;a.Td++;if(a.bc.length<Hd){a.bc.push(b);a.Rc+=b;a.Gc=a.Td/a.Rc}else{var d=a.Td%a.bc.length;a.Rc-=a.bc[d];a.bc[d]=b;a.Rc+=a.bc[d];a.Gc=a.bc.length/a.Rc}}a.Vd=c;return a.Gc}Fd.prototype.Vd=0;var Hd=100;function Id(a){this.pc=0;this.jb=[];this.jb.push(qc);this.jb.push(vc);this.jb.push(yc);this.jb.push(wc);this.jb.push(zc);this.ze=a.width;this.ye=a.height;this.Sc=new Aa(this.ze/2-250,this.ye/2-185);this.ld=a.getContext("2d");this.ld.fillStyle="#ffffff";this.ld.translate(this.Sc.x,this.Sc.y);$(a).click(ka(function(c){c=new Aa(c.pageX-a.offsetLeft,c.pageY-a.offsetTop);Ca(c,this.Sc);Math.random()<0.5?xc(this.Q,c.x,c.y,10):Bc(this.Q,c.x,c.y,10,10,q)},this));this.sf=new Fd;this.Pf=0;this.pc=Math.floor(Math.random()*
this.jb.length);Jd(this);this.pe()}w(Id,Ed);function Kd(a,c){if(a.jb.length==0)throw"No demos to load";for(a.pc+=c;a.pc<0;)a.pc+=a.jb.length;a.pc%=a.jb.length;Jd(a)}function Jd(a){var c=new M;c.D.g(-1E3,-1E3);c.B.g(1E3,1E3);c=new oc(c,new C(0,300),m);Bc(c,250,305,250,5,m,m);Bc(c,5,185,5,125,m,m);Bc(c,495,185,5,125,m,m);a.Q=c;a.jb[a.pc](a.Q)}
Id.prototype.pe=function(){t.setTimeout(ka(this.pe,this));var a=this.Q,c=Ld,b,d;a.sd.Pa=c;a.sd.Od=1;a.sd.Nd=c>0?1/c:0;a.He=0;for(var e=a.lc,f=e.Q.aa;f!=p;){var g=f;f=f.p;g.z&2&&Ub(e,g)}a.lc.Ud=m;for(e=a.kd;e;){f=e;e=e.p;for(g=f.X;g;){var h=g;g=g.next;b=a;h=h.Qb;d=h.Bb;if(h.H)h.H.p=h.p;if(h.p)h.p.H=h.H;if(h==b.X)b.X=h.p;var i=h.h,j=h.e;cb(i);cb(j);if(h.o.r)h.o.r.next=h.o.next;if(h.o.next)h.o.next.r=h.o.r;if(h.o==i.X)i.X=h.o.next;h.o.r=p;h.o.next=p;if(h.q.r)h.q.r.next=h.q.next;if(h.q.next)h.q.next.r=
h.q.r;if(h.q==j.X)j.X=h.q.next;h.q.r=p;h.q.next=p;--b.kb;if(d==q)for(h=(i.ac<j.ac?i:j).Gb;h;h=h.p)h.Xc(b.Qa)}for(f=f.Gb;f;){g=f;f=f.p;g.ba!=Q&&g.w.Q.Qa.ec(g.ba)}}a.kd=p;a.lc.Ud=q;for(e=a.lc.Q.aa;e!=p;e=e.p)if(!((e.J.w.z&R)==R&&(e.K.w.z&R)==R)){f=e.Fa;e.Dc();g=e.Fa;if(f==0&&g>0){f=e.J.w;g=e.K.w;b=e.o;h=e.q;b.Ea=e;b.ra=g;b.r=p;b.next=f.aa;if(b.next!=p)b.next.r=e.o;f.aa=e.o;h.Ea=e;h.ra=f;h.r=p;h.next=g.aa;if(h.next!=p)h.next.r=h;g.aa=h}else if(f>0&&g==0){f=e.J.w;g=e.K.w;b=e.o;h=e.q;if(b.r)b.r.next=b.next;
if(b.next)b.next.r=b.r;if(b==f.aa)f.aa=b.next;b.r=p;b.next=p;if(h.r)h.r.next=h.next;if(h.next)h.next.r=h.r;if(h==g.aa)g.aa=h.next;h.r=p;h.next=p}}e=new Zb(a.La,a.Tb,a.kb,a.Rf);for(b=a.pb;b!=p;b=b.p)b.z&=-5;for(f=a.aa;f!=p;f=f.p)f.z&=-2;for(f=a.X;f!=p;f=f.p)f.tb=q;f=Array(a.La);for(g=0;g<a.La;g++)f[g]=p;for(g=a.pb;g!=p;g=g.p)if(!(g.z&(ab|4|R|db))){b=e;b.La=0;b.Tb=0;h=b.kb=0;f[h++]=g;for(g.z|=4;h>0;){d=b=f[--h];e.ob[e.La++]=d;b.z&=~R;if(!(b.z&ab)){for(i=b.aa;i!=p;i=i.next)if(!(i.Ea.z&1)){d=i.Ea;e.Sd[e.Tb++]=
d;i.Ea.z|=1;d=i.ra;if(!(d.z&4)){f[h++]=d;d.z|=4}}for(b=b.X;b!=p;b=b.next)if(b.Qb.tb!=m){d=b.Qb;e.Mc[e.kb++]=d;b.Qb.tb=m;d=b.ra;if(!(d.z&4)){f[h++]=d;d.z|=4}}}}e.Dd(a.sd,a.tf);a.He=F(a.He,ac);if(a.pf){b=a;h=e;d=c;i=0;j=void 0;var k=Number.MAX_VALUE,n=Ha*Ha;for(i=0;i<h.La;++i){j=h.ob[i];if(j.i!=0){if((j.z&bb)==0)k=j.vc=0;if((j.z&bb)==0||j.l*j.l>n||oa(j.f,j.f)>0.09)k=j.vc=0;else{j.vc+=d;k=k<j.vc?k:j.vc}}}if(k>=0.5){for(i=0;i<h.La;++i){j=h.ob[i];j.z|=R}h=m}else h=q;b.Vc=h}for(h=0;h<e.La;++h){b=e.ob[h];
if(b.z&ab)b.z&=-5;if((b.z&db)==db&&a.Be)if(a.Be.Gf(b)==1){d=a;b=b;if(!(b.z&32)){if(b.H)b.H.p=b.p;if(b.p)b.p.H=b.H;if(b==d.pb)d.pb=b.p;b.z|=32;--d.La;b.H=p;b.p=d.kd;d.kd=b}e.ob[h]=p}}}a.kf=a.Qa.Cc();if(!this.Q.Vc){this.ld.clearRect(-this.Sc.x,-this.Sc.y,this.ze,this.ye);c=this.Q;a=this.ld;for(e=c.X;e;e=e.p){f=c;g=e;b=a;h=g.h;d=g.e;i=h.c;j=d.c;k=g.Ib();n=g.Jb();b.strokeStyle="#00eeee";b.beginPath();switch(g.qa){case 3:b.moveTo(k.x,k.y);b.lineTo(n.x,n.y);break;case 4:break;default:if(h==f.nc){b.moveTo(k.x,
k.y);b.lineTo(j.x,j.y)}else if(d==f.nc){b.moveTo(k.x,k.y);b.lineTo(i.x,i.y)}else{b.moveTo(i.x,i.y);b.lineTo(k.x,k.y);b.lineTo(j.x,j.y);b.lineTo(n.x,n.y)}}b.stroke()}for(c=c.pb;c;c=c.p)for(e=c.Gb;e!=p;e=e.gc()){f=e;g=a;g.strokeStyle="#ffffff";g.beginPath();switch(f.qa){case 0:b=f.c;h=f.ja;g.arc(f.c.x,f.c.y,f.ja,0,2*Math.PI,q);g.moveTo(b.x,b.y);d=f.d.a;b=new C(b.x+h*d.x,b.y+h*d.y);g.lineTo(b.x,b.y);break;case 2:b=pa(f.c,A(f.d,f.u[0]));g.moveTo(b.x,b.y);for(h=0;h<f.Oa;h++){d=pa(f.c,A(f.d,f.u[h]));g.lineTo(d.x,
d.y)}g.lineTo(b.x,b.y)}g.stroke();f.db=="filled"&&g.fill()}}a=Math.round(Gd(this.sf));this.dispatchEvent(new Md(a,this.Q.Vc))};function xc(a,c,b,d){var e=new Ra;e.za=1;e.vb=d||20;e.Sa=0.8;e.$a=0.9;d=new N;O(d,e);d.position.g(c,b);return W(a,d)}function Bc(a,c,b,d,e,f,g){if(typeof f=="undefined")f=m;if(typeof g=="undefined")g=q;var h=new La;if(!f)h.za=1;if(g)h.C="filled";h.S.g(d,e);d=new N;O(d,h);d.position.g(c,b);return W(a,d)}var Ld=1/60;function Md(a,c){X.call(this,Nd);this.Gc=a;this.Vc=c}
w(Md,X);var Nd="Demo.FrameEventType";$(window).load(function(){var a=new Id($("canvas")[0]);$("#previous").click(function(){Kd(a,-1)});$("#reload").click(function(){Kd(a,0)});$("#next").click(function(){Kd(a,1)});var c=0;wd(a,Nd,function(b){if(c==0){$("#fps").html(b.Gc+" fps");b.Vc?$("#fps").addClass("sleeping"):$("#fps").removeClass("sleeping")}c++;c%=30});$("canvas").each(function(){this.onselectstart=ca(q);this.unselectable="on";$(this).css("-moz-user-select","none");$(this).css("-webkit-user-select","none")})});
