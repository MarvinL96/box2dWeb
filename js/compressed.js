function o(){return function(){}}function aa(a){return function(){return this[a]}}function ba(a){return function(){return a}}var p,t=this;function ca(){}
function da(a){var c=typeof a;if(c=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(c=="function"&&typeof a.call=="undefined")return"object";return c}function ea(a){return a[ha]||(a[ha]=++ia)}var ha="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ia=0;function la(a,c){var b=c||t;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}else return function(){return a.apply(b,arguments)}}var ma=Date.now||function(){return+new Date};
function x(a,c){function b(){}b.prototype=c.prototype;a.je=c.prototype;a.prototype=new b};function na(a,c){return a.x*c.x+a.y*c.y}function z(a,c){return new B(a.a.x*c.x+a.b.x*c.y,a.a.y*c.x+a.b.y*c.y)}function oa(a,c){return new B(a.x+c.x,a.y+c.y)}function pa(a,c){return new B(a.x-c.x,a.y-c.y)}function C(a){return a>0?a:-a}function E(a,c){return a>c?a:c}function F(a,c,b){return E(c,a<b?a:b)};function qa(a){this.stack=Error().stack||"";if(a)this.message=String(a)}x(qa,Error);function ra(a){for(var c=1;c<arguments.length;c++){var b=String(arguments[c]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,b)}return a}
function sa(a,c){for(var b=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(c).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;b==0&&g<f;g++){var h=d[g]||"",i=e[g]||"",j=RegExp("(\\d*)(\\D*)","g"),k=RegExp("(\\d*)(\\D*)","g");do{var l=j.exec(h)||["","",""],m=k.exec(i)||["","",""];if(l[0].length==0&&m[0].length==0)break;b=ta(l[1].length==0?0:parseInt(l[1],10),m[1].length==0?0:parseInt(m[1],10))||ta(l[2].length==0,m[2].length==0)||ta(l[2],m[2])}while(b==
0)}return b}function ta(a,c){if(a<c)return-1;else if(a>c)return 1;return 0};function ua(a,c){c.unshift(a);qa.call(this,ra.apply(null,c));c.shift();this.Yf=a}x(ua,qa);function va(a,c){if(!a){var b=Array.prototype.slice.call(arguments,2),d="Assertion failed";if(c){d+=": "+c;var e=b}throw new ua(""+d,e||[]);}return a};var wa=Array.prototype,xa=wa.indexOf?function(a,c,b){va(a.length!=null);return wa.indexOf.call(a,c,b)}:function(a,c,b){b=b==null?0:b<0?Math.max(0,a.length+b):b;if(typeof a=="string"){if(typeof c!="string"||c.length!=1)return-1;return a.indexOf(c,b)}for(b=b;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1};function ya(a,c){this.x=a!==undefined?a:0;this.y=c!==undefined?c:0}ya.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function za(a,c){this.x=Number(a)||0;this.y=Number(c)||0}x(za,ya);function Aa(a){return Math.sqrt(a.x*a.x+a.y*a.y)}za.prototype.scale=function(a){this.x*=a;this.y*=a;return this};za.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};function Ba(a,c){a.x-=c.x;a.y-=c.y;return a};function B(a,c){if(a===undefined)a=0;this.x=a;if(c===undefined)c=0;this.y=c}x(B,za);p=B.prototype;p.oa=function(){this.y=this.x=0};p.g=function(a,c){this.x=a;this.y=c};function I(a,c){a.x=c.x;a.y=c.y}p.Bd=function(){return new B(this.x,this.y)};function Ca(a,c){var b=a.x;a.x=c.a.x*b+c.b.x*a.y;a.y=c.a.y*b+c.b.y*a.y}p.dc=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};p.Fc=function(){return isFinite(this.x)&&isFinite(this.y)};function K(){this.F=new B;this.B=new B}K.prototype.Fc=function(){var a=this.B.x,c=this.B.y;a=this.B.x;c=this.B.y;a-=this.F.x;c-=this.F.y;return a=(a=a>=0&&c>=0)&&this.F.Fc()&&this.B.Fc()};var Da=Math.PI,Ea=2/180*Da,Fa=8/180*Da,Ga=2/180/1;function L(){this.Bc=[];this.C=null;for(var a=0;a<64;a++)this.Bc[a]=null;this.position=new B(0,0);this.rotation=0;this.pf=new B(0,0);this.lf=this.of=this.Hd=0;this.kf=true;this.Df=this.mf=false}function M(a,c){for(var b=0;b<64;++b)if(a.Bc[b]==null){a.Bc[b]=c;break}};function Ha(){this.type=Ja;this.C=null;this.Ba=new B(0,0);this.zb=0;this.ab=0.2;this.Aa=this.Sa=0;this.Ta=1;this.Ya=65535;this.Pb=0}Ha.prototype.Ta=0;Ha.prototype.Ya=0;Ha.prototype.Pb=0;function Ka(){this.type=Ja;this.C=null;this.Ba=new B(0,0);this.zb=0;this.ab=0.2;this.Aa=this.Sa=0;this.Ta=1;this.Ya=65535;this.Pb=0;this.type=La;this.S=new B(1,1)}x(Ka,Ha);function N(a,c,b){if(a==null)a=0;this.a=new B;this.b=new B;if(c!=null&&b!=null){I(this.a,c);I(this.b,b)}else{c=Math.cos(a);a=Math.sin(a);this.a.x=c;this.b.x=-a;this.a.y=a;this.b.y=c}}p=N.prototype;p.g=function(a){var c=Math.cos(a);a=Math.sin(a);this.a.x=c;this.b.x=-a;this.a.y=a;this.b.y=c};p.Bd=function(){return new N(0,this.a,this.b)};function Ma(a,c){I(a.a,c.a);I(a.b,c.b)}function Na(a,c){a.a.x+=c.a.x;a.a.y+=c.a.y;a.b.x+=c.b.x;a.b.y+=c.b.y}
p.oa=function(){this.a.x=0;this.b.x=0;this.a.y=0;this.b.y=0};function Oa(a,c){var b=a.a.x,d=a.b.x,e=a.a.y,f=a.b.y,g=b*f-d*e;g=1/g;c.a.x=g*f;c.b.x=-g*d;c.a.y=-g*e;c.b.y=g*b;return c}p.Fd=function(a,c,b){var d=this.a.x,e=this.b.x,f=this.a.y,g=this.b.y,h=d*g-e*f;h=1/h;a.x=h*(g*c-e*b);a.y=h*(d*b-f*c);return a};p.dc=function(){this.a.dc();this.b.dc()};function Pa(a,c){this.d=new N;this.c=new B;this.eb=a.C;this.ka=a.ab;this.la=a.Sa;this.w=c;this.ba=O;this.rc=0;this.Ta=a.Ta;this.Ya=a.Ya;this.pc=a.Pb}Pa.prototype.Yc=o();Pa.prototype.gc=aa("p");Pa.prototype.ec=function(){if(this.ba!=O){this.w.Q.Qa.ec(this.ba);this.ba=O}};Pa.prototype.Gd=o();var Ja=-1,La=1;function Qa(){this.type=Ja;this.C=null;this.Ba=new B(0,0);this.zb=0;this.ab=0.2;this.Aa=this.Sa=0;this.Ta=1;this.Ya=65535;this.type=this.Pb=0;this.vb=1}x(Qa,Ha);function Ra(){this.ea=new B(0,0)}Ra.prototype={fb:0,ea:new B(0,0),hc:0};function Sa(a,c,b){this.d=new N;this.c=new B;this.eb=a.C;this.ka=a.ab;this.la=a.Sa;this.w=c;this.ba=O;this.rc=0;this.Ta=a.Ta;this.Ya=a.Ya;this.pc=a.Pb;this.Ra=new B;this.Ra.g(a.Ba.x-b.x,a.Ba.y-b.y);this.qa=0;this.ja=a.vb;Ma(this.d,this.w.d);a=this.d.a.x*this.Ra.x+this.d.b.x*this.Ra.y;c=this.d.a.y*this.Ra.x+this.d.b.y*this.Ra.y;this.c.x=this.w.c.x+a;this.c.y=this.w.c.y+c;this.rc=Math.sqrt(a*a+c*c)+this.ja;a=new K;a.F.g(this.c.x-this.ja,this.c.y-this.ja);a.B.g(this.c.x+this.ja,this.c.y+this.ja);c=this.w.Q.Qa;
this.ba=c.ic(a)?Ta(c,a,this):O;this.ba==O&&Ua(this.w)}x(Sa,Pa);Sa.prototype.Gd=function(a,c,b,d){Ma(this.d,d);this.c.x=d.a.x*this.Ra.x+d.b.x*this.Ra.y+b.x;this.c.y=d.a.y*this.Ra.x+d.b.y*this.Ra.y+b.y;if(this.ba!=O){b=a.x+(c.a.x*this.Ra.x+c.b.x*this.Ra.y);d=a.y+(c.a.y*this.Ra.x+c.b.y*this.Ra.y);a=Math.min(b,this.c.x);c=Math.min(d,this.c.y);b=Math.max(b,this.c.x);var e=Math.max(d,this.c.y);d=new K;d.F.g(a-this.ja,c-this.ja);d.B.g(b+this.ja,e+this.ja);a=this.w.Q.Qa;a.ic(d)?a.oe(this.ba,d):Ua(this.w)}};
Sa.prototype.Yc=function(a){if(this.ba!=O){a.ec(this.ba);var c=new K;c.F.g(this.c.x-this.ja,this.c.y-this.ja);c.B.g(this.c.x+this.ja,this.c.y+this.ja);this.ba=a.ic(c)?Ta(a,c,this):O;this.ba==O&&Ua(this.w)}};function Va(){this.Fa=new N;this.ea=new B;this.S=new B};function Wa(a,c,b){this.d=new N;this.c=new B;this.eb=a.C;this.ka=a.ab;this.la=a.Sa;this.w=c;this.ba=O;this.rc=0;this.Ta=a.Ta;this.Ya=a.Ya;this.pc=a.Pb;this.Ja=new K;this.na=new N;this.Ca=new B;this.t=new Va;var d=0,e;c=new K;this.u=Array(8);this.Ub=Array(8);this.cb=Array(8);this.qa=2;var f=new N(a.zb);if(a.type==La){this.Ca.x=a.Ba.x-b.x;this.Ca.y=a.Ba.y-b.y;this.Oa=4;b=a.S.x;e=a.S.y;d=Math.max(0,b-0.3);var g=Math.max(0,e-0.3);a=this.u[0]=new B;a.x=f.a.x*b+f.b.x*e;a.y=f.a.y*b+f.b.y*e;a=this.u[1]=new B;
a.x=f.a.x*-b+f.b.x*e;a.y=f.a.y*-b+f.b.y*e;a=this.u[2]=new B;a.x=f.a.x*-b+f.b.x*-e;a.y=f.a.y*-b+f.b.y*-e;a=this.u[3]=new B;a.x=f.a.x*b+f.b.x*-e;a.y=f.a.y*b+f.b.y*-e;a=this.Ub[0]=new B;a.x=f.a.x*d+f.b.x*g;a.y=f.a.y*d+f.b.y*g;a=this.Ub[1]=new B;a.x=f.a.x*-d+f.b.x*g;a.y=f.a.y*-d+f.b.y*g;a=this.Ub[2]=new B;a.x=f.a.x*-d+f.b.x*-g;a.y=f.a.y*-d+f.b.y*-g;a=this.Ub[3]=new B;a.x=f.a.x*d+f.b.x*-g;a.y=f.a.y*d+f.b.y*-g}else{this.Oa=a.Cc;d=a.Hb;e=a.Cc;for(var h=g=0,i=0,j=1/3,k=0;k<e;++k){var l=d[k].x,m=d[k].y,n=
k+1<e?d[k+1].x:d[0].x,q=k+1<e?d[k+1].y:d[0].y,s=0.5*((l-0)*(q-0)-(m-0)*(n-0));i+=s;g+=s*j*(0+l+n);h+=s*j*(0+m+q)}g*=1/i;h*=1/i;Xa.g(g,h);g=Xa.x;h=Xa.y;this.Ca.x=a.Ba.x+(f.a.x*g+f.b.x*h)-b.x;this.Ca.y=a.Ba.y+(f.a.y*g+f.b.y*h)-b.y;for(d=0;d<this.Oa;++d){this.u[d]=new B;this.Ub[d]=new B;b=a.Hb[d].x-g;e=a.Hb[d].y-h;this.u[d].x=f.a.x*b+f.b.x*e;this.u[d].y=f.a.y*b+f.b.y*e;b=this.u[d].x;e=this.u[d].y;i=Math.sqrt(b*b+e*e);if(i>Number.MIN_VALUE){b*=1/i;e*=1/i}this.Ub[d].x=this.u[d].x-0.3*b;this.Ub[d].y=this.u[d].y-
0.3*e}}a=f=Number.MAX_VALUE;b=-Number.MAX_VALUE;e=-Number.MAX_VALUE;for(d=this.rc=0;d<this.Oa;++d){g=this.u[d];f=Math.min(f,g.x);a=Math.min(a,g.y);b=Math.max(b,g.x);e=Math.max(e,g.y);this.rc=Math.max(this.rc,Aa(g))}d=this.t.Fa;d.a.x=1;d.b.x=0;d.a.y=0;d.b.y=1;this.t.ea.g((f+b)*0.5,(a+e)*0.5);this.t.S.g((b-f)*0.5,(e-a)*0.5);for(d=a=f=0;d<this.Oa;++d){this.cb[d]=new B;f=d;a=d+1<this.Oa?d+1:0;this.cb[d].x=this.u[a].y-this.u[f].y;this.cb[d].y=-(this.u[a].x-this.u[f].x);f=this.cb[d];a=Aa(f);if(!(a<Number.MIN_VALUE)){a=
1/a;f.x*=a;f.y*=a}}for(d=0;d<this.Oa;++d);Ma(this.d,this.w.d);this.c.x=this.w.c.x+(this.d.a.x*this.Ca.x+this.d.b.x*this.Ca.y);this.c.y=this.w.c.y+(this.d.a.y*this.Ca.x+this.d.b.y*this.Ca.y);P.a.x=this.d.a.x*this.t.Fa.a.x+this.d.b.x*this.t.Fa.a.y;P.a.y=this.d.a.y*this.t.Fa.a.x+this.d.b.y*this.t.Fa.a.y;P.b.x=this.d.a.x*this.t.Fa.b.x+this.d.b.x*this.t.Fa.b.y;P.b.y=this.d.a.y*this.t.Fa.b.x+this.d.b.y*this.t.Fa.b.y;P.dc();b=P.a.x*this.t.S.x+P.b.x*this.t.S.y;e=P.a.y*this.t.S.x+P.b.y*this.t.S.y;f=this.c.x+
(this.d.a.x*this.t.ea.x+this.d.b.x*this.t.ea.y);a=this.c.y+(this.d.a.y*this.t.ea.x+this.d.b.y*this.t.ea.y);c.F.x=f-b;c.F.y=a-e;c.B.x=f+b;c.B.y=a+e;f=this.w.Q.Qa;this.ba=f.ic(c)?Ta(f,c,this):O;this.ba==O&&Ua(this.w)}x(Wa,Pa);Wa.prototype.Ja=new K;Wa.prototype.na=new N;
Wa.prototype.Gd=function(a,c,b,d){Ma(this.d,d);this.c.x=this.w.c.x+(d.a.x*this.Ca.x+d.b.x*this.Ca.y);this.c.y=this.w.c.y+(d.a.y*this.Ca.x+d.b.y*this.Ca.y);if(this.ba!=O){var e,f;e=c.a;f=c.b;var g=this.t.Fa.a,h=this.t.Fa.b;this.na.a.x=e.x*g.x+f.x*g.y;this.na.a.y=e.y*g.x+f.y*g.y;this.na.b.x=e.x*h.x+f.x*h.y;this.na.b.y=e.y*h.x+f.y*h.y;this.na.dc();e=this.Ca.x+this.t.ea.x;f=this.Ca.y+this.t.ea.y;g=a.x+(c.a.x*e+c.b.x*f);a=a.y+(c.a.y*e+c.b.y*f);e=this.na.a.x*this.t.S.x+this.na.b.x*this.t.S.y;f=this.na.a.y*
this.t.S.x+this.na.b.y*this.t.S.y;this.Ja.F.x=g-e;this.Ja.F.y=a-f;this.Ja.B.x=g+e;this.Ja.B.y=a+f;e=d.a;f=d.b;g=this.t.Fa.a;h=this.t.Fa.b;this.na.a.x=e.x*g.x+f.x*g.y;this.na.a.y=e.y*g.x+f.y*g.y;this.na.b.x=e.x*h.x+f.x*h.y;this.na.b.y=e.y*h.x+f.y*h.y;this.na.dc();e=this.Ca.x+this.t.ea.x;f=this.Ca.y+this.t.ea.y;g=b.x+(d.a.x*e+d.b.x*f);a=b.y+(d.a.y*e+d.b.y*f);e=this.na.a.x*this.t.S.x+this.na.b.x*this.t.S.y;f=this.na.a.y*this.t.S.x+this.na.b.y*this.t.S.y;this.Ja.F.x=Math.min(this.Ja.F.x,g-e);this.Ja.F.y=
Math.min(this.Ja.F.y,a-f);this.Ja.B.x=Math.max(this.Ja.B.x,g+e);this.Ja.B.y=Math.max(this.Ja.B.y,a+f);b=this.w.Q.Qa;b.ic(this.Ja)?b.oe(this.ba,this.Ja):Ua(this.w)}};Wa.prototype.Yc=function(a){if(this.ba!=O){a.ec(this.ba);var c=new N(0,z(this.d,this.t.Fa.a),z(this.d,this.t.Fa.b));c=new N(0,new B(C(c.a.x),C(c.a.y)),new B(C(c.b.x),C(c.b.y)));c=z(c,this.t.S);var b=z(this.d,this.t.ea);b.add(this.c);var d=new K;I(d.F,b);Ba(d.F,c);I(d.B,b);d.B.add(c);this.ba=a.ic(d)?Ta(a,d,this):O;this.ba==O&&Ua(this.w)}};
var Xa=new B,P=new N;function Ya(a,c){this.Te=new N;this.c=new B;I(this.c,a.position);this.de=new B;I(this.de,this.c);var b=0,d,e;this.z=0;this.n=a.rotation;this.d=new N(0);this.d.g(this.n);this.Le=this.n;this.Q=c;this.Bf=F(1-a.of,0,1);this.tf=F(1-a.lf,0,1);this.Mc=new B(0,0);this.Ma=this.Me=0;var f=Array(64);for(b=0;b<64;b++)f[b]=new Ra;this.ac=0;this.Ab=new B(0,0);for(b=0;b<64;++b){d=a.Bc[b];if(d==null)break;e=f[b];var g=d,h=e;h.ea=new B(0,0);if(g.Aa==0){h.fb=0;h.ea.g(0,0);h.hc=0}switch(g.type){case 0:h.fb=g.Aa*Da*
g.vb*g.vb;h.ea.g(0,0);h.hc=0.5*h.fb*g.vb*g.vb;break;case La:h.fb=4*g.Aa*g.S.x*g.S.y;h.ea.g(0,0);h.hc=h.fb/3*na(g.S,g.S);break;case 2:h=h;var i=g.Hb,j=g.Cc;g=g.Aa;var k=new B;k.oa();for(var l=0,m=0,n=new B(0,0),q=1/3,s=0;s<j;++s){var r=n,y=i[s],v=s+1<j?i[s+1]:i[0],u=pa(y,r),w=pa(v,r),G=u.x*w.y-u.y*w.x,A=0.5*G;l+=A;var H=new B;I(H,r);H.add(y);H.add(v);H.scale(q*A);k.add(H);y=r.x;r=r.y;v=u.x;u=u.y;A=w.x;w=w.y;m+=G*(q*(0.25*(v*v+A*v+A*A)+(y*v+y*A))+0.5*y*y+(q*(0.25*(u*u+w*u+w*w)+(r*u+r*w))+0.5*r*r))}h.fb=
g*l;k.scale(1/l);h.ea=k;m=g*(m-l*na(k,k));h.hc=m;break;default:h.fb=0;h.ea.g(0,0);h.hc=0;break}this.Ma+=e.fb;this.Ab.x+=e.fb*(d.Ba.x+e.ea.x);this.Ab.y+=e.fb*(d.Ba.y+e.ea.y);++this.ac}if(this.Ma>0){this.Ab.scale(1/this.Ma);this.c.add(z(this.d,this.Ab))}else this.z|=Za;for(b=this.Kc=0;b<this.ac;++b){d=a.Bc[b];e=f[b];this.Kc+=e.hc;d=pa(oa(d.Ba,e.ea),this.Ab);this.Kc+=e.fb*na(d,d)}this.i=this.Ma>0?1/this.Ma:0;if(this.Kc>0&&a.Df==false)this.m=1/this.Kc;else this.m=this.Kc=0;this.f=oa(a.pf,new B(-a.Hd*
this.Ab.y,a.Hd*this.Ab.x));this.l=a.Hd;this.Gb=this.p=this.G=this.aa=this.Z=null;for(b=0;b<this.ac;++b){d=a.Bc[b];a:{e=d;f=this.Ab;switch(e.type){case 0:e=new Sa(e,this,f);break a;case La:case 2:e=new Wa(e,this,f);break a}e=null}e.p=this.Gb;this.Gb=e}this.wc=0;if(a.kf)this.z|=$a;if(a.mf)this.z|=Q;if(this.z&Q||this.i==0){this.f.g(0,0);this.l=0}this.eb=a.C}function ab(a){a.z&=~Q;a.wc=0}Ya.prototype.gc=aa("p");function Ua(a){a.z|=bb;a.f.oa();a.l=0;for(a=a.Gb;a!=null;a=a.p)a.ec()}
var Za=1,bb=2,Q=8,$a=16;function cb(){}cb.prototype={jc:function(){return(this.value&1)==0},ne:function(){return(this.value&1)==1},Zc:function(a){var c=this.value,b=this.H,d=this.v;this.value=a.value;this.H=a.H;this.v=a.v;a.value=c;a.H=b;a.v=d},value:0,H:0,v:0};function db(){this.hd=[0,0];this.xd=[0,0]};function eb(){}eb.prototype={Ha:0,Ia:0};function fb(){}fb.prototype={re:function(){this.status|=gb},Xe:function(){this.status&=~gb},le:function(){return(this.status&gb)==gb},ff:function(){this.status|=hb},Ye:function(){this.status&=~hb},$e:function(){return(this.status&hb)==hb},ef:function(){this.status|=ib},me:function(){return(this.status&ib)==ib},Ha:0,Ia:0,next:0,status:0};fb.prototype.ue=null;var O=65535,gb=1,hb=2,ib=4;function jb(){var a=0;this.Vb=Array(8192);for(a=0;a<8192;++a)this.Vb[a]=65535;this.pa=Array(8192);for(a=0;a<8192;++a)this.pa[a]=new fb;this.Wa=Array(8192);for(a=0;a<8192;++a)this.Wa[a]=new eb;for(a=0;a<8192;++a){this.pa[a].Ha=O;this.pa[a].Ia=O;this.pa[a].C=null;this.pa[a].status=0;this.pa[a].next=a+1}this.pa[8191].next=65535;this.ce=0}
jb.prototype={Ze:function(a,c){this.Qa=a;this.Td=c},zd:function(a,c){var b=this.We(a,c);if(b.le()==false){b.re();this.Wa[this.Db].Ha=b.Ha;this.Wa[this.Db].Ia=b.Ia;++this.Db}b.Ye()},Dd:function(a,c){var b=kb(this,a,c);if(b!=null){if(b.le()==false){b.re();this.Wa[this.Db].Ha=b.Ha;this.Wa[this.Db].Ia=b.Ia;++this.Db}b.ff()}},We:function(a,c){if(a>c){var b=a;a=c;c=b}b=lb(a,c)&8191;var d=mb(this,a,c,b);if(d!=null)return d;var e=this.od;d=this.pa[e];this.od=d.next;d.Ha=a;d.Ia=c;d.status=0;d.C=null;d.next=
this.Vb[b];this.Vb[b]=e;++this.ce;return d},df:function(a,c){if(a>c){var b=a;a=c;c=b}for(var d=lb(a,c)&8191,e=this.Vb[d],f=null;e!=65535;)if(this.pa[e].Ha==a&&this.pa[e].Ia==c){b=e;if(f)f.next=this.pa[e].next;else this.Vb[d]=this.pa[e].next;d=this.pa[b];e=d.C;d.next=this.od;d.Ha=O;d.Ia=O;d.C=null;d.status=0;this.od=b;--this.ce;return e}else{f=this.pa[e];e=f.next}return null},Qa:null,Td:null,od:0,ce:0,Wa:null,Db:0,Vb:null};function kb(a,c,b){if(c>b){var d=c;c=b;b=d}return mb(a,c,b,lb(c,b)&8191)}
function mb(a,c,b,d){for(d=a.Vb[d];d!=65535&&(a.pa[d].Ha==c&&a.pa[d].Ia==b)==false;)d=a.pa[d].next;if(d==65535)return null;return a.pa[d]}
jb.prototype.Dc=function(){var a=0,c=0,b=this.Qa.za,d=[];for(a=0;a<this.Db;++a){var e=kb(this,this.Wa[a].Ha,this.Wa[a].Ia);e.Xe();var f=b[e.Ha],g=b[e.Ia];if(e.$e()){e.me()==true&&this.Td.qe(f.C,g.C,e.C);this.Wa[c].Ha=e.Ha;this.Wa[c].Ia=e.Ia;++c}else if(e.me()==false){e.ue=this.Td.pe(f.C,g.C);d.push(e.ue);e.ef()}}for(a=0;a<c;++a)this.df(this.Wa[a].Ha,this.Wa[a].Ia);this.Db=0;return d};
function lb(a,c){var b=c<<16&4294901760|a;b=~b+(b<<15&4294934528);b^=b>>12&1048575;b+=b<<2&4294967292;b^=b>>4&268435455;b*=2057;b^=b>>16&65535;return b};function nb(){this.wa=[0,0];this.Ea=[0,0]}nb.prototype={gc:function(){return this.wa[0]},Ed:function(a){this.wa[0]=a},Fc:function(){return this.cc!=65535},wa:[0,0],Ea:[0,0],cc:0,timeStamp:0,C:null};function ob(a,c){this.db=new jb;this.za=Array(8192);this.Ua=Array(2048);this.vc=Array(1024);this.Yb=new B;var b=0;this.db.Ze(this,c);this.ia=a;for(b=this.Eb=0;b<1024;b++)this.vc[b]=0;this.Ua=Array(2);for(b=0;b<2;b++){this.Ua[b]=Array(2048);for(var d=0;d<2048;d++)this.Ua[b][d]=new cb}b=a.B.x;d=a.B.y;b-=a.F.x;d-=a.F.y;this.Yb.x=65535/b;this.Yb.y=65535/d;for(b=0;b<1023;++b){d=new nb;this.za[b]=d;d.Ed(b+1);d.timeStamp=0;d.cc=65535;d.C=null}d=new nb;this.za[1023]=d;d.Ed(O);d.timeStamp=0;d.cc=65535;d.C=
null;this.pd=0;this.yc=1;this.ub=0}
ob.prototype={ic:function(a){var c,b,d,e;c=a.F.x;b=a.F.y;c-=this.ia.B.x;b-=this.ia.B.y;d=this.ia.F.x;e=this.ia.F.y;d-=a.B.x;e-=a.B.y;c=E(c,d);b=E(b,e);return E(c,b)<0},ec:function(a){for(var c=this.za[a],b=2*this.Eb,d=0;d<2;++d){var e=this.Ua[d],f=c.wa[d],g=c.Ea[d],h=e[f].value,i=e[g].value,j=[],k=0,l=g-f-1,m,n;for(k=0;k<l;k++){j[k]=new cb;m=j[k];n=e[f+1+k];m.value=n.value;m.H=n.H;m.v=n.v}l=j.length;var q=f;for(k=0;k<l;k++){n=j[k];m=e[q+k];m.value=n.value;m.H=n.H;m.v=n.v}j=[];l=b-g-1;for(k=0;k<l;k++){j[k]=
new cb;m=j[k];n=e[g+1+k];m.value=n.value;m.H=n.H;m.v=n.v}l=j.length;q=g-1;for(k=0;k<l;k++){n=j[k];m=e[q+k];m.value=n.value;m.H=n.H;m.v=n.v}l=b-2;for(j=f;j<l;++j){k=this.za[e[j].H];if(e[j].jc())k.wa[d]=j;else k.Ea[d]=j}l=g-1;for(f=f;f<l;++f)e[f].v--;this.Gc([0],[0],h,i,e,b-2,d)}for(b=0;b<this.ub;++b)this.db.Dd(a,this.vc[b]);this.db.Dc();this.ub=0;this.Cd();c.C=null;c.cc=65535;c.wa[0]=65535;c.wa[1]=65535;c.Ea[0]=65535;c.Ea[1]=65535;c.Ed(this.pd);this.pd=a;--this.Eb},oe:function(a,c){var b=0,d=0,e,f,
g=0,h;if(!(a==O||1024<=a))if(c.Fc()!=false){var i=2*this.Eb,j=this.za[a],k=new db;this.Ad(k.hd,k.xd,c);var l=new db;for(b=0;b<2;++b){l.hd[b]=this.Ua[b][j.wa[b]].value;l.xd[b]=this.Ua[b][j.Ea[b]].value}for(b=0;b<2;++b){var m=this.Ua[b],n=j.wa[b],q=j.Ea[b],s=k.hd[b],r=k.xd[b],y=s-m[n].value,v=r-m[q].value;m[n].value=s;m[q].value=r;if(y<0)for(d=n;d>0&&s<m[d-1].value;){e=m[d];f=m[d-1];g=f.H;h=this.za[f.H];f.v++;if(f.ne()==true){this.$c(k,h)&&this.db.zd(a,g);h.Ea[b]++;e.v++}else{h.wa[b]++;e.v--}j.wa[b]--;
e.Zc(f);--d}if(v>0)for(d=q;d<i-1&&m[d+1].value<=r;){e=m[d];f=m[d+1];g=f.H;h=this.za[g];f.v++;if(f.jc()==true){this.$c(k,h)&&this.db.zd(a,g);h.wa[b]--;e.v++}else{h.Ea[b]--;e.v--}j.Ea[b]++;e.Zc(f);d++}if(y>0)for(d=n;d<i-1&&m[d+1].value<=s;){e=m[d];f=m[d+1];g=f.H;h=this.za[g];f.v--;if(f.ne()){this.$c(l,h)&&this.db.Dd(a,g);h.Ea[b]--;e.v--}else{h.wa[b]--;e.v++}j.wa[b]++;e.Zc(f);d++}if(v<0)for(d=q;d>0&&r<m[d-1].value;){e=m[d];f=m[d-1];g=f.H;h=this.za[g];f.v--;if(f.jc()==true){this.$c(l,h)&&this.db.Dd(a,
g);h.wa[b]++;e.v--}else{h.Ea[b]++;e.v++}j.Ea[b]--;e.Zc(f);d--}}}},cf:function(a,c,b){var d=[],e=[];this.Ad(d,e,a);a=[0];var f=[0];this.Gc(a,f,d[0],e[0],this.Ua[0],2*this.Eb,0);this.Gc(a,f,d[1],e[1],this.Ua[1],2*this.Eb,1);for(e=d=0;e<this.ub&&d<b;++e,++d)c[e]=this.za[this.vc[e]].C;this.ub=0;this.Cd();return d},Ad:function(a,c,b){var d=b.F.x,e=b.F.y;d=d<this.ia.B.x?d:this.ia.B.x;e=e<this.ia.B.y?e:this.ia.B.y;d=E(d,this.ia.F.x);e=E(e,this.ia.F.y);var f=b.B.x;b=b.B.y;f=f<this.ia.B.x?f:this.ia.B.x;b=
b<this.ia.B.y?b:this.ia.B.y;f=E(f,this.ia.F.x);b=E(b,this.ia.F.y);a[0]=this.Yb.x*(d-this.ia.F.x)&65534;c[0]=this.Yb.x*(f-this.ia.F.x)&65535|1;a[1]=this.Yb.y*(e-this.ia.F.y)&65534;c[1]=this.Yb.y*(b-this.ia.F.y)&65535|1},$c:function(a,c){for(var b=0;b<2;++b){var d=this.Ua[b];if(a.hd[b]>d[c.Ea[b]].value)return false;if(a.xd[b]<d[c.wa[b]].value)return false}return true},Gc:function(a,c,b,d,e,f,g){b=pb(e,f,b);d=pb(e,f,d);for(f=b;f<d;++f)e[f].jc()&&this.ke(e[f].H);if(b>0){f=b-1;for(var h=e[f].v;h;){if(e[f].jc())if(b<=
this.za[e[f].H].Ea[g]){this.ke(e[f].H);--h}--f}}a[0]=b;c[0]=d},ke:function(a){var c=this.za[a];if(c.timeStamp<this.yc){c.timeStamp=this.yc;c.cc=1}else{c.cc=2;this.vc[this.ub]=a;++this.ub}},Cd:function(){if(this.yc==65535){for(var a=0;a<1024;++a)this.za[a].timeStamp=0;this.yc=1}else++this.yc},db:new jb,za:Array(8192),Ua:Array(2048),vc:Array(1024),ub:0,ia:null,Yb:new B,Eb:0,yc:0};ob.prototype.Dc=function(){return this.db.Dc()};
function Ta(a,c,b){var d=0,e,f=a.pd;e=a.za[f];a.pd=e.gc();e.cc=0;e.C=b;b=2*a.Eb;e=[];var g=[];a.Ad(e,g,c);for(c=0;c<2;++c){var h=a.Ua[c],i=0,j=0;i=[i];j=[j];a.Gc(i,j,e[c],g[c],h,b,c);i=i[0];j=j[0];d=[];var k=0,l=b-j,m,n;for(k=0;k<l;k++){d[k]=new cb;m=d[k];n=h[j+k];m.value=n.value;m.H=n.H;m.v=n.v}l=d.length;var q=j+2;for(k=0;k<l;k++){n=d[k];m=h[q+k];m.value=n.value;m.H=n.H;m.v=n.v}d=[];l=j-i;for(k=0;k<l;k++){d[k]=new cb;m=d[k];n=h[i+k];m.value=n.value;m.H=n.H;m.v=n.v}l=d.length;q=i+1;for(k=0;k<l;k++){n=
d[k];m=h[q+k];m.value=n.value;m.H=n.H;m.v=n.v}++j;h[i].value=e[c];h[i].H=f;h[j].value=g[c];h[j].H=f;h[i].v=i==0?0:h[i-1].v;h[j].v=h[j-1].v;for(d=i;d<j;++d)h[d].v++;for(d=i;d<b+2;++d){i=a.za[h[d].H];if(h[d].jc())i.wa[c]=d;else i.Ea[c]=d}}++a.Eb;for(b=0;b<a.ub;++b)a.db.zd(f,a.vc[b]);a.db.Dc();a.ub=0;a.Cd();return f}function pb(a,c,b){var d=0;for(c=c-1;d<=c;){var e=Math.floor((d+c)/2);if(a[e].value>b)c=e-1;else if(a[e].value<b)d=e+1;else return e}return d};var qb=new (o());function R(){}R.prototype={ra:null,Ga:null,r:null,next:null};function rb(){}rb.prototype={Id:null,Jd:null,ie:null};function sb(a,c){this.o=new R;this.q=new R;this.z=0;if(!a||!c)this.J=this.I=null;else{this.I=a;this.J=c;this.Da=0;this.ka=Math.sqrt(this.I.ka*this.J.ka);this.la=E(this.I.la,this.J.la);this.p=this.G=null;this.o.Ga=null;this.o.r=null;this.o.next=null;this.o.ra=null;this.q.Ga=null;this.q.r=null;this.q.next=null;this.q.ra=null}}sb.prototype={fc:ba(null),gc:aa("p"),Ec:o(),z:0,G:null,p:null,o:new R,q:new R,I:null,J:null,Da:0,ka:null,la:null};function tb(a){this.Mf=a;this.gf=this.jf=this.hf=this.Kf=0};function ub(){this.Lb=0;this.T=new tb(this)}ub.prototype.g=function(a){vb(this,a.Lb)};ub.prototype.Bd=function(){var a=new ub;vb(a,this.Lb);return a};function vb(a,c){a.Lb=c;a.T.jf=a.Lb&255;a.T.Lf=(a.Lb&65280)>>8&255;a.T.hf=(a.Lb&16711680)>>16&255;a.T.gf=(a.Lb&4278190080)>>24&255};function wb(){this.wb=new B;this.id=new ub};function xb(a,c,b,d){var e=0,f=c[0].wb,g=c[1].wb,h=na(b,c[0].wb)-d;b=na(b,c[1].wb)-d;if(h<=0)a[e++]=c[0];if(b<=0)a[e++]=c[1];if(h*b<0){b=h/(h-b);d=a[e].wb;d.x=f.x+b*(g.x-f.x);d.y=f.y+b*(g.y-f.y);a[e].id=h>0?c[0].id:c[1].id;++e}return e}
function yb(a,c,b){var d=a.u,e=b.Oa,f=b.u,g=a.cb[c].x,h=a.cb[c].y,i=g,j=a.d;g=j.a.x*i+j.b.x*h;h=j.a.y*i+j.b.y*h;var k=g,l=h;j=b.d;i=k*j.a.x+l*j.a.y;l=k*j.b.x+l*j.b.y;k=i;i=0;j=Number.MAX_VALUE;for(var m=0;m<e;++m){var n=f[m];n=n.x*k+n.y*l;if(n<j){j=n;i=m}}j=a.d;e=a.c.x+(j.a.x*d[c].x+j.b.x*d[c].y);a=a.c.y+(j.a.y*d[c].x+j.b.y*d[c].y);j=b.d;c=b.c.x+(j.a.x*f[i].x+j.b.x*f[i].y);b=b.c.y+(j.a.y*f[i].x+j.b.y*f[i].y);c-=e;b-=a;return c*g+b*h}
function zb(a,c,b,d){var e=c.Oa,f=b.c.x-c.c.x,g=b.c.y-c.c.y,h=f*c.d.a.x+g*c.d.a.y;g=f*c.d.b.x+g*c.d.b.y;f=0;for(var i=-Number.MAX_VALUE,j=0;j<e;++j){var k=c.cb[j].x*h+c.cb[j].y*g;if(k>i){i=k;f=j}}h=yb(c,f,b);if(h>0&&d==false)return h;j=f-1>=0?f-1:e-1;k=yb(c,j,b);if(k>0&&d==false)return k;var l=f+1<e?f+1:0,m=yb(c,l,b);if(m>0&&d==false)return m;i=g=0;if(k>h&&k>m){i=-1;g=j;j=k}else if(m>h){i=1;g=l;j=m}else{a[0]=f;return h}for(;;){f=i==-1?g-1>=0?g-1:e-1:g+1<e?g+1:0;h=yb(c,f,b);if(h>0&&d==false)return h;
if(h>j){g=f;j=h}else break}a[0]=g;return j}var Ab=new B;function Bb(){this.position=new B;this.id=new ub}Bb.prototype={hb:null,ma:null,sa:null};function Cb(){this.X=Array(2);for(var a=0;a<2;a++)this.X[a]=new Bb;this.D=new B}Cb.prototype={X:null,D:null,R:0};function Db(a,c){this.o=new R;this.q=new R;this.z=0;if(!a||!c)this.J=this.I=null;else{this.I=a;this.J=c;this.Da=0;this.ka=Math.sqrt(this.I.ka*this.J.ka);this.la=E(this.I.la,this.J.la);this.p=this.G=null;this.o.Ga=null;this.o.r=null;this.o.next=null;this.o.ra=null;this.q.Ga=null;this.q.r=null;this.q.next=null;this.q.ra=null;this.ya=[new Cb];this.ya[0].R=0;this.ya[0].X[0].ma=0;this.ya[0].X[0].sa=0}}x(Db,sb);
Db.prototype.Ec=function(){var a=this.ya[0],c=this.I,b=this.J;a.R=0;var d=b.c.x-c.c.x,e=b.c.y-c.c.y,f=d*d+e*e;c=c.ja+b.ja;if(!(f>c*c&&1)){if(f<Number.MIN_VALUE){f=-c;a.D.g(0,1)}else{var g=Math.sqrt(f);f=g-c;c=1/g;a.D.x=c*d;a.D.y=c*e}a.R=1;d=a.X[0];vb(d.id,0);d.hb=f;d.position.x=b.c.x-b.ja*a.D.x;d.position.y=b.c.y-b.ja*a.D.y}this.Da=this.ya[0].R>0?1:0};Db.prototype.fc=aa("ya");function Eb(a,c){return new Db(a,c)}function Fb(){};function Gb(a,c){this.o=new R;this.q=new R;this.z=0;if(!a||!c)this.J=this.I=null;else{this.I=a;this.J=c;this.Da=0;this.ka=Math.sqrt(this.I.ka*this.J.ka);this.la=E(this.I.la,this.J.la);this.p=this.G=null;this.o.Ga=null;this.o.r=null;this.o.next=null;this.o.ra=null;this.q.Ga=null;this.q.r=null;this.q.next=null;this.q.ra=null;this.ya=[new Cb];if(this.I.qa!=2)throw"Assert Failed!";if(this.J.qa!=0)throw"Assert Failed!";this.ya[0].R=0;this.ya[0].X[0].ma=0;this.ya[0].X[0].sa=0}}x(Gb,sb);
Gb.prototype.Ec=function(){a:{var a=this.ya[0],c=this.I,b=this.J;a.R=0;var d,e,f;e=b.c.x-c.c.x;f=b.c.y-c.c.y;var g=c.d,h=e*g.a.x+f*g.a.y;f=e*g.b.x+f*g.b.y;e=h;var i=0,j=-Number.MAX_VALUE;h=b.ja;for(d=0;d<c.Oa;++d){var k=c.cb[d].x*(e-c.u[d].x)+c.cb[d].y*(f-c.u[d].y);if(k>h)break a;if(k>j){j=k;i=d}}if(j<Number.MIN_VALUE){a.R=1;f=c.cb[i];a.D.x=g.a.x*f.x+g.b.x*f.y;a.D.y=g.a.y*f.x+g.b.y*f.y;d=a.X[0];d.id.T.Ic=i;d.id.T.lc=255;d.id.T.vd=255;d.id.T.Ld=0;d.position.x=b.c.x-h*a.D.x;d.position.y=b.c.y-h*a.D.y;
d.hb=j-h}else{i=i;j=i+1<c.Oa?i+1:0;var l=c.u[j].x-c.u[i].x;k=c.u[j].y-c.u[i].y;var m=Math.sqrt(l*l+k*k);l/=m;k/=m;if(m<Number.MIN_VALUE){e=e-c.u[i].x;f=f-c.u[i].y;c=Math.sqrt(e*e+f*f);e/=c;f/=c;if(!(c>h)){a.R=1;a.D.g(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f);d=a.X[0];d.id.T.Ic=255;d.id.T.lc=i;d.id.T.vd=255;d.id.T.Ld=0;d.position.x=b.c.x-h*a.D.x;d.position.y=b.c.y-h*a.D.y;d.hb=c-h}}else{var n=(e-c.u[i].x)*l+(f-c.u[i].y)*k;d=a.X[0];d.id.T.Ic=255;d.id.T.lc=255;d.id.T.vd=255;d.id.T.Ld=0;if(n<=0){l=c.u[i].x;c=
c.u[i].y;d.id.T.lc=i}else if(n>=m){l=c.u[j].x;c=c.u[j].y;d.id.T.lc=j}else{l=l*n+c.u[i].x;c=k*n+c.u[i].y;d.id.T.Ic=i}e=e-l;f=f-c;c=Math.sqrt(e*e+f*f);e/=c;f/=c;if(!(c>h)){a.R=1;a.D.g(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f);d.position.x=b.c.x-h*a.D.x;d.position.y=b.c.y-h*a.D.y;d.hb=c-h}}}}this.Da=this.ya[0].R>0?1:0};Gb.prototype.fc=aa("ya");function Hb(a,c){return new Gb(a,c)}function Ib(){};function Jb(a,c){this.o=new R;this.q=new R;this.z=0;if(!a||!c)this.J=this.I=null;else{this.I=a;this.J=c;this.Da=0;this.ka=Math.sqrt(this.I.ka*this.J.ka);this.la=E(this.I.la,this.J.la);this.p=this.G=null;this.o.Ga=null;this.o.r=null;this.o.next=null;this.o.ra=null;this.q.Ga=null;this.q.r=null;this.q.next=null;this.q.ra=null;this.jd=new Cb;this.ya=[new Cb];this.ya[0].R=0}}x(Jb,sb);
Jb.prototype.Ec=function(){for(var a=this.ya[0],c=this.jd.X,b=0;b<a.R;b++){var d=c[b],e=a.X[b];d.ma=e.ma;d.sa=e.sa;d.id=e.id.Bd()}this.jd.R=a.R;b=this.I;var f=this.J;var g=a.R=0;c=[g];d=zb(c,b,f,false);g=c[0];if(!(d>0&&1)){var h=0;c=[h];var i=zb(c,f,b,false);h=c[0];if(!(i>0&&1)){c=e=0;if(i>0.98*d+0.0010){d=f;i=b;e=h;c=1}else{d=b;i=f;e=g;c=0}b=[new wb,new wb];f=e;g=i;var j=d.u;i=g.Oa;h=g.u;var k=j[f+1==d.Oa?0:f+1],l=k.x,m=k.y;k=j[f];l-=k.x;m-=k.y;k=l;l=m;m=-k;k=1/Math.sqrt(l*l+m*m);l*=k;m*=k;l=l;var n=
m;k=l;j=d.d;l=j.a.x*k+j.b.x*n;n=j.a.y*k+j.b.y*n;m=l;l=n;j=g.d;k=m*j.a.x+l*j.a.y;l=m*j.b.x+l*j.b.y;m=k;n=j=0;for(var q=Number.MAX_VALUE,s=0;s<i;++s){var r=s,y=s+1<i?s+1:0;k=h[y];var v=k.x,u=k.y;k=h[r];v-=k.x;u-=k.y;k=v;v=u;u=-k;k=1/Math.sqrt(v*v+u*u);v*=k;u*=k;k=v*m+u*l;if(k<q){q=k;j=r;n=y}}i=b[0];k=i.wb;I(k,h[j]);Ca(k,g.d);k.add(g.c);i.id.T.vd=f;i.id.T.Ic=j;i.id.T.lc=j;i=b[1];k=i.wb;I(k,h[n]);Ca(k,g.d);k.add(g.c);i.id.T.vd=f;i.id.T.Ic=j;i.id.T.lc=n;f=d.u;k=f[e];m=e+1<d.Oa?f[e+1]:f[0];g=m.x-k.x;h=
m.y-k.y;l=g;j=d.d;g=j.a.x*l+j.b.x*h;h=j.a.y*l+j.b.y*h;e=1/Math.sqrt(g*g+h*h);g*=e;h*=e;e=g;f=h;l=e;e=f;f=-l;i=k.x;n=k.y;l=i;j=d.d;i=j.a.x*l+j.b.x*n;n=j.a.y*l+j.b.y*n;i+=d.c.x;n+=d.c.y;k=m.x;m=m.y;l=k;j=d.d;k=j.a.x*l+j.b.x*m;m=j.a.y*l+j.b.y*m;k+=d.c.x;m+=d.c.y;d=e*i+f*n;l=-(g*i+h*n);k=g*k+h*m;m=[new wb,new wb];i=[new wb,new wb];j=0;Ab.g(-g,-h);j=xb(m,b,Ab,l);if(!(j<2)){Ab.g(g,h);j=xb(i,m,Ab,k);if(!(j<2)){c?a.D.g(-e,-f):a.D.g(e,f);for(g=b=0;g<2;++g){h=i[g].wb;h=e*h.x+f*h.y-d;if(h<=0){k=a.X[b];k.hb=
h;I(k.position,i[g].wb);k.id.g(i[g].id);k.id.T.Ld=c;++b}}a.R=b}}}}if(a.R>0){c=[false,false];for(b=0;b<a.R;++b){d=a.X[b];d.ma=0;d.sa=0;e=d.id.key;for(f=0;f<this.jd.R;++f)if(c[f]!=true){g=this.jd.X[f];if(g.id.key==e){c[f]=true;d.ma=g.ma;d.sa=g.sa;break}}}this.Da=1}else this.Da=0};Jb.prototype.fc=aa("ya");function Kb(a,c){return new Jb(a,c)}function Lb(){};function Mb(a,c,b,d){T[b][d].Id=a;T[b][d].Jd=c;T[b][d].ie=true;if(b!=d){T[d][b].Id=a;T[d][b].Jd=c;T[d][b].ie=false}}var T=null,Nb=false;function Ob(a,c){this.o=new R;this.q=new R;this.z=0;if(!a||!c)this.J=this.I=null;else{this.I=a;this.J=c;this.Da=0;this.ka=Math.sqrt(this.I.ka*this.J.ka);this.la=E(this.I.la,this.J.la);this.p=this.G=null;this.o.Ga=null;this.o.r=null;this.o.next=null;this.o.ra=null;this.q.Ga=null;this.q.r=null;this.q.next=null;this.q.ra=null}}x(Ob,sb);Ob.prototype.Ec=o();Ob.prototype.fc=ba(null);function Pb(){}Pb.prototype.pe=ba(null);Pb.prototype.qe=o();function Qb(a){this.sc=new Ob;this.Q=a;this.Wd=false}x(Qb,Pb);
Qb.prototype.pe=function(a,c){var b=a,d=c,e=b.w,f=d.w;if((e.z&Za)==Za&&(f.z&Za)==Za)return this.sc;if(b.w==d.w)return this.sc;a:{for(var g=f.Z;g!=null;g=g.next)if(g.ra==e){e=g.Qb.Bb==false;break a}e=false}if(e)return this.sc;if((b.pc==d.pc&&b.pc!=0?b.pc>0:(b.Ya&d.Ta)!=0&&(b.Ta&d.Ya)!=0)==false)return this.sc;if(f.i==0){f=b;b=d;d=f}b=b;d=d;f=this.Q.uf;if(Nb==false){T=Array(4);for(e=0;e<4;e++){T[e]=Array(4);for(g=0;g<4;g++)T[e][g]=new rb}Mb(Eb,Fb,0,0);Mb(Hb,Ib,2,0);Mb(Kb,Lb,2,2);Nb=true}e=b.qa;g=d.qa;
var h=T[e][g].Id;if(h)if(T[e][g].ie)b=h(b,d,f);else{b=h(d,b,f);for(d=0;d<b.Da;++d){f=b.fc()[d];f.D=new B(-f.D.x,-f.D.y)}b=b}else b=null;if(b==null)return this.sc;else{b.G=null;b.p=this.Q.aa;if(this.Q.aa!=null)this.Q.aa.G=b;this.Q.aa=b;this.Q.Tb++}return b};Qb.prototype.qe=function(a,c,b){if(b!=null)if(b!=this.sc)if(this.Wd==true)Rb(this,b);else b.z|=2};
function Rb(a,c){if(c.G)c.G.p=c.p;if(c.p)c.p.G=c.G;if(c==a.Q.aa)a.Q.aa=c.p;if(c.Da>0){var b=c.I.w,d=c.J.w,e=c.o,f=c.q;ab(b);ab(d);if(e.r)e.r.next=e.next;if(e.next)e.next.r=e.r;if(e==b.aa)b.aa=e.next;e.r=null;e.next=null;if(f.r)f.r.next=f.next;if(f.next)f.next.r=f.r;if(f==d.aa)d.aa=f.next;f.r=null;f.next=null}b=a.Q.uf;if(c.Da>0){ab(c.I.w);ab(c.J.w)}d=T[c.I.qa][c.J.qa].Jd;d(c,b);--a.Q.Tb};function Sb(){this.ed=new B;this.fd=new B}Sb.prototype={ma:null,sa:null,Vc:null,ge:null,Ue:null,hb:null,yd:null};function Tb(){this.D=new B;this.X=Array(2);for(var a=0;a<2;a++)this.X[a]=new Sb}Tb.prototype={Ne:null,W:null,Y:null,ab:null,Sa:null,R:0};function Ub(a,c,b){this.Sb=[];this.Rd=b;b=0;var d,e;for(b=this.Rb=0;b<c;++b)this.Rb+=a[b].Da;for(b=0;b<this.Rb;b++)this.Sb[b]=new Tb;var f=0;for(b=0;b<c;++b){var g=a[b],h=g.I.w,i=g.J.w,j=g.Da,k=g.fc(),l=g.ka;g=g.la;for(var m=h.f.x,n=h.f.y,q=i.f.x,s=i.f.y,r=h.l,y=i.l,v=0;v<j;++v){var u=k[v],w=u.D.x,G=u.D.y,A=this.Sb[f];A.W=h;A.Y=i;A.Ne=u;A.D.x=w;A.D.y=G;A.R=u.R;A.ab=l;A.Sa=g;for(var H=0;H<A.R;++H){var D=u.X[H],J=A.X[H];J.ma=D.ma;J.sa=D.sa;J.hb=D.hb;var S=D.position.x-h.c.x,ja=D.position.y-h.c.y,ka=
D.position.x-i.c.x;D=D.position.y-i.c.y;d=J.ed;e=h.d;d.x=S*e.a.x+ja*e.a.y;d.y=S*e.b.x+ja*e.b.y;d=J.fd;e=i.d;d.x=ka*e.a.x+D*e.a.y;d.y=ka*e.b.x+D*e.b.y;d=S*S+ja*ja;e=ka*ka+D*D;var Ia=S*w+ja*G,fa=ka*w+D*G,ga=h.i+i.i;ga+=h.m*(d-Ia*Ia)+i.m*(e-fa*fa);J.ge=1/ga;fa=G;ga=-w;Ia=S*fa+ja*ga;fa=ka*fa+D*ga;ga=h.i+i.i;ga+=h.m*(d-Ia*Ia)+i.m*(e-fa*fa);J.Ue=1/ga;J.yd=0;if(J.hb>0)J.yd=-60*J.hb;S=A.D.x*(q+-y*D-m- -r*ja)+A.D.y*(s+y*ka-n-r*S);if(S<-30)J.yd+=-A.Sa*S}++f}}}
Ub.prototype={bf:function(){for(var a,c,b=0;b<this.Rb;++b){var d=this.Sb[b],e=d.W,f=d.Y,g=e.i,h=e.m,i=f.i,j=f.m,k=d.D.x,l=d.D.y,m=l,n=-k,q=0,s=0;if(Vb){s=d.R;for(q=0;q<s;++q){var r=d.X[q],y=r.ma*k+r.sa*m,v=r.ma*l+r.sa*n;c=e.d;a=r.ed;var u=c.a.x*a.x+c.b.x*a.y,w=c.a.y*a.x+c.b.y*a.y;c=f.d;a=r.fd;var G=c.a.x*a.x+c.b.x*a.y;a=c.a.y*a.x+c.b.y*a.y;e.l-=h*(u*v-w*y);e.f.x-=g*y;e.f.y-=g*v;f.l+=j*(G*v-a*y);f.f.x+=i*y;f.f.y+=i*v;r.Vc=0}}else{s=d.R;for(q=0;q<s;++q){e=d.X[q];e.ma=0;e.sa=0;e.Vc=0}}}},xb:function(){for(var a=
0,c,b,d,e,f,g,h,i,j=0;j<this.Rb;++j){var k=this.Sb[j],l=k.W,m=k.Y,n=l.l,q=l.f,s=m.l,r=m.f,y=l.i,v=l.m,u=m.i,w=m.m,G=k.D.x,A=k.D.y,H=A,D=-G,J=k.R;for(a=0;a<J;++a){c=k.X[a];f=l.d;g=c.ed;b=f.a.x*g.x+f.b.x*g.y;d=f.a.y*g.x+f.b.y*g.y;f=m.d;g=c.fd;e=f.a.x*g.x+f.b.x*g.y;f=f.a.y*g.x+f.b.y*g.y;g=r.x+-s*f-q.x- -n*d;h=r.y+s*e-q.y-n*b;g=-c.ge*(g*G+h*A-c.yd);h=E(c.ma+g,0);g=h-c.ma;i=g*G;g=g*A;q.x-=y*i;q.y-=y*g;n-=v*(b*g-d*i);r.x+=u*i;r.y+=u*g;s+=w*(e*g-f*i);c.ma=h;g=r.x+-s*f-q.x- -n*d;h=r.y+s*e-q.y-n*b;g=c.Ue*
-(g*H+h*D);h=k.ab*c.ma;h=F(c.sa+g,-h,h);g=h-c.sa;i=g*H;g=g*D;q.x-=y*i;q.y-=y*g;n-=v*(b*g-d*i);r.x+=u*i;r.y+=u*g;s+=w*(e*g-f*i);c.sa=h}l.l=n;m.l=s}},mb:function(a){for(var c=0,b,d,e=0;e<this.Rb;++e){for(var f=this.Sb[e],g=f.W,h=f.Y,i=g.c,j=g.n,k=h.c,l=h.n,m=g.i,n=g.m,q=h.i,s=h.m,r=f.D.x,y=f.D.y,v=f.R,u=0;u<v;++u){var w=f.X[u];b=g.d;d=w.ed;var G=b.a.x*d.x+b.b.x*d.y,A=b.a.y*d.x+b.b.y*d.y;b=h.d;d=w.fd;var H=b.a.x*d.x+b.b.x*d.y;b=b.a.y*d.x+b.b.y*d.y;d=(k.x+H-(i.x+G))*r+(k.y+b-(i.y+A))*y+w.hb;c=c<d?c:d;
d=-w.ge*a*F(d+0.15,-6,0);var D=w.Vc;w.Vc=E(D+d,0);d=w.Vc-D;w=d*r;d=d*y;i.x-=m*w;i.y-=m*d;j-=n*(G*d-A*w);g.d.g(j);k.x+=q*w;k.y+=q*d;l+=s*(H*d-b*w);h.d.g(l)}g.n=j;h.n=l}return c>=-0.15},af:function(){for(var a=0;a<this.Rb;++a)for(var c=this.Sb[a],b=c.Ne,d=0;d<c.R;++d){var e=b.X[d],f=c.X[d];e.ma=f.ma;e.sa=f.sa}},Rd:null,Sb:[],Rb:0};function Wb(a,c,b,d){var e=0;this.Qf=a;this.Rf=c;this.Tf=b;this.kb=this.Tb=this.La=0;this.ob=Array(a);for(e=0;e<a;e++)this.ob[e]=null;this.Ud=Array(c);for(e=0;e<c;e++)this.Ud[e]=null;this.Nc=Array(b);for(e=0;e<b;e++)this.Nc[e]=null;this.Rd=d}
Wb.prototype.Fd=function(a,c){var b=0,d;for(b=0;b<this.La;++b){d=this.ob[b];if(d.i!=0){d.f.add(new B(a.Pa*oa(c,new B(d.i*d.Mc.x,d.i*d.Mc.y)).x,a.Pa*oa(c,new B(d.i*d.Mc.x,d.i*d.Mc.y)).y));d.l+=a.Pa*d.m*d.Me;d.f.scale(d.Bf);d.l*=d.tf;I(d.de,d.c);d.Le=d.n}}var e=new Ub(this.Ud,this.Tb,this.Rd);e.bf();for(b=0;b<this.kb;++b)this.Nc[b].Kb();for(b=0;b<a.Qd;++b){e.xb();for(d=0;d<this.kb;++d)this.Nc[d].xb(a)}for(b=0;b<this.La;++b){d=this.ob[b];if(d.i!=0){d.c.x+=a.Pa*d.f.x;d.c.y+=a.Pa*d.f.y;d.n+=a.Pa*d.l;d.d.g(d.n)}}for(b=
0;b<this.kb;++b);if(Xb)for(Yb=0;Yb<a.Qd;++Yb){d=e.mb(0.2);var f=true;for(b=0;b<this.kb;++b){var g=this.Nc[b].mb();f=f&&g}if(d&&f)break}e.af();for(b=0;b<this.La;++b){d=this.ob[b];if(d.i!=0){d.d.g(d.n);e=d;e.Te.g(e.Le);for(f=e.Gb;f!=null;f=f.p)f.Gd(e.de,e.Te,e.c,e.d);d.Mc.g(0,0);d.Me=0}}};var Yb=0;function U(){}U.prototype={ra:null,Qb:null,r:null,next:null};function Zb(a){this.o=new U;this.q=new U;this.qa=a.type;this.p=this.G=null;this.h=a.W;this.e=a.Y;this.Bb=a.$a;this.tb=false;this.eb=a.C}p=Zb.prototype;p.Ib=ba(null);p.Jb=ba(null);p.gc=aa("p");p.Kb=o();p.mb=ba(false);function $b(a){this.o=new U;this.q=new U;this.qa=a.type;this.p=this.G=null;this.h=a.W;this.e=a.Y;this.Bb=a.$a;this.tb=false;this.eb=a.C;this.j=new B;this.k=new B;this.ha=new B;var c,b,d;c=this.h.d;b=a.Mb.x-this.h.c.x;d=a.Mb.y-this.h.c.y;this.j.x=b*c.a.x+d*c.a.y;this.j.y=b*c.b.x+d*c.b.y;c=this.e.d;b=a.Nb.x-this.e.c.x;d=a.Nb.y-this.e.c.y;this.k.x=b*c.a.x+d*c.a.y;this.k.y=b*c.b.x+d*c.b.y;b=a.Nb.x-a.Mb.x;d=a.Nb.y-a.Mb.y;this.Af=Math.sqrt(b*b+d*d);this.V=0}x($b,Zb);p=$b.prototype;
p.Kb=function(){var a;a=this.h.d;var c=a.a.x*this.j.x+a.b.x*this.j.y,b=a.a.y*this.j.x+a.b.y*this.j.y;a=this.e.d;var d=a.a.x*this.k.x+a.b.x*this.k.y;a=a.a.y*this.k.x+a.b.y*this.k.y;this.ha.x=this.e.c.x+d-this.h.c.x-c;this.ha.y=this.e.c.y+a-this.h.c.y-b;var e=Math.sqrt(this.ha.x*this.ha.x+this.ha.y*this.ha.y);e>0.15?this.ha.scale(1/e):this.ha.oa();e=c*this.ha.y-b*this.ha.x;var f=d*this.ha.y-a*this.ha.x;this.Ma=this.h.i+this.h.m*e*e+this.e.i+this.e.m*f*f;this.Ma=1/this.Ma;if(Vb){e=this.V*this.ha.x;f=
this.V*this.ha.y;this.h.f.x-=this.h.i*e;this.h.f.y-=this.h.i*f;this.h.l-=this.h.m*(c*f-b*e);this.e.f.x+=this.e.i*e;this.e.f.y+=this.e.i*f;this.e.l+=this.e.m*(d*f-a*e)}else this.V=0};
p.xb=function(){var a;a=this.h.d;var c=a.a.x*this.j.x+a.b.x*this.j.y,b=a.a.y*this.j.x+a.b.y*this.j.y;a=this.e.d;var d=a.a.x*this.k.x+a.b.x*this.k.y;a=a.a.y*this.k.x+a.b.y*this.k.y;var e=-this.Ma*(this.ha.x*(this.e.f.x+-this.e.l*a-(this.h.f.x+-this.h.l*b))+this.ha.y*(this.e.f.y+this.e.l*d-(this.h.f.y+this.h.l*c)));this.V+=e;var f=e*this.ha.x;e=e*this.ha.y;this.h.f.x-=this.h.i*f;this.h.f.y-=this.h.i*e;this.h.l-=this.h.m*(c*e-b*f);this.e.f.x+=this.e.i*f;this.e.f.y+=this.e.i*e;this.e.l+=this.e.m*(d*e-
a*f)};
p.mb=function(){var a;a=this.h.d;var c=a.a.x*this.j.x+a.b.x*this.j.y,b=a.a.y*this.j.x+a.b.y*this.j.y;a=this.e.d;var d=a.a.x*this.k.x+a.b.x*this.k.y;a=a.a.y*this.k.x+a.b.y*this.k.y;var e=this.e.c.x+d-this.h.c.x-c,f=this.e.c.y+a-this.h.c.y-b,g=Math.sqrt(e*e+f*f);e/=g;f/=g;g=g-this.Af;g=F(g,-6,6);var h=-this.Ma*g;this.ha.g(e,f);e=h*this.ha.x;f=h*this.ha.y;this.h.c.x-=this.h.i*e;this.h.c.y-=this.h.i*f;this.h.n-=this.h.m*(c*f-b*e);this.e.c.x+=this.e.i*e;this.e.c.y+=this.e.i*f;this.e.n+=this.e.m*(d*f-a*
e);this.h.d.g(this.h.n);this.e.d.g(this.e.n);return C(g)<0.15};p.Ib=function(){return oa(this.h.c,z(this.h.d,this.j))};p.Jb=function(){return oa(this.e.c,z(this.e.d,this.k))};function ac(a){this.o=new U;this.q=new U;this.qa=a.type;this.p=this.G=null;this.h=a.W;this.e=a.Y;this.Bb=a.$a;this.tb=false;this.eb=a.C;this.rb=new B;this.sb=new B;this.j=new B;this.k=new B;this.U=new bc;this.uc=this.$b=this.tc=this.Zb=null;var c,b;this.xf=a.cd.h;this.h=a.cd.e;if(a.cd.qa==1){this.Zb=a.cd;I(this.rb,this.Zb.j);I(this.j,this.Zb.k);c=cc(this.Zb)}else{this.tc=a.cd;I(this.rb,this.tc.j);I(this.j,this.tc.k);c=dc(this.tc)}this.yf=a.dd.h;this.e=a.dd.e;if(a.dd.qa==1){this.$b=a.dd;I(this.sb,
this.$b.j);I(this.k,this.$b.k);b=cc(this.$b)}else{this.uc=a.dd;I(this.sb,this.uc.j);I(this.k,this.uc.k);b=dc(this.uc)}this.$=a.Ef;this.Lc=c+this.$*b;this.V=0}x(ac,Zb);p=ac.prototype;p.Ib=function(){var a=this.h.d;return new B(this.h.c.x+(a.a.x*this.j.x+a.b.x*this.j.y),this.h.c.y+(a.a.y*this.j.x+a.b.y*this.j.y))};p.Jb=function(){var a=this.e.d;return new B(this.e.c.x+(a.a.x*this.k.x+a.b.x*this.k.y),this.e.c.y+(a.a.y*this.k.x+a.b.y*this.k.y))};
p.Kb=function(){var a=this.xf,c=this.yf,b=this.h,d=this.e,e,f,g,h=0;this.U.oa();if(this.Zb){this.U.ca=-1;h+=b.m}else{g=a.d;e=this.tc.xa;a=g.a.x*e.x+g.b.x*e.y;e=g.a.y*e.x+g.b.y*e.y;g=b.d;f=g.a.x*this.j.x+g.b.x*this.j.y;g=g.a.y*this.j.x+g.b.y*this.j.y;f=f*e-g*a;this.U.K.g(-a,-e);this.U.ca=-f;h+=b.i+b.m*f*f}if(this.$b){this.U.da=-this.$;h+=this.$*this.$*d.m}else{g=c.d;e=this.uc.xa;a=g.a.x*e.x+g.b.x*e.y;e=g.a.y*e.x+g.b.y*e.y;g=d.d;f=g.a.x*this.k.x+g.b.x*this.k.y;g=g.a.y*this.k.x+g.b.y*this.k.y;f=f*e-
g*a;this.U.L.g(-this.$*a,-this.$*e);this.U.da=-this.$*f;h+=this.$*this.$*(d.i+d.m*f*f)}this.Ma=1/h;b.f.x+=b.i*this.V*this.U.K.x;b.f.y+=b.i*this.V*this.U.K.y;b.l+=b.m*this.V*this.U.ca;d.f.x+=d.i*this.V*this.U.L.x;d.f.y+=d.i*this.V*this.U.L.y;d.l+=d.m*this.V*this.U.da};p.xb=function(){var a=this.h,c=this.e,b=-this.Ma*this.U.Xc(a.f,a.l,c.f,c.l);this.V+=b;a.f.x+=a.i*b*this.U.K.x;a.f.y+=a.i*b*this.U.K.y;a.l+=a.m*b*this.U.ca;c.f.x+=c.i*b*this.U.L.x;c.f.y+=c.i*b*this.U.L.y;c.l+=c.m*b*this.U.da};
p.mb=function(){var a=this.h,c=this.e,b=-this.Ma*(this.Lc-((this.Zb?cc(this.Zb):dc(this.tc))+this.$*(this.$b?cc(this.$b):dc(this.uc))));a.c.x+=a.i*b*this.U.K.x;a.c.y+=a.i*b*this.U.K.y;a.n+=a.m*b*this.U.ca;c.c.x+=c.i*b*this.U.L.x;c.c.y+=c.i*b*this.U.L.y;c.n+=c.m*b*this.U.da;a.d.g(a.n);c.d.g(c.n);return true};function ec(a){this.o=new U;this.q=new U;this.qa=a.type;this.p=this.G=null;this.h=a.W;this.e=a.Y;this.Bb=a.$a;this.tb=false;this.eb=a.C;this.Ka=new N;this.ta=new N;this.ua=new N;this.bb=new B;this.xc=new B;this.V=new B;this.Fb=new N;this.kd=new B;I(this.xc,a.target);var c=this.xc.x-this.e.c.x,b=this.xc.y-this.e.c.y;this.bb.x=c*this.e.d.a.x+b*this.e.d.a.y;this.bb.y=c*this.e.d.b.x+b*this.e.d.b.y;this.Fe=a.Vf;this.V.oa();b=this.e.Ma;var d=2*Da*a.Pf;c=2*b*a.Of*d;b=b*d*d;this.qd=1/(c+a.Ve*b);this.Ae=a.Ve*
b/(c+a.Ve*b)}x(ec,Zb);p=ec.prototype;p.Ib=aa("xc");p.Jb=function(){var a=z(this.e.d,this.bb);a.add(this.e.c);return a};
p.Kb=function(){var a=this.e,c;c=a.d;var b=c.a.x*this.bb.x+c.b.x*this.bb.y;c=c.a.y*this.bb.x+c.b.y*this.bb.y;var d=a.i,e=a.m;this.ta.a.x=d;this.ta.b.x=0;this.ta.a.y=0;this.ta.b.y=d;this.ua.a.x=e*c*c;this.ua.b.x=-e*b*c;this.ua.a.y=-e*b*c;this.ua.b.y=e*b*b;Ma(this.Ka,this.ta);Na(this.Ka,this.ua);this.Ka.a.x+=this.qd;this.Ka.b.y+=this.qd;Oa(this.Ka,this.Fb);this.kd.x=a.c.x+b-this.xc.x;this.kd.y=a.c.y+c-this.xc.y;a.l*=0.98;var f=this.V.x,g=this.V.y;a.f.x+=d*f;a.f.y+=d*g;a.l+=e*(b*g-c*f)};
p.xb=function(a){var c=this.e,b;b=c.d;var d=b.a.x*this.bb.x+b.b.x*this.bb.y,e=b.a.y*this.bb.x+b.b.y*this.bb.y,f=c.f.x+-c.l*e,g=c.f.y+c.l*d;b=this.Fb;f=f+this.Ae*a.Pd*this.kd.x+this.qd*this.V.x;var h=g+this.Ae*a.Pd*this.kd.y+this.qd*this.V.y;g=-(b.a.x*f+b.b.x*h);h=-(b.a.y*f+b.b.y*h);b=this.V.x;f=this.V.y;this.V.x+=g;this.V.y+=h;g=this.V.Hf();g>a.Pa*this.Fe&&this.V.If(a.Pa*this.Fe/g);g=this.V.x-b;h=this.V.y-f;c.f.x+=c.i*g;c.f.y+=c.i*h;c.l+=c.m*(d*h-e*g)};p.mb=ba(true);function bc(){this.K=new B;this.L=new B}bc.prototype={K:new B,ca:null,L:new B,da:null,oa:function(){this.K.oa();this.ca=0;this.L.oa();this.da=0},g:function(a,c,b,d){I(this.K,a);this.ca=c;I(this.L,b);this.da=d},Xc:function(a,c,b,d){return this.K.x*a.x+this.K.y*a.y+this.ca*c+(this.L.x*b.x+this.L.y*b.y)+this.da*d}};function fc(a){this.o=new U;this.q=new U;this.qa=a.type;this.p=this.G=null;this.h=a.W;this.e=a.Y;this.Bb=a.$a;this.tb=false;this.eb=a.C;this.j=new B;this.k=new B;this.xa=new B;this.lb=new B;this.M=new bc;this.A=new bc;var c,b,d;c=this.h.d;b=a.va.x-this.h.c.x;d=a.va.y-this.h.c.y;this.j.g(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);c=this.e.d;b=a.va.x-this.e.c.x;d=a.va.y-this.e.c.y;this.k.g(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);c=this.h.d;b=a.axis.x;d=a.axis.y;this.xa.g(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);this.lb.x=-this.xa.y;
this.lb.y=this.xa.x;this.zf=this.e.n-this.h.n;this.M.oa();this.ld=this.Sd=this.Cb=this.Qc=0;this.A.oa();this.fa=this.s=this.ga=this.Na=0;this.ae=a.rf;this.fe=a.Gf;this.Ie=a.Pe;this.be=a.Uc;this.qb=a.Kd;this.nc=a.kc}x(fc,Zb);p=fc.prototype;p.Ib=function(){var a=this.h,c=new B;I(c,this.j);Ca(c,a.d);c.add(a.c);return c};p.Jb=function(){var a=this.e,c=new B;I(c,this.k);Ca(c,a.d);c.add(a.c);return c};
function dc(a){var c=a.h,b=a.e,d;d=c.d;var e=d.a.x*a.j.x+d.b.x*a.j.y,f=d.a.y*a.j.x+d.b.y*a.j.y;d=b.d;e=b.c.x+(d.a.x*a.k.x+d.b.x*a.k.y)-(c.c.x+e);b=b.c.y+(d.a.y*a.k.x+d.b.y*a.k.y)-(c.c.y+f);d=c.d;return(d.a.x*a.xa.x+d.b.x*a.xa.y)*e+(d.a.y*a.xa.x+d.b.y*a.xa.y)*b}
p.Kb=function(){var a=this.h,c=this.e,b;b=a.d;var d=b.a.x*this.j.x+b.b.x*this.j.y,e=b.a.y*this.j.x+b.b.y*this.j.y;b=c.d;var f=b.a.x*this.k.x+b.b.x*this.k.y,g=b.a.y*this.k.x+b.b.y*this.k.y,h=a.i,i=c.i,j=a.m,k=c.m;b=a.d;var l=b.a.x*this.lb.x+b.b.x*this.lb.y;b=b.a.y*this.lb.x+b.b.y*this.lb.y;var m=c.c.x+f-a.c.x,n=c.c.y+g-a.c.y;this.M.K.x=-l;this.M.K.y=-b;this.M.L.x=l;this.M.L.y=b;this.M.ca=-(m*b-n*l);this.M.da=f*b-g*l;this.Qc=h+j*this.M.ca*this.M.ca+i+k*this.M.da*this.M.da;this.Qc=1/this.Qc;this.Sd=
1/(j+k);if(this.qb||this.nc){b=a.d;l=b.a.x*this.xa.x+b.b.x*this.xa.y;b=b.a.y*this.xa.x+b.b.y*this.xa.y;this.A.K.x=-l;this.A.K.y=-b;this.A.L.x=l;this.A.L.y=b;this.A.ca=-(m*b-n*l);this.A.da=f*b-g*l;this.Na=h+j*this.A.ca*this.A.ca+i+k*this.A.da*this.A.da;this.Na=1/this.Na;if(this.qb){d=l*(m-d)+b*(n-e);if(C(this.fe-this.ae)<0.3)this.N=3;else if(d<=this.ae){if(this.N!=1)this.s=0;this.N=1}else if(d>=this.fe){if(this.N!=2)this.s=0;this.N=2}else this.s=this.N=0}}if(this.nc==false)this.ga=0;if(this.qb==false)this.s=
0;if(Vb){d=this.Cb*this.M.K.y+(this.ga+this.s)*this.A.K.y;e=this.Cb*this.M.L.x+(this.ga+this.s)*this.A.L.x;f=this.Cb*this.M.L.y+(this.ga+this.s)*this.A.L.y;g=this.Cb*this.M.ca-this.ld+(this.ga+this.s)*this.A.ca;m=this.Cb*this.M.da+this.ld+(this.ga+this.s)*this.A.da;a.f.x+=h*(this.Cb*this.M.K.x+(this.ga+this.s)*this.A.K.x);a.f.y+=h*d;a.l+=j*g;c.f.x+=i*e;c.f.y+=i*f;c.l+=k*m}else this.ga=this.s=this.ld=this.Cb=0;this.fa=0};
p.xb=function(a){var c=this.h,b=this.e,d=c.i,e=b.i,f=c.m,g=b.m,h=-this.Qc*this.M.Xc(c.f,c.l,b.f,b.l);this.Cb+=h;c.f.x+=d*h*this.M.K.x;c.f.y+=d*h*this.M.K.y;c.l+=f*h*this.M.ca;b.f.x+=e*h*this.M.L.x;b.f.y+=e*h*this.M.L.y;b.l+=g*h*this.M.da;h=-this.Sd*(b.l-c.l);this.ld+=h;c.l-=f*h;b.l+=g*h;if(this.nc&&this.N!=3){h=-this.Na*(this.A.Xc(c.f,c.l,b.f,b.l)-this.be);var i=this.ga;this.ga=F(this.ga+h,-a.Pa*this.Ie,a.Pa*this.Ie);h=this.ga-i;c.f.x+=d*h*this.A.K.x;c.f.y+=d*h*this.A.K.y;c.l+=f*h*this.A.ca;b.f.x+=
e*h*this.A.L.x;b.f.y+=e*h*this.A.L.y;b.l+=g*h*this.A.da}if(this.qb&&this.N!=0){h=-this.Na*this.A.Xc(c.f,c.l,b.f,b.l);if(this.N==3)this.s+=h;else if(this.N==1){a=this.s;this.s=E(this.s+h,0);h=this.s-a}else if(this.N==2){a=this.s;this.s=this.s+h<0?this.s+h:0;h=this.s-a}c.f.x+=d*h*this.A.K.x;c.f.y+=d*h*this.A.K.y;c.l+=f*h*this.A.ca;b.f.x+=e*h*this.A.L.x;b.f.y+=e*h*this.A.L.y;b.l+=g*h*this.A.da}};
p.mb=function(){var a,c,b=this.h,d=this.e,e=b.i,f=d.i,g=b.m,h=d.m,i;i=b.d;var j=i.a.x*this.j.x+i.b.x*this.j.y,k=i.a.y*this.j.x+i.b.y*this.j.y;i=d.d;a=i.a.x*this.k.x+i.b.x*this.k.y;i=i.a.y*this.k.x+i.b.y*this.k.y;j=b.c.x+j;k=b.c.y+k;a=d.c.x+a;i=d.c.y+i;a=a-j;j=i-k;i=b.d;var l=(i.a.x*this.lb.x+i.b.x*this.lb.y)*a+(i.a.y*this.lb.x+i.b.y*this.lb.y)*j;l=F(l,-6,6);c=-this.Qc*l;b.c.x+=e*c*this.M.K.x;b.c.y+=e*c*this.M.K.y;b.n+=g*c*this.M.ca;d.c.x+=f*c*this.M.L.x;d.c.y+=f*c*this.M.L.y;d.n+=h*c*this.M.da;l=
C(l);c=d.n-b.n-this.zf;c=F(c,-Fa,Fa);var m=-this.Sd*c;b.n-=b.m*m;b.d.g(b.n);d.n+=d.m*m;d.d.g(d.n);m=C(c);if(this.qb&&this.N!=0){i=b.d;j=i.a.x*this.j.x+i.b.x*this.j.y;k=i.a.y*this.j.x+i.b.y*this.j.y;i=d.d;a=i.a.x*this.k.x+i.b.x*this.k.y;i=i.a.y*this.k.x+i.b.y*this.k.y;j=b.c.x+j;k=b.c.y+k;a=d.c.x+a;i=d.c.y+i;a=a-j;j=i-k;i=b.d;i=(i.a.x*this.xa.x+i.b.x*this.xa.y)*a+(i.a.y*this.xa.x+i.b.y*this.xa.y)*j;a=0;if(this.N==3){a=F(i,-6,6);a=-this.Na*a;l=E(l,C(c))}else if(this.N==1){a=i-this.ae;l=E(l,-a);a=F(a+
0.15,-6,0);a=-this.Na*a;c=this.fa;this.fa=E(this.fa+a,0);a=this.fa-c}else if(this.N==2){a=i-this.fe;l=E(l,a);a=F(a-0.15,0,6);a=-this.Na*a;c=this.fa;this.fa=this.fa+a<0?this.fa+a:0;a=this.fa-c}b.c.x+=e*a*this.A.K.x;b.c.y+=e*a*this.A.K.y;b.n+=g*a*this.A.ca;b.d.g(b.n);d.c.x+=f*a*this.A.L.x;d.c.y+=f*a*this.A.L.y;d.n+=h*a*this.A.da;d.d.g(d.n)}return l<=0.15&&m<=Ea};function gc(a){this.o=new U;this.q=new U;this.qa=a.type;this.p=this.G=null;this.h=a.W;this.e=a.Y;this.Bb=a.$a;this.tb=false;this.eb=a.C;this.rb=new B;this.sb=new B;this.j=new B;this.k=new B;this.O=new B;this.P=new B;var c,b,d;this.Va=this.h.Q.oc;this.rb.x=a.Md.x-this.Va.c.x;this.rb.y=a.Md.y-this.Va.c.y;this.sb.x=a.Nd.x-this.Va.c.x;this.sb.y=a.Nd.y-this.Va.c.y;c=this.h.d;b=a.Mb.x-this.h.c.x;d=a.Mb.y-this.h.c.y;this.j.x=b*c.a.x+d*c.a.y;this.j.y=b*c.b.x+d*c.b.y;c=this.e.d;b=a.Nb.x-this.e.c.x;d=a.Nb.y-
this.e.c.y;this.k.x=b*c.a.x+d*c.a.y;this.k.y=b*c.b.x+d*c.b.y;this.$=a.Ef;b=a.Md.x-a.Mb.x;d=a.Md.y-a.Mb.y;c=Math.sqrt(b*b+d*d);b=a.Nd.x-a.Nb.x;d=a.Nd.y-a.Nb.y;b=Math.sqrt(b*b+d*d);d=E(0.5*hc,c);b=E(0.5*hc,b);this.Lc=d+this.$*b;this.Ge=F(a.Wf,d,this.Lc-this.$*hc);this.He=F(a.Xf,b,(this.Lc-hc)/this.$);this.Xb=this.Wb=this.Rc=0}x(gc,Zb);p=gc.prototype;p.Ib=function(){var a=this.h.d;return new B(this.h.c.x+(a.a.x*this.j.x+a.b.x*this.j.y),this.h.c.y+(a.a.y*this.j.x+a.b.y*this.j.y))};
p.Jb=function(){var a=this.e.d;return new B(this.e.c.x+(a.a.x*this.k.x+a.b.x*this.k.y),this.e.c.y+(a.a.y*this.k.x+a.b.y*this.k.y))};
p.Kb=function(){var a=this.h,c=this.e,b;b=a.d;var d=b.a.x*this.j.x+b.b.x*this.j.y,e=b.a.y*this.j.x+b.b.y*this.j.y;b=c.d;var f=b.a.x*this.k.x+b.b.x*this.k.y;b=b.a.y*this.k.x+b.b.y*this.k.y;var g=c.c.x+f,h=c.c.y+b,i=this.Va.c.x+this.sb.x,j=this.Va.c.y+this.sb.y;this.O.g(a.c.x+d-(this.Va.c.x+this.rb.x),a.c.y+e-(this.Va.c.y+this.rb.y));this.P.g(g-i,h-j);g=Aa(this.O);h=Aa(this.P);g>0.15?this.O.scale(1/g):this.O.oa();h>0.15?this.P.scale(1/h):this.P.oa();if(g<this.Ge)this.Wb=this.Yd=0;else{this.Yd=2;this.rd=
0}if(h<this.He)this.Xb=this.Zd=0;else{this.Zd=2;this.sd=0}g=d*this.O.y-e*this.O.x;h=f*this.P.y-b*this.P.x;this.Oc=a.i+a.m*g*g;this.Pc=c.i+c.m*h*h;this.td=this.Oc+this.$*this.$*this.Pc;this.Oc=1/this.Oc;this.Pc=1/this.Pc;this.td=1/this.td;g=(-this.Rc-this.Wb)*this.O.x;h=(-this.Rc-this.Wb)*this.O.y;i=(-this.$*this.Rc-this.Xb)*this.P.x;j=(-this.$*this.Rc-this.Xb)*this.P.y;a.f.x+=a.i*g;a.f.y+=a.i*h;a.l+=a.m*(d*h-e*g);c.f.x+=c.i*i;c.f.y+=c.i*j;c.l+=c.m*(f*j-b*i)};
p.xb=function(){var a=this.h,c=this.e,b;b=a.d;var d=b.a.x*this.j.x+b.b.x*this.j.y,e=b.a.y*this.j.x+b.b.y*this.j.y;b=c.d;var f=b.a.x*this.k.x+b.b.x*this.k.y;b=b.a.y*this.k.x+b.b.y*this.k.y;var g,h,i,j;g=a.f.x+-a.l*e;h=a.f.y+a.l*d;i=c.f.x+-c.l*b;j=c.f.y+c.l*f;g=-(this.O.x*g+this.O.y*h)-this.$*(this.P.x*i+this.P.y*j);j=-this.td*g;this.Rc+=j;g=-j*this.O.x;h=-j*this.O.y;i=-this.$*j*this.P.x;j=-this.$*j*this.P.y;a.f.x+=a.i*g;a.f.y+=a.i*h;a.l+=a.m*(d*h-e*g);c.f.x+=c.i*i;c.f.y+=c.i*j;c.l+=c.m*(f*j-b*i);if(this.Yd==
2){g=a.f.x+-a.l*e;h=a.f.y+a.l*d;g=-(this.O.x*g+this.O.y*h);j=-this.Oc*g;g=this.Wb;this.Wb=E(0,this.Wb+j);j=this.Wb-g;g=-j*this.O.x;h=-j*this.O.y;a.f.x+=a.i*g;a.f.y+=a.i*h;a.l+=a.m*(d*h-e*g)}if(this.Zd==2){i=c.f.x+-c.l*b;j=c.f.y+c.l*f;g=-(this.P.x*i+this.P.y*j);j=-this.Pc*g;g=this.Xb;this.Xb=E(0,this.Xb+j);j=this.Xb-g;i=-j*this.P.x;j=-j*this.P.y;c.f.x+=c.i*i;c.f.y+=c.i*j;c.l+=c.m*(f*j-b*i)}};
p.mb=function(){var a=this.h,c=this.e,b,d=this.Va.c.x+this.rb.x,e=this.Va.c.y+this.rb.y,f=this.Va.c.x+this.sb.x,g=this.Va.c.y+this.sb.y,h,i,j,k,l,m,n,q=0;b=a.d;h=b.a.x*this.j.x+b.b.x*this.j.y;i=b.a.y*this.j.x+b.b.y*this.j.y;b=c.d;j=b.a.x*this.k.x+b.b.x*this.k.y;b=b.a.y*this.k.x+b.b.y*this.k.y;k=a.c.x+h;l=a.c.y+i;m=c.c.x+j;n=c.c.y+b;this.O.g(k-d,l-e);this.P.g(m-f,n-g);k=Aa(this.O);l=Aa(this.P);k>0.15?this.O.scale(1/k):this.O.oa();l>0.15?this.P.scale(1/l):this.P.oa();k=this.Lc-k-this.$*l;q=E(q,Math.abs(k));
k=F(k,-6,6);n=-this.td*k;k=-n*this.O.x;l=-n*this.O.y;m=-this.$*n*this.P.x;n=-this.$*n*this.P.y;a.c.x+=a.i*k;a.c.y+=a.i*l;a.n+=a.m*(h*l-i*k);c.c.x+=c.i*m;c.c.y+=c.i*n;c.n+=c.m*(j*n-b*m);a.d.g(a.n);c.d.g(c.n);if(this.Yd==2){b=a.d;h=b.a.x*this.j.x+b.b.x*this.j.y;i=b.a.y*this.j.x+b.b.y*this.j.y;k=a.c.x+h;l=a.c.y+i;this.O.g(k-d,l-e);k=Aa(this.O);if(k>0.15){this.O.x*=1/k;this.O.y*=1/k}else this.O.oa();k=this.Ge-k;q=E(q,-k);k=F(k+0.15,-6,0);n=-this.Oc*k;d=this.rd;this.rd=E(0,this.rd+n);n=this.rd-d;k=-n*
this.O.x;l=-n*this.O.y;a.c.x+=a.i*k;a.c.y+=a.i*l;a.n+=a.m*(h*l-i*k);a.d.g(a.n)}if(this.Zd==2){b=c.d;j=b.a.x*this.k.x+b.b.x*this.k.y;b=b.a.y*this.k.x+b.b.y*this.k.y;m=c.c.x+j;n=c.c.y+b;this.P.g(m-f,n-g);l=Aa(this.P);if(l>0.15){this.P.x*=1/l;this.P.y*=1/l}else this.P.oa();k=this.He-l;q=E(q,-k);k=F(k+0.15,-6,0);n=-this.Pc*k;d=this.sd;this.sd=E(0,this.sd+n);n=this.sd-d;m=-n*this.P.x;n=-n*this.P.y;c.c.x+=c.i*m;c.c.y+=c.i*n;c.n+=c.m*(j*n-b*m);c.d.g(c.n)}return q<0.15};var hc=30;function ic(a){this.o=new U;this.q=new U;this.qa=a.type;this.p=this.G=null;this.h=a.W;this.e=a.Y;this.Bb=a.$a;this.tb=false;this.eb=a.C;this.Ka=new N;this.ta=new N;this.ua=new N;this.Za=new N;this.j=new B;this.k=new B;this.Xa=new B;this.Fb=new N;var c,b,d;c=this.h.d;b=a.va.x-this.h.c.x;d=a.va.y-this.h.c.y;this.j.x=b*c.a.x+d*c.a.y;this.j.y=b*c.b.x+d*c.b.y;c=this.e.d;b=a.va.x-this.e.c.x;d=a.va.y-this.e.c.y;this.k.x=b*c.a.x+d*c.a.y;this.k.y=b*c.b.x+d*c.b.y;this.De=this.e.n-this.h.n;this.Xa.g(0,0);this.fa=
this.s=this.ga=0;this.$d=a.qf;this.ee=a.Ff;this.Je=a.Qe;this.be=a.Uc;this.qb=a.Kd;this.nc=a.kc}x(ic,Zb);ic.prototype.Ib=function(){var a=this.h.d;return new B(this.h.c.x+(a.a.x*this.j.x+a.b.x*this.j.y),this.h.c.y+(a.a.y*this.j.x+a.b.y*this.j.y))};ic.prototype.Jb=function(){var a=this.e.d;return new B(this.e.c.x+(a.a.x*this.k.x+a.b.x*this.k.y),this.e.c.y+(a.a.y*this.k.x+a.b.y*this.k.y))};function cc(a){return a.e.n-a.h.n}new N;p=ic.prototype;p.ta=new N;p.ua=new N;p.Za=new N;
p.Kb=function(){var a=this.h,c=this.e,b;b=a.d;var d=b.a.x*this.j.x+b.b.x*this.j.y,e=b.a.y*this.j.x+b.b.y*this.j.y;b=c.d;var f=b.a.x*this.k.x+b.b.x*this.k.y;b=b.a.y*this.k.x+b.b.y*this.k.y;var g=a.i,h=c.i,i=a.m,j=c.m;this.ta.a.x=g+h;this.ta.b.x=0;this.ta.a.y=0;this.ta.b.y=g+h;this.ua.a.x=i*e*e;this.ua.b.x=-i*d*e;this.ua.a.y=-i*d*e;this.ua.b.y=i*d*d;this.Za.a.x=j*b*b;this.Za.b.x=-j*f*b;this.Za.a.y=-j*f*b;this.Za.b.y=j*f*f;Ma(this.Ka,this.ta);Na(this.Ka,this.ua);Na(this.Ka,this.Za);Oa(this.Ka,this.Fb);
this.Na=1/(i+j);if(this.nc==false)this.ga=0;if(this.qb){var k=c.n-a.n-this.De;if(C(this.ee-this.$d)<2*Ea)this.N=3;else if(k<=this.$d){if(this.N!=1)this.s=0;this.N=1}else if(k>=this.ee){if(this.N!=2)this.s=0;this.N=2}else this.s=this.N=0}else this.s=0;if(Vb){a.f.x-=g*this.Xa.x;a.f.y-=g*this.Xa.y;a.l-=i*(d*this.Xa.y-e*this.Xa.x+this.ga+this.s);c.f.x+=h*this.Xa.x;c.f.y+=h*this.Xa.y;c.l+=j*(f*this.Xa.y-b*this.Xa.x+this.ga+this.s)}else{this.Xa.oa();this.s=this.ga=0}this.fa=0};
p.xb=function(a){var c=this.h,b=this.e,d;d=c.d;var e=d.a.x*this.j.x+d.b.x*this.j.y,f=d.a.y*this.j.x+d.b.y*this.j.y;d=b.d;var g=d.a.x*this.k.x+d.b.x*this.k.y;d=d.a.y*this.k.x+d.b.y*this.k.y;var h=b.f.x+-b.l*d-c.f.x- -c.l*f,i=b.f.y+b.l*g-c.f.y-c.l*e,j=-(this.Fb.a.x*h+this.Fb.b.x*i);h=-(this.Fb.a.y*h+this.Fb.b.y*i);this.Xa.x+=j;this.Xa.y+=h;c.f.x-=c.i*j;c.f.y-=c.i*h;c.l-=c.m*(e*h-f*j);b.f.x+=b.i*j;b.f.y+=b.i*h;b.l+=b.m*(g*h-d*j);if(this.nc&&this.N!=3){e=-this.Na*(b.l-c.l-this.be);f=this.ga;this.ga=F(this.ga+
e,-a.Pa*this.Je,a.Pa*this.Je);e=this.ga-f;c.l-=c.m*e;b.l+=b.m*e}if(this.qb&&this.N!=0){e=-this.Na*(b.l-c.l);if(this.N==3)this.s+=e;else if(this.N==1){a=this.s;this.s=E(this.s+e,0);e=this.s-a}else if(this.N==2){a=this.s;this.s=this.s+e<0?this.s+e:0;e=this.s-a}c.l-=c.m*e;b.l+=b.m*e}};
p.mb=function(){var a,c=this.h,b=this.e,d=0;d=c.d;var e=d.a.x*this.j.x+d.b.x*this.j.y,f=d.a.y*this.j.x+d.b.y*this.j.y;d=b.d;a=d.a.x*this.k.x+d.b.x*this.k.y;var g=d.a.y*this.k.x+d.b.y*this.k.y,h=b.c.x+a-(c.c.x+e),i=b.c.y+g-(c.c.y+f);d=Math.sqrt(h*h+i*i);var j=c.i,k=b.i,l=c.m,m=b.m;this.ta.a.x=j+k;this.ta.b.x=0;this.ta.a.y=0;this.ta.b.y=j+k;this.ua.a.x=l*f*f;this.ua.b.x=-l*e*f;this.ua.a.y=-l*e*f;this.ua.b.y=l*e*e;this.Za.a.x=m*g*g;this.Za.b.x=-m*a*g;this.Za.a.y=-m*a*g;this.Za.b.y=m*a*a;Ma(this.Ka,this.ta);
Na(this.Ka,this.ua);Na(this.Ka,this.Za);this.Ka.Fd(jc,-h,-i);h=jc.x;i=jc.y;c.c.x-=c.i*h;c.c.y-=c.i*i;c.n-=c.m*(e*i-f*h);c.d.g(c.n);b.c.x+=b.i*h;b.c.y+=b.i*i;b.n+=b.m*(a*i-g*h);b.d.g(b.n);e=0;if(this.qb&&this.N!=0){a=b.n-c.n-this.De;f=0;if(this.N==3){a=F(a,-Fa,Fa);f=-this.Na*a;e=C(a)}else if(this.N==1){a=a-this.$d;e=E(0,-a);a=F(a+Ea,-Fa,0);f=-this.Na*a;a=this.fa;this.fa=E(this.fa+f,0);f=this.fa-a}else if(this.N==2){a=a-this.ee;e=E(0,a);a=F(a-Ea,0,Fa);f=-this.Na*a;a=this.fa;this.fa=this.fa+f<0?this.fa+
f:0;f=this.fa-a}c.n-=c.m*f;c.d.g(c.n);b.n+=b.m*f;b.d.g(b.n)}return d<=0.15&&e<=Ea};var jc=new B;function kc(){}kc.prototype={Pa:null,Pd:null,Qd:0};function lc(a,c,b){this.ud=new kc;this.mc=new Qb(this);this.Ee=null;this.Nf=qb;this.Z=this.aa=this.pb=null;this.kb=this.Tb=this.La=0;this.md=null;this.sf=b;this.wf=c;this.mc.Q=this;this.Qa=new ob(a,this.mc);this.oc=V(this,new L);this.nf=[];this.Wc=false}function V(a,c){var b=new Ya(c,a);b.G=null;if(b.p=a.pb)a.pb.G=b;a.pb=b;++a.La;return b}
function mc(a,c){var b;b=null;switch(c.type){case 3:b=new $b(c);break;case 5:b=new ec(c);break;case 2:b=new fc(c);break;case 1:b=new ic(c);break;case 4:b=new gc(c);break;case 6:b=new ac(c);break;default:break}b=b;b.G=null;if(b.p=a.Z)a.Z.G=b;a.Z=b;++a.kb;b.o.Qb=b;b.o.ra=b.e;b.o.r=null;if(b.o.next=b.h.Z)b.h.Z.r=b.o;b.h.Z=b.o;b.q.Qb=b;b.q.ra=b.h;b.q.r=null;if(b.q.next=b.e.Z)b.e.Z.r=b.q;b.e.Z=b.q;if(c.$a==false)for(var d=(c.W.ac<c.Y.ac?c.W:c.Y).Gb;d;d=d.p)d.Yc(a.Qa);return b}
lc.prototype.Gc=function(a,c,b){var d=[];a=this.Qa.cf(a,d,b);for(b=0;b<a;++b)c[b]=d[b];return a};var Xb=1,Vb=1;function nc(a){var c;for(c=1;c<=4;c++){var b=a,d=150+3*Math.random(),e=40*c,f=[[-30,0],[30,0],[0,15]],g=new oc;g.Cc=f.length;var h=void 0;for(h=0;h<f.length;h++)g.Hb[h].g(f[h][0],f[h][1]);g.zb=0.3524*Math.PI;var i=new N(g.zb);g.Ba=z(i,new B(30,0));g.Aa=1;i=new oc;i.Cc=f.length;for(h=0;h<f.length;h++)i.Hb[h].g(f[h][0],f[h][1]);i.zb=-0.3524*Math.PI;f=new N(i.zb);i.Ba=z(f,new B(-30,0));f=new L;M(f,g);M(f,i);f.position.g(d,e);V(b,f)}for(c=1;c<=4;c++){b=a;d=350+3*Math.random();e=45*c;g=new Qa;g.Aa=1;g.vb=
20;g.Sa=0.2;g.Ba.g(-20,0);i=new Qa;i.Aa=1;i.vb=20;i.Sa=0.2;i.Ba.g(20,0);f=new L;M(f,g);M(f,i);f.position.g(d,e);V(b,f)}};function pc(){this.type=0;this.Y=this.W=this.C=null;this.$a=false}pc.prototype={type:0,C:null,W:null,Y:null,$a:null};function qc(){this.type=0;this.Y=this.W=this.C=null;this.$a=false;this.type=2;this.va=new B(0,0);this.axis=new B(0,0);this.Uc=this.Pe=this.Gf=this.rf=0;this.kc=this.Kd=false}x(qc,pc);function rc(){this.type=0;this.Y=this.W=this.C=null;this.$a=false;this.type=1;this.va=new B(0,0);this.Uc=this.Qe=this.Ff=this.qf=0;this.kc=this.Kd=false}x(rc,pc);function sc(a){var c=a.oc,b=new Ka;b.S.g(5,25);b.Aa=1;var d=new L;M(d,b);var e=new rc,f=c;d.position.g(250,210);var g=V(a,d);e.va.g(250,235);e.W=f;e.Y=g;e.Uc=-1*Math.PI;e.Qe=5E8;e.kc=true;mc(a,e);f=g;b.S.g(5,45);d.position.g(250,140);g=V(a,d);e.va.g(250,185);e.W=f;e.Y=g;e.kc=false;mc(a,e);f=g;b.S.g(20,20);d.position.g(250,95);g=V(a,d);e.va.g(250,95);e.W=f;e.Y=g;mc(a,e);e=new qc;e.va.g(250,95);e.W=c;e.Y=g;e.axis.g(0,1);e.Uc=0;e.Pe=1E5;e.kc=true;mc(a,e);b.Aa=2;d.position.g(250,10);V(a,d)};function tc(a){var c,b=a.oc,d=new rc;for(c=0;c<4;c++){d.va.g(250+40*c,50);d.W=b;d.Y=uc(a,250+40*c,200);mc(a,d)}d.va.g(210,50);d.W=b;d.Y=uc(a,60,50);mc(a,d)};function vc(a){var c=new Ka,b=new L;M(b,c);c.Aa=1;c.ab=0.5;c.S.g(10,10);for(c=0;c<8;c++){b.position.g(250-Math.random()*2-1,245-c*22);V(a,b)}for(c=0;c<8;c++){b.position.g(150-Math.random()*5+c,245-c*22);V(a,b)}for(c=0;c<8;c++){b.position.g(350+Math.random()*5-c,245-c*22);V(a,b)}};function oc(){this.type=Ja;this.C=null;this.Ba=new B(0,0);this.zb=0;this.ab=0.2;this.Aa=this.Sa=0;this.Ta=1;this.Ya=65535;this.Pb=0;this.Hb=Array(8);this.type=2;for(var a=this.Cc=0;a<8;a++)this.Hb[a]=new B}x(oc,Ha);function wc(a){var c=new Qa;c.vb=50;c.Sa=0.2;var b=new L;M(b,c);b.position.g(350,100);V(a,b);xc(a,100,100,[[0,0],[10,30],[-10,30]],true);xc(a,150,150,[[0,0],[10,30],[-10,30]],true);b=yc(a,150,100,20,20,false);c=new rc;c.W=b;c.Y=a.oc;c.va=b.c;mc(a,c);b=xc(a,300,200,[[0,0],[100,30],[-100,30]]);c.W=b;c.va=b.c;mc(a,c)}function xc(a,c,b,d,e){var f=new oc;if(!e)f.Aa=1;f.Cc=d.length;for(e=0;e<d.length;e++)f.Hb[e].g(d[e][0],d[e][1]);d=new L;M(d,f);d.position.g(c,b);return V(a,d)};var zc=[];var Ac,Bc,Cc,Dc;function Ec(){return t.navigator?t.navigator.userAgent:null}Dc=Cc=Bc=Ac=false;var Fc;if(Fc=Ec()){var Gc=t.navigator;Ac=Fc.indexOf("Opera")==0;Bc=!Ac&&Fc.indexOf("MSIE")!=-1;Cc=!Ac&&Fc.indexOf("WebKit")!=-1;Dc=!Ac&&!Cc&&Gc.product=="Gecko"}var Hc=Ac,Ic=Bc,Jc=Dc,Kc=Cc,Lc=t.navigator,Mc=(Lc&&Lc.platform||"").indexOf("Mac")!=-1,Nc;
a:{var Oc="",Pc;if(Hc&&t.opera){var Qc=t.opera.version;Oc=typeof Qc=="function"?Qc():Qc}else{if(Jc)Pc=/rv\:([^\);]+)(\)|;)/;else if(Ic)Pc=/MSIE\s+([^\);]+)(\)|;)/;else if(Kc)Pc=/WebKit\/(\S+)/;if(Pc){var Rc=Pc.exec(Ec());Oc=Rc?Rc[1]:""}}if(Ic){var Sc,Tc=t.document;Sc=Tc?Tc.documentMode:undefined;if(Sc>parseFloat(Oc)){Nc=String(Sc);break a}}Nc=Oc}var Uc={};var Vc;!Ic||Uc["9"]||(Uc["9"]=sa(Nc,"9")>=0);Ic&&(Uc["8"]||(Uc["8"]=sa(Nc,"8")>=0));function Wc(){}Wc.prototype.xe=false;Wc.prototype.ad=function(){if(!this.xe){this.xe=true;this.yb()}};Wc.prototype.yb=o();function W(a,c){this.type=a;this.currentTarget=this.target=c}x(W,Wc);W.prototype.yb=function(){delete this.type;delete this.target;delete this.currentTarget};W.prototype.zc=false;W.prototype.wd=true;function Xc(a,c){a&&this.bd(a,c)}x(Xc,W);p=Xc.prototype;p.target=null;p.relatedTarget=null;p.offsetX=0;p.offsetY=0;p.clientX=0;p.clientY=0;p.screenX=0;p.screenY=0;p.button=0;p.keyCode=0;p.charCode=0;p.ctrlKey=false;p.altKey=false;p.shiftKey=false;p.metaKey=false;p.Cf=false;p.ye=null;
p.bd=function(a,c){var b=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(Jc)try{d=d.nodeName&&d}catch(e){d=null}}else if(b=="mouseover")d=a.fromElement;else if(b=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(b=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Cf=Mc?a.metaKey:a.ctrlKey;this.ye=a;delete this.wd;delete this.zc};p.yb=function(){Xc.je.yb.call(this);this.relatedTarget=this.currentTarget=this.target=this.ye=null};function Yc(){}var Zc=0;p=Yc.prototype;p.key=0;p.Ac=false;p.te=false;p.bd=function(a,c,b,d,e,f){if(da(a)=="function")this.ze=true;else if(a&&a.handleEvent&&da(a.handleEvent)=="function")this.ze=false;else throw Error("Invalid listener argument");this.Jc=a;this.Se=c;this.src=b;this.type=d;this.capture=!!e;this.Od=f;this.te=false;this.key=++Zc;this.Ac=false};p.handleEvent=function(a){if(this.ze)return this.Jc.call(this.Od||this.src,a);return this.Jc.handleEvent.call(this.Jc,a)};function X(a,c){this.Oe=c;this.Ob=[];if(a>this.Oe)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var b=0;b<a;b++)this.Ob.push(this.nb?this.nb():{})}x(X,Wc);X.prototype.nb=null;X.prototype.we=null;function $c(a){if(a.Ob.length)return a.Ob.pop();return a.nb?a.nb():{}}function ad(a,c){a.Ob.length<a.Oe?a.Ob.push(c):bd(a,c)}
function bd(a,c){if(a.we)a.we(c);else{var b=da(c);if(b=="object"||b=="array"||b=="function")if(da(c.ad)=="function")c.ad();else for(var d in c)delete c[d]}}X.prototype.yb=function(){X.je.yb.call(this);for(var a=this.Ob;a.length;)bd(this,a.pop());delete this.Ob};var cd;var dd=(cd="ScriptEngine"in t&&t.ScriptEngine()=="JScript")?t.ScriptEngineMajorVersion()+"."+t.ScriptEngineMinorVersion()+"."+t.ScriptEngineBuildVersion():"0";var ed,fd,gd,hd,id,jd,kd,ld,md,nd,od;
(function(){function a(){return{ib:0,gb:0}}function c(){return[]}function b(){function m(n){return g.call(m.src,m.key,n)}return m}function d(){return new Yc}function e(){return new Xc}var f=cd&&!(sa(dd,"5.7")>=0),g;jd=function(m){g=m};if(f){ed=function(){return $c(h)};fd=function(m){ad(h,m)};gd=function(){return $c(i)};hd=function(m){ad(i,m)};id=function(){return $c(j)};kd=function(){ad(j,b())};ld=function(){return $c(k)};md=function(m){ad(k,m)};nd=function(){return $c(l)};od=function(m){ad(l,m)};
var h=new X(0,600);h.nb=a;var i=new X(0,600);i.nb=c;var j=new X(0,600);j.nb=b;var k=new X(0,600);k.nb=d;var l=new X(0,600);l.nb=e}else{ed=a;fd=ca;gd=c;hd=ca;id=b;kd=ca;ld=d;md=ca;nd=e;od=ca}})();function pd(a,c,b){for(var d in a)c.call(b,a[d],d,a)}var qd=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];function rd(a){for(var c,b,d=1;d<arguments.length;d++){b=arguments[d];for(c in b)a[c]=b[c];for(var e=0;e<qd.length;e++){c=qd[e];if(Object.prototype.hasOwnProperty.call(b,c))a[c]=b[c]}}};var sd={},Y={},Z={},td={};
function ud(a,c,b,d,e){if(c)if(da(c)=="array"){for(var f=0;f<c.length;f++)ud(a,c[f],b,d,e);return null}else{d=!!d;var g=Y;c in g||(g[c]=ed());g=g[c];if(!(d in g)){g[d]=ed();g.ib++}g=g[d];var h=ea(a),i;g.gb++;if(g[h]){i=g[h];for(f=0;f<i.length;f++){g=i[f];if(g.Jc==b&&g.Od==e){if(g.Ac)break;return i[f].key}}}else{i=g[h]=gd();g.ib++}f=id();f.src=a;g=ld();g.bd(b,f,a,c,d,e);b=g.key;f.key=b;i.push(g);sd[b]=g;Z[h]||(Z[h]=gd());Z[h].push(g);if(a.addEventListener){if(a==t||!a.ve)a.addEventListener(c,f,d)}else a.attachEvent(vd(c),
f);return b}else throw Error("Invalid event type");}function wd(a,c,b,d,e){if(da(c)=="array"){for(var f=0;f<c.length;f++)wd(a,c[f],b,d,e);return null}d=!!d;a:{f=Y;if(c in f){f=f[c];if(d in f){f=f[d];a=ea(a);if(f[a]){a=f[a];break a}}}a=null}if(!a)return false;for(f=0;f<a.length;f++)if(a[f].Jc==b&&a[f].capture==d&&a[f].Od==e)return xd(a[f].key);return false}
function xd(a){if(!sd[a])return false;var c=sd[a];if(c.Ac)return false;var b=c.src,d=c.type,e=c.Se,f=c.capture;if(b.removeEventListener){if(b==t||!b.ve)b.removeEventListener(d,e,f)}else b.detachEvent&&b.detachEvent(vd(d),e);b=ea(b);e=Y[d][f][b];if(Z[b]){var g=Z[b],h=xa(g,c);if(h>=0){va(g.length!=null);wa.splice.call(g,h,1)}g.length==0&&delete Z[b]}c.Ac=true;e.Re=true;yd(d,f,b,e);delete sd[a];return true}
function yd(a,c,b,d){if(!d.gd)if(d.Re){for(var e=0,f=0;e<d.length;e++)if(d[e].Ac){var g=d[e].Se;g.src=null;kd(g);md(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.Re=false;if(f==0){hd(d);delete Y[a][c][b];Y[a][c].ib--;if(Y[a][c].ib==0){fd(Y[a][c]);delete Y[a][c];Y[a].ib--}if(Y[a].ib==0){fd(Y[a]);delete Y[a]}}}}
function zd(a,c,b){var d=0,e=a==null,f=c==null,g=b==null;b=!!b;if(e)pd(Z,function(i){for(var j=i.length-1;j>=0;j--){var k=i[j];if((f||c==k.type)&&(g||b==k.capture)){xd(k.key);d++}}});else{a=ea(a);if(Z[a]){a=Z[a];for(e=a.length-1;e>=0;e--){var h=a[e];if((f||c==h.type)&&(g||b==h.capture)){xd(h.key);d++}}}}return d}function vd(a){if(a in td)return td[a];return td[a]="on"+a}
function Ad(a,c,b,d,e){var f=1;c=ea(c);if(a[c]){a.gb--;a=a[c];if(a.gd)a.gd++;else a.gd=1;try{for(var g=a.length,h=0;h<g;h++){var i=a[h];if(i&&!i.Ac)f&=Bd(i,e)!==false}}finally{a.gd--;yd(b,d,c,a)}}return Boolean(f)}function Bd(a,c){var b=a.handleEvent(c);a.te&&xd(a.key);return b}
function Cd(a,c){if(!sd[a])return true;var b=sd[a],d=b.type,e=Y;if(!(d in e))return true;e=e[d];var f,g;if(Vc===undefined)Vc=Ic&&!t.addEventListener;if(Vc){var h;if(!(h=c))a:{h="window.event".split(".");for(var i=t;f=h.shift();)if(i[f])i=i[f];else{h=null;break a}h=i}f=h;h=true in e;i=false in e;if(h){if(f.keyCode<0||f.returnValue!=undefined)return true;a:{var j=false;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(k){j=true}if(j||f.returnValue==undefined)f.returnValue=true}}j=nd();j.bd(f,this);f=true;
try{if(h){for(var l=gd(),m=j.currentTarget;m;m=m.parentNode)l.push(m);g=e[true];g.gb=g.ib;for(var n=l.length-1;!j.zc&&n>=0&&g.gb;n--){j.currentTarget=l[n];f&=Ad(g,l[n],d,true,j)}if(i){g=e[false];g.gb=g.ib;for(n=0;!j.zc&&n<l.length&&g.gb;n++){j.currentTarget=l[n];f&=Ad(g,l[n],d,false,j)}}}else f=Bd(b,j)}finally{if(l){l.length=0;hd(l)}j.ad();od(j)}return f}d=new Xc(c,this);try{f=Bd(b,d)}finally{d.ad()}return f}jd(Cd);zc[zc.length]=function(a){Cd=a(Cd);jd(Cd)};function Dd(){}x(Dd,Wc);p=Dd.prototype;p.ve=true;p.he=null;p.addEventListener=function(a,c,b,d){ud(this,a,c,b,d)};p.removeEventListener=function(a,c,b,d){wd(this,a,c,b,d)};
p.dispatchEvent=function(a){a=a;if(typeof a=="string")a=new W(a,this);else if(a instanceof W)a.target=a.target||this;else{var c=a;a=new W(a.type,this);rd(a,c)}c=1;var b,d=a.type,e=Y;if(d in e){e=e[d];d=true in e;var f;if(d){b=[];for(f=this;f;f=f.he)b.push(f);f=e[true];f.gb=f.ib;for(var g=b.length-1;!a.zc&&g>=0&&f.gb;g--){a.currentTarget=b[g];c&=Ad(f,b[g],a.type,true,a)&&a.wd!=false}}if(false in e){f=e[false];f.gb=f.ib;if(d)for(g=0;!a.zc&&g<b.length&&f.gb;g++){a.currentTarget=b[g];c&=Ad(f,b[g],a.type,
false,a)&&a.wd!=false}else for(b=this;!a.zc&&b&&f.gb;b=b.he){a.currentTarget=b;c&=Ad(f,b,a.type,false,a)&&a.wd!=false}}a=Boolean(c)}else a=true;return a};p.yb=function(){Dd.je.yb.call(this);zd(this);this.he=null};function Ed(){this.Vd=0;this.bc=[];this.Hc=this.Sc=0}function Fd(a){var c=ma();if(a.Xd>0){var b=c-a.Xd;b/=1E3;a.Vd++;if(a.bc.length<Gd){a.bc.push(b);a.Sc+=b;a.Hc=a.Vd/a.Sc}else{var d=a.Vd%a.bc.length;a.Sc-=a.bc[d];a.bc[d]=b;a.Sc+=a.bc[d];a.Hc=a.bc.length/a.Sc}}a.Xd=c;return a.Hc}Ed.prototype.Xd=0;var Gd=100;function Hd(a){this.qc=0;this.jb=[];this.jb.push(nc);this.jb.push(sc);this.jb.push(vc);this.jb.push(tc);this.jb.push(wc);this.Ce=a.width;this.Be=a.height;this.Tc=new za(this.Ce/2-250,this.Be/2-185);this.nd=a.getContext("2d");this.nd.fillStyle="#ffffff";this.nd.translate(this.Tc.x,this.Tc.y);ud(a,"click",function(c){c=new za(c.offsetX,c.offsetY);Ba(c,this.Tc);Math.random()<0.5?uc(this.Q,c.x,c.y,10):yc(this.Q,c.x,c.y,10,10,false)},false,this);this.vf=new Ed;this.Sf=0;this.qc=Math.floor(Math.random()*
this.jb.length);Id(this);this.se()}x(Hd,Dd);function Jd(a,c){if(a.jb.length==0)throw"No demos to load";for(a.qc+=c;a.qc<0;)a.qc+=a.jb.length;a.qc%=a.jb.length;Id(a)}function Id(a){var c=new K;c.F.g(-1000,-1000);c.B.g(1E3,1E3);c=new lc(c,new B(0,300),true);yc(c,250,305,250,5,true,true);yc(c,5,185,5,125,true,true);yc(c,495,185,5,125,true,true);a.Q=c;a.jb[a.qc](a.Q)}
Hd.prototype.se=function(){t.setTimeout(la(this.se,this));var a=this.Q,c=Kd,b,d;a.ud.Pa=c;a.ud.Qd=1;a.ud.Pd=c>0?1/c:0;a.Ke=0;for(var e=a.mc,f=e.Q.aa;f!=null;){var g=f;f=f.p;g.z&2&&Rb(e,g)}a.mc.Wd=true;for(e=a.md;e;){f=e;e=e.p;for(g=f.Z;g;){var h=g;g=g.next;b=a;h=h.Qb;d=h.Bb;if(h.G)h.G.p=h.p;if(h.p)h.p.G=h.G;if(h==b.Z)b.Z=h.p;var i=h.h,j=h.e;ab(i);ab(j);if(h.o.r)h.o.r.next=h.o.next;if(h.o.next)h.o.next.r=h.o.r;if(h.o==i.Z)i.Z=h.o.next;h.o.r=null;h.o.next=null;if(h.q.r)h.q.r.next=h.q.next;if(h.q.next)h.q.next.r=
h.q.r;if(h.q==j.Z)j.Z=h.q.next;h.q.r=null;h.q.next=null;--b.kb;if(d==false)for(h=(i.ac<j.ac?i:j).Gb;h;h=h.p)h.Yc(b.Qa)}for(f=f.Gb;f;){g=f;f=f.p;g.ba!=O&&g.w.Q.Qa.ec(g.ba)}}a.md=null;a.mc.Wd=false;for(e=a.mc.Q.aa;e!=null;e=e.p)if(!((e.I.w.z&Q)==Q&&(e.J.w.z&Q)==Q)){f=e.Da;e.Ec();g=e.Da;if(f==0&&g>0){f=e.I.w;g=e.J.w;b=e.o;h=e.q;b.Ga=e;b.ra=g;b.r=null;b.next=f.aa;if(b.next!=null)b.next.r=e.o;f.aa=e.o;h.Ga=e;h.ra=f;h.r=null;h.next=g.aa;if(h.next!=null)h.next.r=h;g.aa=h}else if(f>0&&g==0){f=e.I.w;g=e.J.w;
b=e.o;h=e.q;if(b.r)b.r.next=b.next;if(b.next)b.next.r=b.r;if(b==f.aa)f.aa=b.next;b.r=null;b.next=null;if(h.r)h.r.next=h.next;if(h.next)h.next.r=h.r;if(h==g.aa)g.aa=h.next;h.r=null;h.next=null}}e=new Wb(a.La,a.Tb,a.kb,a.Uf);for(b=a.pb;b!=null;b=b.p)b.z&=-5;for(f=a.aa;f!=null;f=f.p)f.z&=-2;for(f=a.Z;f!=null;f=f.p)f.tb=false;f=Array(a.La);for(g=0;g<a.La;g++)f[g]=null;for(g=a.pb;g!=null;g=g.p)if(!(g.z&(Za|4|Q|bb))){b=e;b.La=0;b.Tb=0;h=b.kb=0;f[h++]=g;for(g.z|=4;h>0;){d=b=f[--h];e.ob[e.La++]=d;b.z&=~Q;
if(!(b.z&Za)){for(i=b.aa;i!=null;i=i.next)if(!(i.Ga.z&1)){d=i.Ga;e.Ud[e.Tb++]=d;i.Ga.z|=1;d=i.ra;if(!(d.z&4)){f[h++]=d;d.z|=4}}for(b=b.Z;b!=null;b=b.next)if(b.Qb.tb!=true){d=b.Qb;e.Nc[e.kb++]=d;b.Qb.tb=true;d=b.ra;if(!(d.z&4)){f[h++]=d;d.z|=4}}}}e.Fd(a.ud,a.wf);a.Ke=E(a.Ke,Yb);if(a.sf){b=a;h=e;d=c;i=0;j=void 0;var k=Number.MAX_VALUE,l=Ga*Ga;for(i=0;i<h.La;++i){j=h.ob[i];if(j.i!=0){if((j.z&$a)==0)k=j.wc=0;if((j.z&$a)==0||j.l*j.l>l||na(j.f,j.f)>0.09)k=j.wc=0;else{j.wc+=d;k=k<j.wc?k:j.wc}}}if(k>=0.5){for(i=
0;i<h.La;++i){j=h.ob[i];j.z|=Q}h=true}else h=false;b.Wc=h}for(h=0;h<e.La;++h){b=e.ob[h];if(b.z&Za)b.z&=-5;if((b.z&bb)==bb&&a.Ee)if(a.Ee.Jf(b)==1){d=a;b=b;if(!(b.z&32)){if(b.G)b.G.p=b.p;if(b.p)b.p.G=b.G;if(b==d.pb)d.pb=b.p;b.z|=32;--d.La;b.G=null;b.p=d.md;d.md=b}e.ob[h]=null}}}a.nf=a.Qa.Dc();if(!this.Q.Wc){this.nd.clearRect(-this.Tc.x,-this.Tc.y,this.Ce,this.Be);c=this.Q;a=this.nd;for(e=c.Z;e;e=e.p){f=c;g=e;b=a;h=g.h;d=g.e;i=h.c;j=d.c;k=g.Ib();l=g.Jb();b.strokeStyle="#00eeee";b.beginPath();switch(g.qa){case 3:b.moveTo(k.x,
k.y);b.lineTo(l.x,l.y);break;case 4:break;default:if(h==f.oc){b.moveTo(k.x,k.y);b.lineTo(j.x,j.y)}else if(d==f.oc){b.moveTo(k.x,k.y);b.lineTo(i.x,i.y)}else{b.moveTo(i.x,i.y);b.lineTo(k.x,k.y);b.lineTo(j.x,j.y);b.lineTo(l.x,l.y)}break}b.stroke()}for(c=c.pb;c;c=c.p)for(e=c.Gb;e!=null;e=e.gc()){f=e;g=a;g.strokeStyle="#ffffff";g.beginPath();switch(f.qa){case 0:b=f.c;h=f.ja;g.arc(f.c.x,f.c.y,f.ja,0,2*Math.PI,false);g.moveTo(b.x,b.y);d=f.d.a;b=new B(b.x+h*d.x,b.y+h*d.y);g.lineTo(b.x,b.y);break;case 2:b=
oa(f.c,z(f.d,f.u[0]));g.moveTo(b.x,b.y);for(h=0;h<f.Oa;h++){d=oa(f.c,z(f.d,f.u[h]));g.lineTo(d.x,d.y)}g.lineTo(b.x,b.y);break}g.stroke();f.eb=="filled"&&g.fill()}}a=Math.round(Fd(this.vf));this.dispatchEvent(new Ld(a,this.Q.Wc))};function uc(a,c,b,d){d=d||20;var e=new Qa;e.Aa=1;e.vb=d;e.Sa=0.8;e.ab=0.9;d=new L;M(d,e);d.position.g(c,b);return V(a,d)}
function yc(a,c,b,d,e,f,g){if(typeof f=="undefined")f=true;if(typeof g=="undefined")g=false;var h=new Ka;if(!f)h.Aa=1;if(g)h.C="filled";h.S.g(d,e);d=new L;M(d,h);d.position.g(c,b);return V(a,d)}var Kd=1/60;function Ld(a,c){W.call(this,Md);this.Hc=a;this.Wc=c}x(Ld,W);var Md="Demo.FrameEventType";$(window).load(function(){var a=new Hd($("canvas")[0]);$("#previous").click(function(){Jd(a,-1)});$("#reload").click(function(){Jd(a,0)});$("#next").click(function(){Jd(a,1)});var c=0;ud(a,Md,function(b){if(c==0){$("#fps").html(b.Hc+" fps");b.Wc?$("#fps").addClass("sleeping"):$("#fps").removeClass("sleeping")}c++;c%=30});$("canvas").each(function(){this.onselectstart=ba(false);this.unselectable="on";$(this).css("-moz-user-select","none");$(this).css("-webkit-user-select","none")})});
